<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://lsvih.com').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '6U6P1RGK4F',
      apiKey: 'b14e73cdd627eabe947b5decbe14850f',
      indexName: 'lsvih',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="My note">
<meta property="og:url" content="https:&#x2F;&#x2F;lsvih.com&#x2F;page&#x2F;9&#x2F;index.html">
<meta property="og:site_name" content="My note">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://lsvih.com/page/9/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>My note - lsvih</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-142893470-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-142893470-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="My note" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">My note</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">lsvih</h1>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="https://cv.lsvih.com/" rel="noopener" target="_blank"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input" id="search-input"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

  
</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="default">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2017/05/04/%E5%9C%A8-Swift-%E4%B8%AD%E4%BD%BF%E7%94%A8%E9%97%AD%E5%8C%85%E5%AE%9E%E7%8E%B0%E6%87%92%E5%8A%A0%E8%BD%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/05/04/%E5%9C%A8-Swift-%E4%B8%AD%E4%BD%BF%E7%94%A8%E9%97%AD%E5%8C%85%E5%AE%9E%E7%8E%B0%E6%87%92%E5%8A%A0%E8%BD%BD/" class="post-title-link" itemprop="url">åœ¨ Swift ä¸­ä½¿ç”¨é—­åŒ…å®ç°æ‡’åŠ è½½</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-05-04 11:29:38" itemprop="dateCreated datePublished" datetime="2017-05-04T11:29:38+08:00">2017-05-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Translate/" itemprop="url" rel="index">
                    <span itemprop="name">Translate</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="å­¦ä¹ å¦‚ä½•å…¼é¡¾æ¨¡å—åŒ–ä¸å¯è¯»æ€§æ¥åˆ›å»ºå¯¹è±¡"><a href="#å­¦ä¹ å¦‚ä½•å…¼é¡¾æ¨¡å—åŒ–ä¸å¯è¯»æ€§æ¥åˆ›å»ºå¯¹è±¡" class="headerlink" title="å­¦ä¹ å¦‚ä½•å…¼é¡¾æ¨¡å—åŒ–ä¸å¯è¯»æ€§æ¥åˆ›å»ºå¯¹è±¡"></a>å­¦ä¹ å¦‚ä½•å…¼é¡¾æ¨¡å—åŒ–ä¸å¯è¯»æ€§æ¥åˆ›å»ºå¯¹è±¡</h2><h3 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><p>åœ¨æˆ‘åˆšå¼€å§‹å­¦ä¹  iOS å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘åœ¨ YouTube ä¸Šæ‰¾äº†ä¸€äº›æ•™ç¨‹ã€‚æˆ‘å‘ç°è¿™äº›æ•™ç¨‹æœ‰æ—¶å€™ä¼šç”¨ä¸‹é¢è¿™ç§æ–¹å¼æ¥åˆ›å»º UI å¯¹è±¡:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">let makeBox: UIView &#x3D; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> let view &#x3D; UIView()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"> return view</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;()</span></pre></td></tr></table></figure>
<p>ä½œä¸ºä¸€ä¸ªåˆå­¦è€…ï¼Œæˆ‘è‡ªç„¶è€Œç„¶åœ°å¤åˆ¶å¹¶ä½¿ç”¨äº†è¿™ä¸ªä¾‹å­ã€‚ç›´åˆ°æœ‰ä¸€å¤©ï¼Œæˆ‘çš„ä¸€ä¸ªè¯»è€…é—®æˆ‘ï¼šâ€œä¸ºä»€ä¹ˆä½ è¦åŠ ä¸Š<code>{}</code>å‘¢ï¼Ÿæœ€åä¸ºä»€ä¹ˆè¦åŠ ä¸Šä¸€å¯¹<code>()</code>å‘¢ï¼Ÿè¿™æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§å—ï¼Ÿâ€æˆ‘å“‘å£æ— è¨€ï¼Œå› ä¸ºæˆ‘è‡ªå·±ä¹Ÿä¸çŸ¥é“ç­”æ¡ˆã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä¸ºè¿‡å»å¹´è½»çš„è‡ªå·±å†™ä¸‹äº†è¿™ä»½æ•™ç¨‹ã€‚è¯´ä¸å®šè¿˜èƒ½å¸®ä¸Šå…¶ä»–äººçš„å¿™ã€‚</p>
<h3 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>è¿™ç¯‡æ•™ç¨‹æœ‰ä¸€ä¸‹ä¸‰ä¸ªç›®æ ‡ï¼šç¬¬ä¸€ï¼Œäº†è§£å¦‚ä½•åƒå‰é¢çš„ä»£ç ä¸€æ ·ï¼Œéå¸¸è§„åœ°åˆ›å»ºå¯¹è±¡ï¼›ç¬¬äºŒï¼ŒçŸ¥é“ç¼–åœ¨å†™ Swfit ä»£ç æ—¶ï¼Œä»€ä¹ˆæ—¶å€™è¯¥ä½¿ç”¨ <code>lazy var</code>ï¼›ç¬¬ä¸‰ï¼Œå¿«åŠ å…¥æˆ‘çš„é‚®ä»¶åˆ—è¡¨å‘€ã€‚</p>
<h4 id="é¢„å¤‡çŸ¥è¯†"><a href="#é¢„å¤‡çŸ¥è¯†" class="headerlink" title="é¢„å¤‡çŸ¥è¯†"></a>é¢„å¤‡çŸ¥è¯†</h4><p>ä¸ºäº†è®©ä½ èƒ½è½»æ¾æ„‰å¿«åœ°å’Œæˆ‘ä¸€èµ·å®Œæˆè¿™ç¯‡æ•™ç¨‹ï¼Œæˆ‘å¼ºçƒˆæ¨èä½ å…ˆäº†è§£ä¸‹é¢è¿™å‡ ä¸ªæ¦‚å¿µã€‚</p>
<ol>
<li><a href="https://blog.bobthedeveloper.io/no-fear-closure-in-swift-3-with-bob-72a10577c564" target="_blank" rel="noopener"><strong>é—­åŒ…</strong></a></li>
<li><a href="https://juejin.im/post/58e4ac5d44d904006d2a9a19" target="_blank" rel="noopener"><strong>æ•è·åˆ—è¡¨ä¸å¾ªç¯å¼•ç”¨ [weak self]</strong> </a></li>
<li><strong>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡</strong></li>
</ol>
<h3 id="åˆ›å»º-UI-ç»„ä»¶"><a href="#åˆ›å»º-UI-ç»„ä»¶" class="headerlink" title="åˆ›å»º UI ç»„ä»¶"></a>åˆ›å»º UI ç»„ä»¶</h3><p>åœ¨æˆ‘ä»‹ç»â€œéå¸¸è§„â€æ–¹æ³•ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå¤ä¹ ä¸€ä¸‹â€œå¸¸è§„â€æ–¹æ³•ã€‚åœ¨ Swift ä¸­ï¼Œå¦‚æœä½ è¦åˆ›å»ºä¸€ä¸ªæŒ‰é’®ï¼Œä½ åº”è¯¥ä¼šè¿™ä¹ˆåšï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; è®¾å®šå°ºå¯¸</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">let buttonSize &#x3D; CGRect(x: 0, y: 0, width: 100, height: 100)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; åˆ›å»ºæ§ä»¶</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">let bobButton &#x3D; UIButton(frame: buttonSize)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">bobButton.backgroundColor &#x3D; .black</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">bobButton.titleLabel?.text &#x3D; &quot;Bob&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">bobButton.titleLabel?.textColor &#x3D; .white</span></pre></td></tr></table></figure>
<p>è¿™æ ·åš<strong>æ²¡é—®é¢˜</strong>ã€‚</p>
<p>å‡è®¾ç°åœ¨ä½ è¦åˆ›å»ºå¦å¤–ä¸‰ä¸ªæŒ‰é’®ï¼Œä½ å¾ˆå¯èƒ½ä¼šæŠŠä¸Šé¢çš„ä»£ç å¤åˆ¶ï¼Œç„¶åæŠŠå˜é‡åä» <code>bobButton</code> æ”¹æˆ <code>bobbyButton</code>ã€‚</p>
<p>è¿™æœªå…ä¹Ÿå¤ªæ¯ç‡¥äº†å§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; New Button </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">let bobbyButton &#x3D; UIButton(frame: buttonSize)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">bobbyButton.backgroundColor &#x3D; .black</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">bobbyButton.titleLabel?.text &#x3D; &quot;Bob&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">bobbyButton.titleLabel?.textColor &#x3D; .white</span></pre></td></tr></table></figure>
<p>ä¸ºäº†æ–¹ä¾¿ï¼Œä½ å¯ä»¥ï¼š</p>
<p><img src="/images/pasted-152.png" alt="upload successful"></p>
<p>ä½¿ç”¨å¿«æ·é”®ï¼šctrl-cmd-e æ¥å®Œæˆè¿™ä¸ªå·¥ä½œã€‚</p>
<p>å¦‚æœä½ ä¸æƒ³åšé‡å¤çš„å·¥ä½œï¼Œä½ ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªå‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">func createButton(enterTitle: String) -&gt; UIButton &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> let button &#x3D; UIButton(frame: buttonSize)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"> button.backgroundColor &#x3D; .black</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"> button.titleLabel?.text &#x3D; enterTitle</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"> return button</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">createButton(enterTitle: &quot;Yoyo&quot;) &#x2F;&#x2F;  ğŸ‘</span></pre></td></tr></table></figure>
<p>ç„¶è€Œï¼Œåœ¨ iOS å¼€å‘ä¸­ï¼Œå¾ˆå°‘ä¼šçœ‹åˆ°ä¸€å †ä¸€æ¨¡ä¸€æ ·çš„æŒ‰é’®ã€‚å› æ­¤ï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦æ¥å—æ›´å¤šçš„å‚æ•°ï¼Œå¦‚èƒŒæ™¯é¢œè‰²ã€æ–‡å­—ã€åœ†è§’å°ºå¯¸ã€é˜´å½±ç­‰ç­‰ã€‚ä½ çš„å‡½æ•°æœ€åå¯èƒ½ä¼šå˜æˆè¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">func createButton(title: String, borderWidth: Double, backgrounColor, ...) -&gt; Button</span></pre></td></tr></table></figure>
<p>ä½†æ˜¯ï¼Œå³ä½¿ä½ ä¸ºè¿™ä¸ªå‡½æ•°åŠ ä¸Šäº†é»˜è®¤å‚æ•°ï¼Œä¸Šé¢çš„ä»£ç ä¾ç„¶ä¸ç†æƒ³ã€‚è¿™æ ·çš„è®¾è®¡é™ä½äº†ä»£ç çš„å¯è¯»æ€§ã€‚å› æ­¤ï¼Œæ¯”èµ·è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜æ˜¯é‡‡ç”¨ä¸Šé¢é‚£ä¸ªâ€å•è°ƒâ€œçš„æ–¹æ³•ä¸ºå¦™ã€‚</p>
<p>åˆ°åº•æœ‰æ²¡æœ‰åŠæ³•è®©æˆ‘ä»¬æ—¢ä¸é‚£ä¹ˆæ¯ç‡¥ï¼Œè¿˜èƒ½è®©ä»£ç æ›´æœ‰æ¡ç†å‘¢ï¼Ÿå½“ç„¶å’¯ã€‚æˆ‘ä»¬ç°åœ¨åªæ˜¯å¤ä¹ ä½ è¿‡å»çš„åšæ³•â€”â€”æ˜¯æ—¶å€™æ›´ä¸Šä¸€å±‚æ¥¼ï¼Œå±•æœ›ä½ æœªæ¥çš„åšæ³•äº†ã€‚</p>
<h3 id="ä»‹ç»â€éå¸¸è§„â€œæ–¹æ³•"><a href="#ä»‹ç»â€éå¸¸è§„â€œæ–¹æ³•" class="headerlink" title="ä»‹ç»â€éå¸¸è§„â€œæ–¹æ³•"></a>ä»‹ç»â€éå¸¸è§„â€œæ–¹æ³•</h3><p>åœ¨æˆ‘ä»¬ä½¿ç”¨â€éå¸¸è§„â€œæ–¹æ³•åˆ›å»º UI ç»„ä»¶ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå›ç­”ä¸€ä¸‹æœ€å¼€å§‹é‚£ä¸ªè¯»è€…çš„é—®é¢˜ã€‚<code>{}</code>æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå®ƒæ˜¯ä¸€ä¸ª<code>è®¡ç®—å±æ€§</code>å—ï¼Ÿ</p>
<p><strong>å½“ç„¶ä¸æ˜¯ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªé—­åŒ…</strong>ã€‚</p>
<p>é¦–å…ˆï¼Œè®©æˆ‘æ¥ç¤ºèŒƒä¸€ä¸‹å¦‚ä½•ç”¨é—­åŒ…æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªåä¸º<code>Human</code>çš„ç»“æ„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">struct Human &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> init() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  print(&quot;Born 1996&quot;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"> &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œè®©ä½ çœ‹çœ‹æ€ä¹ˆç”¨é—­åŒ…åˆ›å»ºå¯¹è±¡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">let createBob &#x3D; &#123; () -&gt; Human in</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> let human &#x3D; Human()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"> return human</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">let babyBob &#x3D; createBob() &#x2F;&#x2F; &quot;Born 1996&quot;</span></pre></td></tr></table></figure>
<p><strong>å¦‚æœä½ ä¸ç†Ÿæ‚‰è¿™æ®µè¯­æ³•ï¼Œè¯·å…ˆåœæ­¢é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œå»çœ‹çœ‹</strong> <a href="https://blog.bobthedeveloper.io/no-fear-closure-in-swift-3-with-bob-72a10577c564" target="_blank" rel="noopener"><strong>Fear No Closure with Bob</strong></a> <strong>å……å……ç”µå§ã€‚</strong></p>
<p>è§£é‡Šä¸€ä¸‹ï¼Œ<code>createBob</code> æ˜¯ä¸€ä¸ªç±»å‹ä¸º <code>()-&gt; Human</code> çš„é—­åŒ…ã€‚ä½ å·²ç»é€šè¿‡è°ƒç”¨ <code>createBob()</code> åˆ›å»ºå¥½äº†ä¸€ä¸ª <code>babyBob</code> å®ä¾‹ã€‚</p>
<p>ç„¶è€Œï¼Œè¿™æ ·åšä½ åˆ›å»ºäº†ä¸¤ä¸ªå¸¸é‡ï¼š<code>createBob</code> ä¸ <code>babyBob</code>ã€‚å¦‚ä½•æŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½æ”¾åœ¨ä¸€ä¸ªå£°æ˜ä¸­å‘¢ï¼Ÿè¯·çœ‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">let bobby &#x3D; &#123; () -&gt; Human in</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> let human &#x3D; Human()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"> return human</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;()</span></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œè¿™ä¸ªé—­åŒ…é€šè¿‡åœ¨æœ€ååŠ ä¸Š <code>()</code> æ‰§è¡Œäº†è‡ªå·±ï¼Œ<code>bobby</code> ç°åœ¨è¢«èµ‹å€¼ä¸ºä¸€ä¸ª <code>Human</code> å¯¹è±¡ã€‚å¹²çš„æ¼‚äº®ï¼</p>
<p><strong>ç°åœ¨ä½ å·²ç»å­¦ä¼šäº†ä½¿ç”¨é—­åŒ…æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡</strong></p>
<p>è®©æˆ‘ä»¬åº”ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæ¨¡ä»¿ä¸Šé¢çš„ä¾‹å­æ¥åˆ›å»ºä¸€ä¸ª UI å¯¹è±¡å§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">let bobView &#x3D; &#123; () -&gt; UIView in</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> let view &#x3D; UIView()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"> view.backgroundColor &#x3D; .black</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"> return view</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;()</span></pre></td></tr></table></figure>
<p>å¾ˆå¥½ï¼Œæˆ‘ä»¬è¿˜èƒ½è®©å®ƒæ›´ç®€æ´ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¸ºé—­åŒ…æŒ‡å®šç±»å‹ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‡å®š <code>bobView</code> å®ä¾‹çš„ç±»å‹å°±å¤Ÿäº†ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">let bobbyView: **UIView** &#x3D; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> let view &#x3D; UIView()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"> view.backgroundColor &#x3D; .black</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"> return view</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;()</span></pre></td></tr></table></figure>
<p>Swift èƒ½å¤Ÿé€šè¿‡å…³é”®å­— <code>return</code> æ¨å¯¼å‡ºè¿™ä¸ªé—­åŒ…çš„ç±»å‹æ˜¯ <code>() -&gt; UIView</code>ã€‚</p>
<p>ç°åœ¨çœ‹çœ‹ï¼Œä¸Šé¢çš„ä¾‹å­å·²ç»å’Œæˆ‘ä¹‹å‰å®³æ€•çš„â€œéå¸¸è§„æ–¹å¼â€ä¸€æ ·äº†ã€‚</p>
<h3 id="ä½¿ç”¨é—­åŒ…åˆ›å»ºçš„å¥½å¤„"><a href="#ä½¿ç”¨é—­åŒ…åˆ›å»ºçš„å¥½å¤„" class="headerlink" title="ä½¿ç”¨é—­åŒ…åˆ›å»ºçš„å¥½å¤„"></a>ä½¿ç”¨é—­åŒ…åˆ›å»ºçš„å¥½å¤„</h3><p>æˆ‘ä»¬å·²ç»è®¨è®ºäº†ç›´æ¥åˆ›å»ºå¯¹è±¡çš„å•è°ƒå’Œä½¿ç”¨æ„é€ å‡½æ•°å¸¦æ¥çš„é—®é¢˜ã€‚ç°åœ¨ä½ å¯èƒ½ä¼šæƒ³â€œä¸ºä»€ä¹ˆæˆ‘éå¾—ç”¨é—­åŒ…æ¥åˆ›å»ºï¼Ÿâ€</p>
<h4 id="é‡å¤èµ·æ¥æ›´å®¹æ˜“"><a href="#é‡å¤èµ·æ¥æ›´å®¹æ˜“" class="headerlink" title="é‡å¤èµ·æ¥æ›´å®¹æ˜“"></a>é‡å¤èµ·æ¥æ›´å®¹æ˜“</h4><p>æˆ‘ä¸å–œæ¬¢ç”¨ Storyboardï¼Œæˆ‘æ¯”è¾ƒå–œæ¬¢å¤åˆ¶ç²˜è´´ç”¨ä»£ç æ¥åˆ›å»º UI å¯¹è±¡ã€‚å®é™…ä¸Šï¼Œåœ¨æˆ‘çš„ç”µè„‘é‡Œæœ‰ä¸€ä¸ªâ€œä»£ç åº“â€ã€‚å‡è®¾åº“é‡Œæœ‰ä¸ªæŒ‰é’®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">let myButton: UIButton &#x3D; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> let button &#x3D; UIButton(frame: buttonSize)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"> button.backgroundColor &#x3D; .black</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"> button.titleLabel?.text &#x3D; &quot;Button&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"> button.titleLabel?.textColor &#x3D; .white</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"> button.layer.cornerRadius &#x3D; </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"> button.layer.masksToBounds &#x3D; true</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">return button</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;()</span></pre></td></tr></table></figure>
<p>æˆ‘åªéœ€è¦æŠŠå®ƒæ•´ä¸ªå¤åˆ¶ï¼Œç„¶åæŠŠåå­—ä» <code>myButton</code> æ”¹æˆ <code>newButtom</code> å°±è¡Œäº†ã€‚åœ¨æˆ‘ç”¨é—­åŒ…ä¹‹å‰ï¼Œæˆ‘å¾—é‡å¤åœ°æŠŠ <code>myButton</code> æ”¹æˆ <code>newButtom</code> ï¼Œç”šè‡³è¦æ”¹ä¸Šä¸ƒå…«éã€‚æˆ‘ä»¬è™½ç„¶å¯ä»¥ç”¨ Xcode çš„å¿«æ·é”®ï¼Œä½†ä¸ºå•¥ä¸ä½¿ç”¨é—­åŒ…ï¼Œè®©è¿™ä»¶äº‹æ›´ç®€å•å‘¢ï¼Ÿ</p>
<h4 id="çœ‹èµ·æ¥æ›´ç®€æ´"><a href="#çœ‹èµ·æ¥æ›´ç®€æ´" class="headerlink" title="çœ‹èµ·æ¥æ›´ç®€æ´"></a>çœ‹èµ·æ¥æ›´ç®€æ´</h4><p>ç”±äºå¯¹è±¡å¯¹è±¡ä¼šè‡ªå·±ç¼–å¥½ç»„ï¼Œåœ¨æˆ‘çœ‹æ¥å®ƒæ›´åŠ çš„ç®€æ´ã€‚è®©æˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ä½¿ç”¨é—­åŒ…åˆ›å»º </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">let leftCornerButton: UIButton &#x3D; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"> let button &#x3D; UIButton(frame: buttonSize)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"> button.backgroundColor &#x3D; .black</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"> button.titleLabel?.text &#x3D; &quot;Button&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"> button.titleLabel?.textColor &#x3D; .white</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"> button.layer.cornerRadius &#x3D; </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"> button.layer.masksToBounds &#x3D; true</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">return button</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">let rightCornerButton: UIButton &#x3D; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"> let button &#x3D; UIButton(frame: buttonSize)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"> button.backgroundColor &#x3D; .black</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"> button.titleLabel?.text &#x3D; &quot;Button&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"> button.titleLabel?.textColor &#x3D; .white</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"> button.layer.cornerRadius &#x3D; </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"> button.layer.masksToBounds &#x3D; true</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">return button</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">&#125;()</span></pre></td></tr></table></figure>
<p>vs</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; æ‰‹åŠ¨åˆ›å»º</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">let leftCornerButton &#x3D; UIButton(frame: buttonSize)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">leftCornerButton.backgroundColor &#x3D; .black</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">leftCornerButton.titleLabel?.text &#x3D; &quot;Button&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">leftCornerButton.titleLabel?.textColor &#x3D; .white</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">leftCornerButton.layer.cornerRadius &#x3D; </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">leftCornerButton.layer.masksToBounds &#x3D; true</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">let rightCornerButton &#x3D; UIButton(frame: buttonSize)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">rightCornerButton.backgroundColor &#x3D; .black</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">rightCornerButton.titleLabel?.text &#x3D; &quot;Button&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">rightCornerButton.titleLabel?.textColor &#x3D; .white</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">rightCornerButton.layer.cornerRadius &#x3D; </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">rightCornerButton.layer.masksToBounds &#x3D; true</span></pre></td></tr></table></figure>
<p>å°½ç®¡ä½¿ç”¨é—­åŒ…åˆ›å»ºå¯¹è±¡è¦å¤šå‡ºå‡ è¡Œï¼Œä½†æ˜¯æ¯”èµ·è¦åœ¨ <code>rightCornerButton</code> æˆ–è€… <code>leftCornerButton</code> åé¢ç‹‚åŠ å±æ€§ï¼Œæˆ‘è¿˜æ˜¯æ›´å–œæ¬¢åœ¨ <code>button</code> åé¢åŠ å±æ€§ã€‚</p>
<p><strong>å®é™…ä¸Šå¦‚æœæŒ‰é’®çš„å‘½åç‰¹åˆ«è¯¦ç»†æ—¶ï¼Œç”¨é—­åŒ…åˆ›å»ºå¯¹è±¡è¿˜å¯ä»¥å°‘å‡ è¡Œã€‚</strong></p>
<p><strong>æ­å–œä½ ï¼Œä½ å·²ç»å®Œæˆäº†æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç›®æ ‡</strong></p>
<h3 id="æ‡’åŠ è½½çš„åº”ç”¨"><a href="#æ‡’åŠ è½½çš„åº”ç”¨" class="headerlink" title="æ‡’åŠ è½½çš„åº”ç”¨"></a>æ‡’åŠ è½½çš„åº”ç”¨</h3><p>è¾›è‹¦äº†ï¼ç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªæ•™ç¨‹çš„ç¬¬äºŒä¸ªç›®æ ‡å§ã€‚</p>
<p>ä½ å¯èƒ½çœ‹è¿‡ä¸ä¸‹é¢ç±»ä¼¼çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">class IntenseMathProblem &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> lazy var complexNumber: Int &#x3D; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  &#x2F;&#x2F; è¯·æƒ³è±¡è¿™å„¿è¦è€—è´¹å¾ˆå¤šCPUèµ„æº</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  1 * 1</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"> &#125;()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p><code>lazy</code> çš„ä½œç”¨æ˜¯ï¼Œè®© <code>complexNumber</code> å±æ€§åªæœ‰åœ¨ä½ è¯•å›¾è®¿é—®å®ƒçš„æ—¶å€™æ‰ä¼šè¢«è®¡ç®—ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">let problem &#x3D; IntenseMathProblem </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">problem()  &#x2F;&#x2F; æ­¤æ—¶complexNumberæ²¡æœ‰å€¼</span></pre></td></tr></table></figure>
<p>æ²¡é”™ï¼Œç°åœ¨ <code>complexNumber</code> æ²¡æœ‰å€¼ã€‚ç„¶è€Œï¼Œä¸€æ—¦ä½ è®¿é—®è¿™ä¸ªå±æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">problem().complexNumber &#x2F;&#x2F; ç°åœ¨å›è¿”å›1</span></pre></td></tr></table></figure>
<p><code>lazy var</code> ç»å¸¸ç”¨äºæ•°æ®åº“æ’åºæˆ–è€…ä»åç«¯å–æ•°æ®ï¼Œå› ä¸ºä½ å¹¶ä¸æƒ³åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™å°±æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½è®¡ç®—ã€æ’åºã€‚</p>
<p><strong>å®é™…ä¸Šï¼Œç”±äºå¯¹è±¡å¤ªå¤§äº†å¯¼è‡´ RAM æ’‘ä¸ä½ï¼Œä½ çš„æ‰‹æœºå°±ä¼šå´©æºƒã€‚</strong></p>
<h3 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h3><p>ä»¥ä¸‹æ˜¯ <code>lazy var</code> çš„åº”ç”¨ï¼š</p>
<h4 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">class SortManager &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> lazy var sortNumberFromDatabase: [Int] &#x3D; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  &#x2F;&#x2F; æ’åºé€»è¾‘</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  return [1, 2, 3, 4]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"> &#125;()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<h4 id="å›¾ç‰‡å‹ç¼©"><a href="#å›¾ç‰‡å‹ç¼©" class="headerlink" title="å›¾ç‰‡å‹ç¼©"></a>å›¾ç‰‡å‹ç¼©</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">class CompressionManager &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> lazy var compressedImage: UIImage &#x3D; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  let image &#x3D; UIImage()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  &#x2F;&#x2F; å‹ç¼©å›¾ç‰‡çš„</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &#x2F;&#x2F; é€»è¾‘</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  return image</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"> &#125;()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<h3 id="Lazyçš„ä¸€äº›è§„å®š"><a href="#Lazyçš„ä¸€äº›è§„å®š" class="headerlink" title="Lazyçš„ä¸€äº›è§„å®š"></a><code>Lazy</code>çš„ä¸€äº›è§„å®š</h3><ol>
<li>ä½ ä¸èƒ½æŠŠ <code>lazy</code> å’Œ <code>let</code> ä¸€èµ·ç”¨ï¼Œå› ä¸ºç”¨ <code>lazy</code> æ—¶æ²¡æœ‰åˆå€¼ï¼Œåªæœ‰å½“è¢«è®¿é—®æ—¶æ‰ä¼šè·å¾—å€¼ã€‚</li>
<li>ä½ ä¸èƒ½æŠŠå®ƒå’Œ <code>è®¡ç®—å±æ€§</code> ä¸€èµ·ç”¨ï¼Œå› ä¸ºåœ¨ä½ ä¿®æ”¹ä»»ä½•ä¸ <code>lazy</code> çš„è®¡ç®—å±æ€§æœ‰å…³çš„å˜é‡æ—¶ï¼Œè®¡ç®—å±æ€§éƒ½ä¼šè¢«é‡æ–°è®¡ç®—ï¼ˆè€—è´¹ CPU èµ„æºï¼‰ã€‚</li>
<li><code>Lazy</code> åªèƒ½æ˜¯ç»“æ„æˆ–ç±»çš„æˆå‘˜ã€‚</li>
</ol>
<h3 id="Lazy-èƒ½è¢«æ•è·å—ï¼Ÿ"><a href="#Lazy-èƒ½è¢«æ•è·å—ï¼Ÿ" class="headerlink" title="Lazy èƒ½è¢«æ•è·å—ï¼Ÿ"></a>Lazy èƒ½è¢«æ•è·å—ï¼Ÿ</h3><p>å¦‚æœä½ è¯»è¿‡æˆ‘çš„å‰ä¸€ç¯‡æ–‡ç« <a href="https://juejin.im/post/58e4ac5d44d904006d2a9a19" target="_blank" rel="noopener">ã€ŠSwift é—­åŒ…å’Œä»£ç†ä¸­çš„å¾ªç¯å¼•ç”¨ã€‹</a>ï¼Œä½ å°±ä¼šæ˜ç™½è¿™ä¸ªé—®é¢˜ã€‚è®©æˆ‘ä»¬è¯•ä¸€è¯•å§ã€‚åˆ›å»ºä¸€ä¸ªåå« <code>BobGreet</code> çš„ç±»ï¼Œå®ƒæœ‰ä¸¤ä¸ªå±æ€§ï¼šä¸€ä¸ªæ˜¯ç±»å‹ä¸º <code>String</code> çš„ <code>name</code>ï¼Œä¸€ä¸ªæ˜¯ç±»å‹ä¸º <code>String</code> ä½†æ˜¯ä½¿ç”¨é—­åŒ…åˆ›å»ºçš„ <code>greeting</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">class BobGreet &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"> var name &#x3D; &quot;Bob the Developer&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"> lazy var greeting: String &#x3D; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  return &quot;Hello, \(self.name)&quot;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"> &#125;()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">deinit &#123; </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  print(&quot;I&#39;m gone, bruh ğŸ™†&quot;)&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"> &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p>é—­åŒ…<strong>å¯èƒ½</strong>å¯¹ <code>BobGuest</code> æœ‰å¼ºå¼•ç”¨ï¼Œè®©æˆ‘ä»¬å°è¯•ç€ deallocate å®ƒã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">var bobGreet: BobGreet? &#x3D; BobClass()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">bobGreet?.greeting</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">bobClass &#x3D; nil &#x2F;&#x2F; I&#39;m gone, bruh ğŸ™†</span></pre></td></tr></table></figure>
<p>ä¸ç”¨æ‹…å¿ƒ <code>[unowned self]</code>ï¼Œé—­åŒ…å¹¶æ²¡æœ‰å¯¹å¯¹è±¡å­˜åœ¨å¼•ç”¨ã€‚ç›¸åï¼Œå®ƒä»…ä»…æ˜¯åœ¨é—­åŒ…å†…å¤åˆ¶äº† <code>self</code>ã€‚å¦‚æœä½ å¯¹å‰é¢çš„ä»£ç å£°æ˜æœ‰ç–‘é—®ï¼Œå¯ä»¥è¯»è¯» <a href="https://blog.bobthedeveloper.io/swift-capture-list-in-closures-e28282c71b95" target="_blank" rel="noopener">Swift Capture Lists</a> æ¥äº†è§£æ›´å¤šè¿™æ–¹é¢çš„çŸ¥è¯†ã€‚ğŸ‘</p>
<h3 id="æœ€åçš„å” å¨"><a href="#æœ€åçš„å” å¨" class="headerlink" title="æœ€åçš„å” å¨"></a>æœ€åçš„å” å¨</h3><p>æˆ‘åœ¨å‡†å¤‡è¿™ç¯‡æ•™ç¨‹çš„è¿‡ç¨‹ä¸­ä¹Ÿå­¦åˆ°äº†å¾ˆå¤šï¼Œå¸Œæœ›ä½ ä¹Ÿä¸€æ ·ã€‚æ„Ÿè°¢ä½ ä»¬çš„çƒ­æƒ…â¤ï¸ï¼ä¸è¿‡è¿™ç¯‡æ–‡ç« è¿˜å‰©ä¸€ç‚¹ï¼šæˆ‘çš„æœ€åä¸€ä¸ªç›®æ ‡ã€‚å¦‚æœä½ å¸Œæœ›åŠ å…¥æˆ‘çš„é‚®ä»¶åˆ—è¡¨ä»¥è·å¾—æ›´å¤šæœ‰ä»·å€¼çš„ä¿¡æ¯çš„è¯ï¼Œä½ å¯ä»¥ç‚¹ <a href="https://boblee.typeform.com/to/oR9Nt2" target="_blank" rel="noopener"><strong>è¿™é‡Œ</strong></a>æ³¨å†Œã€‚</p>
<p>æ­£å¦‚å°é¢ç…§ç‰‡æ‰€ç¤ºï¼Œæˆ‘æœ€è¿‘ä¹°äº† Magic Keyboard å’Œ Magic Mouseã€‚å®ƒä»¬è¶…çº§æ£’ï¼Œå¸®æˆ‘æå‡äº†å¾ˆå¤šçš„æ•ˆç‡ã€‚ä½ å¯ä»¥åœ¨ <a href="http://amzn.to/2noHxgl" target="_blank" rel="noopener">è¿™å„¿</a>ä¹°é¼ æ ‡ï¼Œåœ¨ <a href="http://amzn.to/2noHxgl" target="_blank" rel="noopener">è¿™å„¿</a>ä¹°é”®ç›˜ã€‚æˆ‘æ‰ä¸ä¼šå› ä¸ºå®ƒä»¬çš„ä»·æ ¼å¿ƒç–¼å‘¢ã€‚ğŸ˜“</p>
<blockquote>
<p><a href="https://github.com/bobthedev/Blog_Lazy_Init_with_Closures" target="_blank" rel="noopener">æœ¬æ–‡çš„æºç </a> </p>
</blockquote>
<h3 id="æˆ‘å°†è¦å‚åŠ -Swift-è®¨è®ºä¼š"><a href="#æˆ‘å°†è¦å‚åŠ -Swift-è®¨è®ºä¼š" class="headerlink" title="æˆ‘å°†è¦å‚åŠ  Swift è®¨è®ºä¼š"></a>æˆ‘å°†è¦å‚åŠ  Swift è®¨è®ºä¼š</h3><p>æˆ‘å°†åœ¨ 6 æœˆ 1 æ—¥è‡³ 6 æœˆ 2 æ—¥ å‚åŠ æˆ‘æœ‰ç”Ÿä»¥æ¥çš„ç¬¬ä¸€æ¬¡è®¨è®ºä¼š @<a href="https://twitter.com/SwiftAveiro" target="_blank" rel="noopener">SwiftAveir</a>ï¼Œ æˆ‘çš„æœ‹å‹ <a href="https://twitter.com/NSMyself" target="_blank" rel="noopener">Joao</a>ååŠ©ç»„ç»‡äº†è¿™æ¬¡ä¼šè®®ï¼Œæ‰€ä»¥æˆ‘éå¸¸ excitedã€‚ä½ å¯ä»¥ç‚¹<a href="http://swiftaveiro.xyz" target="_blank" rel="noopener">è¿™å„¿</a>äº†è§£è¿™ä»¶äº‹ çš„è¯¦æƒ…ï¼</p>
<h4 id="æ–‡ç« æ¨è"><a href="#æ–‡ç« æ¨è" class="headerlink" title="æ–‡ç« æ¨è"></a>æ–‡ç« æ¨è</h4><blockquote>
<p>å‡½æ•°å¼ç¼–ç¨‹ç®€ä»‹ (<a href="https://blog.bobthedeveloper.io/intro-to-swift-functional-programming-with-bob-9c503ca14f13" target="_blank" rel="noopener">Blog</a>)</p>
<p>æˆ‘æœ€çˆ±çš„ XCode å¿«æ·é”® (<a href="https://blog.bobthedeveloper.io/intro-to-swift-functional-programming-with-bob-9c503ca14f13" target="_blank" rel="noopener">Blog</a> )</p>
</blockquote>
<h3 id="å…³äºæˆ‘"><a href="#å…³äºæˆ‘" class="headerlink" title="å…³äºæˆ‘"></a>å…³äºæˆ‘</h3><p>æˆ‘æ˜¯ä¸€åæ¥è‡ªé¦–å°”çš„ iOS è¯¾ç¨‹æ•™å¸ˆï¼Œä½ å¯ä»¥åœ¨ <a href="https://instagram.com/bobthedev" target="_blank" rel="noopener">Instagram</a> ä¸Šäº†è§£æˆ‘ã€‚æˆ‘ä¼šç»å¸¸åœ¨ <a href="https://facebook.com/bobthedeveloper" target="_blank" rel="noopener">Facebook Page</a> æŠ•ç¨¿ï¼ŒæŠ•ç¨¿æ—¶é—´ä¸€èˆ¬åœ¨åŒ—äº¬æ—¶é—´ä¸Šåˆ9ç‚¹ï¼ˆSat 8pm ESTï¼‰ã€‚</p>
<hr>
<blockquote>
<p>å‘å¸ƒäºæ˜é‡‘ <a href="https://juejin.im/post/590a9eeab123db00549776ee" target="_blank" rel="noopener">https://juejin.im/post/590a9eeab123db00549776ee</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="default">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2017/05/04/ES6-%E6%A8%A1%E5%9D%97%E5%8E%9F%E7%94%9F%E6%94%AF%E6%8C%81%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E8%90%BD%E5%9C%B0%EF%BC%8C%E6%98%AF%E6%97%B6%E5%80%99%E8%AF%A5%E9%87%8D%E6%96%B0%E8%80%83%E8%99%91%E6%89%93%E5%8C%85%E4%BA%86%E5%90%97%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/05/04/ES6-%E6%A8%A1%E5%9D%97%E5%8E%9F%E7%94%9F%E6%94%AF%E6%8C%81%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E8%90%BD%E5%9C%B0%EF%BC%8C%E6%98%AF%E6%97%B6%E5%80%99%E8%AF%A5%E9%87%8D%E6%96%B0%E8%80%83%E8%99%91%E6%89%93%E5%8C%85%E4%BA%86%E5%90%97%EF%BC%9F/" class="post-title-link" itemprop="url">ES6 æ¨¡å—åŸç”Ÿæ”¯æŒåœ¨æµè§ˆå™¨ä¸­è½åœ°ï¼Œæ˜¯æ—¶å€™è¯¥é‡æ–°è€ƒè™‘æ‰“åŒ…äº†å—ï¼Ÿ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-05-04 11:17:00" itemprop="dateCreated datePublished" datetime="2017-05-04T11:17:00+08:00">2017-05-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Translate/" itemprop="url" rel="index">
                    <span itemprop="name">Translate</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="/images/pasted-145.png" alt="upload successful"></p>
<p>æœ€è¿‘ä¸€æ®µæ—¥å­ï¼Œç¼–å†™é«˜æ•ˆçš„ JavaScript åº”ç”¨å˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚æ—©åœ¨å‡ å¹´å‰ï¼Œå¤§å®¶éƒ½å¼€å§‹åˆå¹¶è„šæœ¬æ¥å‡å°‘ HTTP è¯·æ±‚æ•°ï¼›åæ¥æœ‰äº†å‹ç¼©å·¥å…·ï¼Œäººä»¬ä¸ºäº†å‹ç¼©ä»£ç è€Œç¼©çŸ­å˜é‡åï¼Œç”šè‡³è¿ä»£ç çš„æœ€åä¸€å­—èŠ‚éƒ½è¦çœå‡ºæ¥ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬æœ‰äº† <a href="https://blog.engineyard.com/2016/tree-shaking" target="_blank" rel="noopener">tree shaking</a> å’Œå„ç§æ¨¡å—æ‰“åŒ…å™¨ï¼Œæˆ‘ä»¬ä¸ºäº†ä¸åœ¨é¦–å±åŠ è½½æ—¶é˜»å¡ä¸»è¿›ç¨‹åˆå¼€å§‹è¿›è¡Œä»£ç åˆ†å‰²ï¼ŒåŠ å¿«<a href="https://developers.google.com/web/tools/lighthouse/audits/time-to-interactive" target="_blank" rel="noopener">äº¤äº’æ—¶é—´</a>ã€‚æˆ‘ä»¬è¿˜å¼€å§‹è½¬è¯‘ä¸€åˆ‡ä¸œè¥¿ï¼šæ„Ÿè°¢ Babelï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ç°åœ¨å°±ä½¿ç”¨æœªæ¥çš„ç‰¹æ€§ã€‚</p>
<p>ES6 æ¨¡å—ç”± ECMAScript æ ‡å‡†åˆ¶å®šï¼Œ<a href="http://2ality.com/2014/09/es6-modules-final.html" target="_blank" rel="noopener">å®šç¨¿æœ‰äº›æ—¶æ—¥äº†</a>ã€‚ç¤¾åŒºä¸ºå®ƒå†™äº†å¾ˆå¤šçš„æ–‡ç« ï¼Œè®²è§£å¦‚ä½•é€šè¿‡ Babel ä½¿ç”¨å®ƒä»¬ï¼Œä»¥åŠ <code>import</code> å’Œ Node.js çš„  <code>require</code> çš„åŒºåˆ«ã€‚ä½†æ˜¯è¦åœ¨æµè§ˆå™¨ä¸­çœŸæ­£å®ç°å®ƒè¿˜éœ€è¦ä¸€ç‚¹æ—¶é—´ã€‚æˆ‘æƒŠå–œåœ°å‘ç° Safari åœ¨å®ƒçš„ technology preview ç‰ˆæœ¬ä¸­ç¬¬ä¸€ä¸ªè£…è½½äº† ES6 æ¨¡å—ï¼Œå¹¶ä¸” Edge å’Œ Firefox Nightly ç‰ˆæœ¬ä¹Ÿå°†è¦æ”¯æŒ ES6 æ¨¡å—â€”â€”è™½ç„¶ç›®å‰è¿˜ä¸æ”¯æŒã€‚åœ¨ä½¿ç”¨ <code>RequireJS</code> å’Œ <code>Browserify</code> ä¹‹ç±»çš„å·¥å…·åï¼ˆè¿˜è®°å¾—å…³äº <a href="https://addyosmani.com/writing-modular-js/" target="_blank" rel="noopener">AMD ä¸ CommonJS  çš„è®¨è®ºå—</a>ï¼Ÿï¼‰ï¼Œè‡³å°‘çœ‹èµ·æ¥æµè§ˆå™¨ç»ˆäºèƒ½æ”¯æŒæ¨¡å—äº†ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹æ˜æœ—çš„æœªæ¥å¸¦æ¥äº†æ€æ ·çš„ç¤¼ç‰©å§ï¼ğŸ‰</p>
<h2 id="ä¼ ç»Ÿæ–¹æ³•"><a href="#ä¼ ç»Ÿæ–¹æ³•" class="headerlink" title="ä¼ ç»Ÿæ–¹æ³•"></a>ä¼ ç»Ÿæ–¹æ³•</h2><p>æ„å»º web åº”ç”¨çš„å¸¸ç”¨æ–¹å¼å°±æ˜¯ä½¿ç”¨ç”± Browserifyã€Rollupã€Webpack ç­‰å·¥å…·æ„å»ºçš„ä»£ç åŒ…ï¼ˆbundleï¼‰ã€‚è€Œä¸ä½¿ç”¨ SPAï¼ˆå•é¡µé¢åº”ç”¨ï¼‰æŠ€æœ¯çš„ç½‘ç«™åˆ™é€šå¸¸ç”±æœåŠ¡ç«¯ç”Ÿæˆ HTMLï¼Œåœ¨å…¶ä¸­å¼•å…¥ä¸€ä¸ª JavaScript ä»£ç åŒ…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  &lt;head&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    &lt;title&gt;ES6 modules tryout&lt;&#x2F;title&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    &lt;!-- defer to not block rendering --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    &lt;script src&#x3D;&quot;dist&#x2F;bundle.js&quot; defer&gt;&lt;&#x2F;script&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  &lt;&#x2F;head&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  &lt;body&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    &lt;!-- ... --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &lt;&#x2F;body&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;html&gt;</span></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä½¿ç”¨ Webpack æ‰“åŒ…çš„ä»£ç åŒ…ä¸­åŒ…æ‹¬äº† 3 ä¸ª JavaScript æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä½¿ç”¨äº† ES6 æ¨¡å—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; app&#x2F;index.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">import dep1 from &#39;.&#x2F;dep-1&#39;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">function getComponent () &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  var element &#x3D; document.createElement(&#39;div&#39;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  element.innerHTML &#x3D; dep1();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  return element;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">document.body.appendChild(getComponent());</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; app&#x2F;dep-1.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">import dep2 from &#39;.&#x2F;dep-2&#39;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">export default function() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">  return dep2();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; app&#x2F;dep-2.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">export default function() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  return &#39;Hello World, dependencies loaded!&#39;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p>è¿™ä¸ª app å°†ä¼šæ˜¾ç¤ºâ€œHello worldâ€ã€‚åœ¨ä¸‹æ–‡ä¸­æ˜¾ç¤ºâ€œHello worldâ€å³è¡¨ç¤ºè„šæœ¬åŠ è½½æˆåŠŸã€‚</p>
<h3 id="è£…è½½ä¸€ä¸ªä»£ç åŒ…ï¼ˆbundleï¼‰"><a href="#è£…è½½ä¸€ä¸ªä»£ç åŒ…ï¼ˆbundleï¼‰" class="headerlink" title="è£…è½½ä¸€ä¸ªä»£ç åŒ…ï¼ˆbundleï¼‰"></a>è£…è½½ä¸€ä¸ªä»£ç åŒ…ï¼ˆbundleï¼‰</h3><p>é…ç½®ä½¿ç”¨ Webpack åˆ›å»ºä¸€ä¸ªä»£ç åŒ…ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç›´è§‚ã€‚åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œé™¤äº†æ‰“åŒ…å’Œä½¿ç”¨ UglifyJS å‹ç¼© JavaScript æ–‡ä»¶ä¹‹å¤–å¹¶æ²¡æœ‰åšåˆ«çš„ä»€ä¹ˆäº‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; webpack.config.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">const UglifyJSPlugin &#x3D; require(&#39;uglifyjs-webpack-plugin&#39;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  entry: &#39;.&#x2F;app&#x2F;index.js&#39;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  output: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    filename: &#39;bundle.js&#39;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    path: path.resolve(__dirname, &#39;dist&#39;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  plugins: [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">    new UglifyJSPlugin()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  ]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr></table></figure>
<p>3 ä¸ªåŸºç¡€æ–‡ä»¶æ¯”è¾ƒå°ï¼ŒåŠ èµ·æ¥åªæœ‰ 347 å­—èŠ‚ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ ll app</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">total 24</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">-rw-r--r--  1 stefanjudis  staff    75B Mar 16 19:33 dep-1.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">-rw-r--r--  1 stefanjudis  staff    75B Mar  7 21:56 dep-2.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">-rw-r--r--  1 stefanjudis  staff   197B Mar 16 19:33 index.js</span></pre></td></tr></table></figure>
<p>åœ¨æˆ‘é€šè¿‡ Webpack æ„å»ºä¹‹åï¼Œæˆ‘å¾—åˆ°äº†ä¸€ä¸ª 856 å­—èŠ‚çš„ä»£ç åŒ…ï¼Œå¤§çº¦å¢å¤§äº† 500 å­—èŠ‚ã€‚å¢åŠ è¿™ä¹ˆäº›å­—èŠ‚è¿˜æ˜¯å¯ä»¥æ¥å—çš„ï¼Œè¿™ä¸ªä»£ç åŒ…ä¸æˆ‘ä»¬å¹³å¸¸ç”Ÿäº§ç¯å¢ƒä¸­åšä»£ç è£…è½½æ²¡å•¥åŒºåˆ«ã€‚æ„Ÿè°¢ Webpackï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥ä½¿ç”¨ ES6 æ¨¡å—äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ webpack</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">Hash: 4a237b1d69f142c78884</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">Version: webpack 2.2.1</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">Time: 114ms</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">Asset       Size        Chunks  Chunk Names</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">bundle.js   856 bytes   0       [emitted]  main</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  [0] .&#x2F;app&#x2F;dep-1.js 78 bytes &#123;0&#125;[built]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  [1] .&#x2F;app&#x2F;dep-2.js 75 bytes &#123;0&#125;[built]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  [2] .&#x2F;app&#x2F;index.js 202 bytes &#123;0&#125;[built]</span></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨åŸç”Ÿæ”¯æŒçš„-ES6-æ¨¡å—çš„æ–°è®¾å®š"><a href="#ä½¿ç”¨åŸç”Ÿæ”¯æŒçš„-ES6-æ¨¡å—çš„æ–°è®¾å®š" class="headerlink" title="ä½¿ç”¨åŸç”Ÿæ”¯æŒçš„ ES6 æ¨¡å—çš„æ–°è®¾å®š"></a>ä½¿ç”¨åŸç”Ÿæ”¯æŒçš„ ES6 æ¨¡å—çš„æ–°è®¾å®š</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªâ€œä¼ ç»Ÿçš„æ‰“åŒ…ä»£ç â€ï¼Œç°åœ¨æ‰€æœ‰è¿˜ä¸æ”¯æŒ ES6 æ¨¡å—çš„æµè§ˆå™¨éƒ½æ”¯æŒè¿™ç§æ‰“åŒ…çš„ä»£ç ã€‚æˆ‘ä»¬å¯ä»¥å¼€å§‹ç©ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿äº†ã€‚è®©æˆ‘ä»¬åœ¨ <code>index.html</code> ä¸­åŠ ä¸Šä¸€ä¸ªæ–°çš„ script å…ƒç´ æŒ‡å‘ ES6 æ¨¡å—ï¼Œä¸ºå…¶åŠ ä¸Š <code>type=&quot;module&quot;</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;html&gt;&lt;head&gt;&lt;title&gt;ES6 modules tryout&lt;&#x2F;title&gt;&lt;!-- in case ES6 modules are supported --&gt;&lt;script src&#x3D;&quot;app&#x2F;index.js&quot;type&#x3D;&quot;module&quot;&gt;&lt;&#x2F;script&gt;&lt;script src&#x3D;&quot;dist&#x2F;bundle.js&quot;defer&gt;&lt;&#x2F;script&gt;&lt;&#x2F;head&gt;&lt;body&gt;&lt;!-- ... --&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;</span></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬åœ¨ Chrome ä¸­çœ‹çœ‹ï¼Œå‘ç°å¹¶æ²¡æœ‰å‘ç”Ÿä»€ä¹ˆäº‹ã€‚</p>
<p><img src="/images/pasted-146.png" alt="upload successful"></p>
<p>ä»£ç åŒ…è¿˜æ˜¯å’Œä¹‹å‰ä¸€æ ·åŠ è½½ï¼Œâ€œHello world!â€ ä¹Ÿæ­£å¸¸æ˜¾ç¤ºã€‚è™½ç„¶æ²¡çœ‹åˆ°æ•ˆæœï¼Œä½†æ˜¯è¿™è¯´æ˜æµè§ˆå™¨å¯ä»¥æ¥å—è¿™ç§å®ƒä»¬å¹¶ä¸ç†è§£çš„å‘½ä»¤è€Œä¸ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯æå¥½çš„ã€‚Chrome å¿½ç•¥äº†è¿™ä¸ªå®ƒæ— æ³•åˆ¤æ–­ç±»å‹çš„ script å…ƒç´ ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬åœ¨ Safari technology preview ä¸­è¯•è¯•ï¼š</p>
<p><img src="/images/pasted-147.png" alt="upload successful"></p>
<p>é—æ†¾çš„æ˜¯ï¼Œå®ƒå¹¶æ²¡æœ‰æ˜¾ç¤ºå¦å¤–çš„â€œHello worldâ€ã€‚é€ æˆé—®é¢˜çš„åŸå› æ˜¯æ„å»ºå·¥å…·ä¸åŸç”Ÿ ES æ¨¡å—çš„å·®å¼‚ï¼šWebpack æ˜¯åœ¨æ„å»ºçš„è¿‡ç¨‹ä¸­æ‰¾åˆ°é‚£äº›éœ€è¦ include çš„æ–‡ä»¶ï¼Œè€Œ ES æ¨¡å—æ˜¯åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„æ—¶å€™æ‰å»å–æ–‡ä»¶çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸ºæ­¤æŒ‡å®šæ­£ç¡®çš„æ–‡ä»¶è·¯å¾„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; app&#x2F;index.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; è¿™æ ·å†™ä¸è¡Œ</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; import dep1 from &#39;.&#x2F;dep-1&#39;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; è¿™æ ·å†™èƒ½æ­£å¸¸å·¥ä½œ</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">import dep1 from &#39;.&#x2F;dep-1.js&#39;;</span></pre></td></tr></table></figure>
<p>æ”¹äº†æ–‡ä»¶è·¯å¾„ä¹‹åå®ƒèƒ½æ­£å¸¸å·¥ä½œäº†ï¼Œä½†äº‹å®ä¸Š Safari Preview åŠ è½½äº†ä»£ç åŒ…ï¼Œä»¥åŠä¸‰ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬çš„ä»£ç è¢«æ‰§è¡Œäº†ä¸¤æ¬¡ã€‚</p>
<p><img src="/images/pasted-148.png" alt="upload successful"></p>
<p>è¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯åŠ ä¸Š <code>nomodule</code> å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åŠ è½½ä»£ç åŒ…çš„ script å…ƒç´ é‡ŒåŠ ä¸Šè¿™ä¸ªå±æ€§ã€‚è¿™ä¸ªå±æ€§<a href="https://github.com/whatwg/html/commit/a828019152213ae72b0ed2ba8e35b1c472091817" target="_blank" rel="noopener">æ˜¯æœ€è¿‘æ‰åŠ å…¥æ ‡å‡†ä¸­çš„</a>ï¼ŒSafari Preview ä¹Ÿæ˜¯åœ¨<a href="https://trac.webkit.org/changeset/211078/webkit" target="_blank" rel="noopener">ä¸€æœˆåº•</a>æ‰æ”¯æŒå®ƒçš„ã€‚è¿™ä¸ªå±æ€§ä¼šå‘Šè¯‰ Safariï¼Œè¿™ä¸ª script æ˜¯å½“ä¸æ”¯æŒ ES6 æ¨¡å—æ—¶çš„â€œé€€è·¯â€ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæµè§ˆå™¨æ”¯æŒ ES6 æ¨¡å—å› æ­¤åŠ ä¸Šè¿™ä¸ªå±æ€§çš„ script å…ƒç´ ä¸­çš„ä»£ç å°†ä¸ä¼šæ‰§è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  &lt;head&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    &lt;title&gt;ES6 modules tryout&lt;&#x2F;title&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    &lt;!-- in case ES6 modules are supported --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    &lt;script src&#x3D;&quot;app&#x2F;index.js&quot; type&#x3D;&quot;module&quot;&gt;&lt;&#x2F;script&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    &lt;!-- in case ES6 modules aren&#39;t supported --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    &lt;script src&#x3D;&quot;dist&#x2F;bundle.js&quot; defer nomodule&gt;&lt;&#x2F;script&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  &lt;&#x2F;head&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &lt;body&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    &lt;!-- ... --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  &lt;&#x2F;body&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;html&gt;</span></pre></td></tr></table></figure>
<p><img src="/images/pasted-149.png" alt="upload successful"></p>
<p>ç°åœ¨å¥½äº†ã€‚é€šè¿‡ç»“åˆä½¿ç”¨ <code>type=&quot;module&quot;</code> ä¸ <code>nomodule</code>ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åœ¨ä¸æ”¯æŒ ES6 æ¨¡å—çš„æµè§ˆå™¨ä¸­åŠ è½½ä¼ ç»Ÿçš„ä»£ç åŒ…ï¼Œåœ¨æ”¯æŒ ES6 æ¨¡å—çš„æµè§ˆå™¨ä¸­åŠ è½½ JavaScript æ¨¡å—ã€‚</p>
<p>ä½ å¯ä»¥åœ¨ <a href="http://es-module-on.stefans-playground.rocks/" target="_blank" rel="noopener">es-module-on.stefans-playground.rocks</a> æŸ¥çœ‹è¿™ä¸ªå°šåœ¨åˆ¶å®šçš„è§„èŒƒã€‚</p>
<h3 id="æ¨¡å—ä¸è„šæœ¬çš„ä¸åŒ"><a href="#æ¨¡å—ä¸è„šæœ¬çš„ä¸åŒ" class="headerlink" title="æ¨¡å—ä¸è„šæœ¬çš„ä¸åŒ"></a>æ¨¡å—ä¸è„šæœ¬çš„ä¸åŒ</h3><p>è¿™å„¿æœ‰å‡ ä¸ªé—®é¢˜ã€‚é¦–å…ˆï¼ŒJavaScript åœ¨ ES6 æ¨¡å—ä¸­è¿è¡Œä¸å¹³å¸¸åœ¨ script å…ƒç´ ä¸­ä¸åŒã€‚Axel Rauschmayer åœ¨ä»–çš„<a href="http://exploringjs.com/es6/ch_modules.html#sec_modules-vs-scripts" target="_blank" rel="noopener">æ¢ç´¢ ES6</a>ä¸€ä¹¦ä¸­å¾ˆå¥½åœ°è®¨è®ºäº†è¿™ä¸ªé—®é¢˜ã€‚æˆ‘æ¨èä½ ç‚¹å‡»ä¸Šé¢çš„é“¾æ¥é˜…è¯»è¿™æœ¬ä¹¦ï¼Œä½†æ˜¯åœ¨æ­¤æˆ‘å…ˆå¿«é€Ÿåœ°æ€»ç»“ä¸€ä¸‹ä¸»è¦çš„ä¸åŒç‚¹ï¼š</p>
<ul>
<li>ES6 æ¨¡å—é»˜è®¤åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿è¡Œï¼ˆå› æ­¤ä½ ä¸éœ€è¦åŠ ä¸Š <code>use strict</code> äº†ï¼‰ã€‚</li>
<li>æœ€å¤–å±‚çš„ <code>this</code> æŒ‡å‘ <code>undefined</code>ï¼ˆè€Œä¸æ˜¯ windowï¼‰ã€‚</li>
<li>æœ€é«˜çº§å˜é‡æ˜¯ module çš„å±€éƒ¨å˜é‡ï¼ˆè€Œä¸æ˜¯ globalï¼‰ã€‚</li>
<li>ES6 æ¨¡å—ä¼šåœ¨æµè§ˆå™¨å®Œæˆ HTML çš„åˆ†æä¹‹åå¼‚æ­¥åŠ è½½ä¸æ‰§è¡Œã€‚</li>
</ul>
<p>æˆ‘è®¤ä¸ºï¼Œè¿™äº›ç‰¹æ€§æ˜¯å·¨å¤§è¿›æ­¥ã€‚æ¨¡å—æ˜¯å±€éƒ¨çš„â€”â€”è¿™æ„å‘³ç€æˆ‘ä»¬ä¸å†éœ€è¦åˆ°å¤„ä½¿ç”¨ IIFE äº†ï¼Œè€Œä¸”æˆ‘ä»¬ä¸ç”¨å†æ‹…å¿ƒå…¨å±€å˜é‡æ³„éœ²ã€‚è€Œä¸”é»˜è®¤åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿è¡Œï¼Œæ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨å¾ˆå¤šåœ°æ–¹æŠ›å¼ƒ <code>use strict</code> å£°æ˜ã€‚</p>
<blockquote>
<p>è¯‘æ³¨ï¼šIIFE å…¨ç§° immediately-invoked function expressionï¼Œå³ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å¤§å®¶ç†ŸçŸ¥çš„åœ¨å‡½æ•°åé¢åŠ æ‹¬å·ã€‚</p>
</blockquote>
<p>ä»æ”¹å–„æ€§èƒ½çš„è§‚ç‚¹æ¥çœ‹ï¼ˆå¯èƒ½æ˜¯æœ€é‡è¦çš„è¿›æ­¥ï¼‰ï¼Œ<strong>æ¨¡å—é»˜è®¤ä¼šå»¶è¿ŸåŠ è½½ä¸æ‰§è¡Œ</strong>ã€‚å› æ­¤æˆ‘ä»¬å°†ä¸å†ä¼šä¸å°å¿ƒç»™æˆ‘ä»¬çš„ç½‘ç«™åŠ ä¸Šäº†é˜»ç¢åŠ è½½çš„ä»£ç ï¼Œä½¿ç”¨ <code>type=&quot;module&quot;</code> çš„ script å…ƒç´ ä¹Ÿä¸å†ä¼šæœ‰ <a href="https://www.stevesouders.com/blog/2010/06/01/frontend-spof/" target="_blank" rel="noopener">SPOF</a> é—®é¢˜ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™å®ƒåŠ ä¸Šä¸€ä¸ª <code>async</code> å±æ€§ï¼Œå®ƒå°†ä¼šè¦†ç›–é»˜è®¤çš„å»¶è¿ŸåŠ è½½è¡Œä¸ºã€‚ä¸è¿‡ä½¿ç”¨  <code>defer</code> <a href="https://calendar.perfplanet.com/2016/prefer-defer-over-async/" target="_blank" rel="noopener">åœ¨ç°åœ¨ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©</a>ã€‚</p>
<blockquote>
<p>è¯‘æ³¨ï¼šSPOF å…¨ç§° Single Points Of Failureâ€”â€”å•ç‚¹æ•…éšœ</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&lt;!-- not blocking with defer default behavior --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;app&#x2F;index.js&quot; type&#x3D;&quot;module&quot;&gt;&lt;&#x2F;script&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&lt;!-- executed after HTML is parsed --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;module&quot;&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  console.log(&#39;js module&#39;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;script&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&lt;!-- executed immediately --&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  console.log(&#39;standard module&#39;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;script&gt;</span></pre></td></tr></table></figure>
<p>å¦‚æœä½ æƒ³è¯¦ç»†äº†è§£è¿™æ–¹é¢å†…å®¹ï¼Œå¯ä»¥é˜…è¯» <a href="https://html.spec.whatwg.org/multipage/scripting.html#the-script-element" target="_blank" rel="noopener">script å…ƒç´ è¯´æ˜</a>ï¼Œè¿™ç¯‡æ–‡ç« ç®€å•æ˜“è¯»ï¼Œå¹¶ä¸”åŒ…å«äº†ä¸€äº›ç¤ºä¾‹ã€‚</p>
<h2 id="å‹ç¼©çº¯-ES6-ä»£ç "><a href="#å‹ç¼©çº¯-ES6-ä»£ç " class="headerlink" title="å‹ç¼©çº¯ ES6 ä»£ç "></a>å‹ç¼©çº¯ ES6 ä»£ç </h2><p>è¿˜æ²¡å®Œï¼æˆ‘ä»¬ç°åœ¨èƒ½ä¸º Chrome æä¾›å‹ç¼©è¿‡çš„ä»£ç åŒ…ï¼Œä½†æ˜¯è¿˜ä¸èƒ½ä¸º Safari Preview æä¾›å•ç‹¬å‹ç¼©è¿‡çš„æ–‡ä»¶ã€‚æˆ‘ä»¬å¦‚ä½•è®©è¿™äº›æ–‡ä»¶å˜å¾—æ›´å°å‘¢ï¼ŸUglifyJS èƒ½å®Œæˆè¿™é¡¹ä»»åŠ¡å—ï¼Ÿ</p>
<p>ç„¶è€Œå¿…é¡»æŒ‡å‡ºï¼ŒUglifyJS å¹¶ä¸èƒ½å®Œå…¨å¤„ç†å¥½ ES6 ä»£ç ã€‚è™½ç„¶å®ƒæœ‰ä¸ª <code>harmony</code> å¼€å‘ç‰ˆåˆ†æ”¯ï¼ˆ<a href="https://github.com/mishoo/UglifyJS2/tree/harmony" target="_blank" rel="noopener">åœ°å€</a>ï¼‰æ”¯æŒES6ï¼Œä½†ä¸å¹¸çš„æ˜¯åœ¨æˆ‘å†™è¿™ 3 ä¸ª JavaScript æ–‡ä»¶çš„æ—¶å€™å®ƒå¹¶ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ uglifyjs dep-1.js -o dep-1.min.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">Parse error at dep-1.js:3,23</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">export default function() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">                      ^</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">SyntaxError: Unexpected token: punc (()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ..</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">FAIL: 1</span></pre></td></tr></table></figure>
<p>ä½†æ˜¯ç°åœ¨ UglifyJS å‡ ä¹å­˜åœ¨äºæ‰€æœ‰å·¥å…·é“¾ä¸­ï¼Œé‚£å…¨éƒ¨ä½¿ç”¨ ES6 ç¼–å†™çš„å·¥ç¨‹åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>é€šå¸¸çš„æµç¨‹æ˜¯ä½¿ç”¨ Babel ä¹‹ç±»çš„å·¥å…·å°†ä»£ç è½¬æ¢ä¸º ES5ï¼Œç„¶åä½¿ç”¨ Uglify å¯¹ ES5 ä»£ç è¿›è¡Œå‹ç¼©å¤„ç†ã€‚ä½†æ˜¯åœ¨è¿™ç¯‡æ–‡ç« é‡Œæˆ‘ä¸æƒ³ä½¿ç”¨ ES5 ç¿»è¯‘å·¥å…·ï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨æ˜¯è¦å¯»æ‰¾é¢å‘æœªæ¥çš„å¤„ç†æ–¹å¼ï¼Chrome å·²ç»<a href="https://kangax.github.io/compat-table/es6/#chrome59" target="_blank" rel="noopener">è¦†ç›–äº† 97% ES6 è§„èŒƒ</a> ï¼Œè€Œ Safari Preview ç‰ˆ<a href="https://kangax.github.io/compat-table/es6/#safari10_1" target="_blank" rel="noopener">è‡ª verion 10 ä¹‹åå·²ç» 100% å¾ˆå¥½åœ°æ”¯æŒ ES6</a>äº†ã€‚</p>
<p>æˆ‘åœ¨æ¨ç‰¹ä¸­æé—®æ˜¯å¦æœ‰èƒ½å¤Ÿå¤„ç† ES6 çš„å‹ç¼©å·¥å…·ï¼Œ<a href="https://twitter.com/larsgraubner" target="_blank" rel="noopener">Lars Graubner</a> å‘Šè¯‰æˆ‘å¯ä»¥ä½¿ç”¨ <a href="https://github.com/babel/babili" target="_blank" rel="noopener">Babili</a>ã€‚ä½¿ç”¨ Babiliï¼Œæˆ‘ä»¬èƒ½å¤Ÿè½»æ¾åœ°å¯¹ ES6 æ¨¡å—è¿›è¡Œå‹ç¼©ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; app&#x2F;dep-2.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">export default function() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  return &#39;Hello World. dependencies loaded.&#39;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; dist&#x2F;modules&#x2F;dep-2.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">export default function()&#123;return &#39;Hello World. dependencies loaded.&#39;&#125;</span></pre></td></tr></table></figure>
<p>ä½¿ç”¨ Babili CLI å·¥å…·ï¼Œå¯ä»¥è½»æ¾åœ°åˆ†åˆ«å‹ç¼©å„ä¸ªæ–‡ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ babili app -d dist&#x2F;modules</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">app&#x2F;dep-1.js -&gt; dist&#x2F;modules&#x2F;dep-1.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">app&#x2F;dep-2.js -&gt; dist&#x2F;modules&#x2F;dep-2.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">app&#x2F;index.js -&gt; dist&#x2F;modules&#x2F;index.js</span></pre></td></tr></table></figure>
<p>æœ€ç»ˆç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ ll dist</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">-rw-r--r--  1 stefanjudis  staff   856B Mar 16 22:32 bundle.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">$ ll dist&#x2F;modules</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">-rw-r--r--  1 stefanjudis  staff    69B Mar 16 22:32 dep-1.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">-rw-r--r--  1 stefanjudis  staff    68B Mar 16 22:32 dep-2.js</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">-rw-r--r--  1 stefanjudis  staff   161B Mar 16 22:32 index.js</span></pre></td></tr></table></figure>
<p>ä»£ç åŒ…ä»ç„¶æ˜¯å¤§çº¦ 850Bï¼Œæ‰€æœ‰æ–‡ä»¶åŠ èµ·æ¥å¤§çº¦æ˜¯ 300Bã€‚æˆ‘æ²¡æœ‰ä½¿ç”¨ GZIPï¼Œå› ä¸º<a href="http://webmasters.stackexchange.com/questions/31750/what-is-recommended-minimum-object-size-for-gzip-performance-benefits" target="_blank" rel="noopener">å®ƒå¹¶ä¸èƒ½å¾ˆå¥½åœ°å¤„ç†å°æ–‡ä»¶</a>ã€‚ï¼ˆæˆ‘ä»¬ç¨åä¼šæåˆ°è¿™ä¸ªï¼‰</p>
<h2 id="èƒ½é€šè¿‡-rel-preload-æ¥åŠ é€Ÿ-ES6-çš„æ¨¡å—åŠ è½½å—ï¼Ÿ"><a href="#èƒ½é€šè¿‡-rel-preload-æ¥åŠ é€Ÿ-ES6-çš„æ¨¡å—åŠ è½½å—ï¼Ÿ" class="headerlink" title="èƒ½é€šè¿‡ rel=preload æ¥åŠ é€Ÿ ES6 çš„æ¨¡å—åŠ è½½å—ï¼Ÿ"></a>èƒ½é€šè¿‡ rel=preload æ¥åŠ é€Ÿ ES6 çš„æ¨¡å—åŠ è½½å—ï¼Ÿ</h2><p>å¯¹å•ä¸ª JS æ–‡ä»¶è¿›è¡Œå‹ç¼©å–å¾—äº†å¾ˆå¥½çš„æ•ˆæœã€‚æ–‡ä»¶å¤§å°ä» 856B é™ä½åˆ°äº† 298Bï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜èƒ½è¿›ä¸€æ­¥åœ°åŠ å¿«åŠ è½½é€Ÿåº¦ã€‚é€šè¿‡ä½¿ç”¨ ES6 æ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥è£…è½½æ›´å°‘çš„ä»£ç ï¼Œä½†æ˜¯çœ‹çœ‹ç€‘å¸ƒå›¾ä½ ä¼šå‘ç°ï¼Œrequest ä¼šæŒ‰ç…§æ¨¡å—çš„ä¾èµ–é“¾ä¸€ä¸ªä¸€ä¸ªè¿ç»­åœ°åŠ è½½ã€‚</p>
<p>é‚£å¦‚æœæˆ‘ä»¬åƒä¹‹å‰åœ¨æµè§ˆå™¨ä¸­å¯¹ä»£ç è¿›è¡Œé¢„åŠ è½½é‚£æ ·ï¼Œç”¨ <code>&lt;link rel=&quot;preload&quot; as=&quot;script&quot;&gt;</code> å…ƒç´ å‘ŠçŸ¥æµè§ˆå™¨è¦åŠ è½½é¢å¤–çš„ requestï¼Œæ˜¯å¦ä¼šåŠ å¿«æ¨¡å—çš„åŠ è½½é€Ÿåº¦å‘¢ï¼Ÿåœ¨ Webpack ä¸­ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†ç±»ä¼¼çš„å·¥å…·ï¼Œæ¯”å¦‚ Addy Osmani çš„ <a href="https://github.com/GoogleChrome/preload-webpack-plugin" target="_blank" rel="noopener">Webpack é¢„åŠ è½½æ’ä»¶</a>å¯ä»¥å¯¹åˆ†å‰²çš„ä»£ç è¿›è¡Œé¢„åŠ è½½ï¼Œé‚£ ES6 æ¨¡å—æœ‰æ²¡æœ‰ç±»ä¼¼çš„æ–¹æ³•å‘¢ï¼Ÿå¦‚æœä½ è¿˜ä¸æ¸…æ¥š <code>rel=&quot;preload&quot;</code> æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Œä½ å¯ä»¥å…ˆé˜…è¯» Yoav Weiss åœ¨ Smashing Magazine å‘è¡¨çš„ç›¸å…³æ–‡ç« ï¼š<a href="https://www.smashingmagazine.com/2016/02/preload-what-is-it-good-for/" target="_blank" rel="noopener">ç‚¹å‡»é˜…è¯»</a></p>
<p>ä½†æ˜¯ï¼ŒES6 æ¨¡å—çš„é¢„åŠ è½½å¹¶ä¸æ˜¯é‚£ä¹ˆç®€å•ï¼Œä»–ä»¬ä¸æ™®é€šçš„è„šæœ¬æœ‰å¾ˆå¤§çš„ä¸åŒã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¯¹ä¸€ä¸ª link å…ƒç´ åŠ ä¸Š  <code>rel=&quot;preload&quot;</code> å°†ä¼šæ€æ ·å¤„ç† ES6 æ¨¡å—å‘¢ï¼Ÿå®ƒä¹Ÿä¼šå–å‡ºæ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶å—ï¼Ÿè¿™ä¸ªé—®é¢˜æ˜¾è€Œæ˜“è§ï¼ˆå¯ä»¥ï¼‰ï¼Œä½†æ˜¯ä½¿ç”¨ <code>preload</code> å‘½ä»¤åŠ è½½æ¨¡å—ï¼Œéœ€è¦è§£å†³æ›´å¤šæµè§ˆå™¨çš„å†…éƒ¨å®ç°é—®é¢˜ã€‚<a href="https://twitter.com/domenic" target="_blank" rel="noopener">Domenic Denicola</a> åœ¨<a href="https://github.com/whatwg/fetch/issues/486" target="_blank" rel="noopener">ä¸€ä¸ª GitHub issue</a> ä¸­è®¨è®ºäº†è¿™æ–¹é¢çš„é—®é¢˜ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£çš„è¯å¯ä»¥ç‚¹è¿›å»çœ‹ä¸€çœ‹ã€‚ä½†æ˜¯äº‹å®è¯æ˜ï¼Œä½¿ç”¨ <code>rel=&quot;preload&quot;</code> åŠ è½½è„šæœ¬ä¸åŠ è½½ ES6 æ¨¡å—æ˜¯æˆªç„¶ä¸åŒçš„ã€‚å¯èƒ½ä»¥åæœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆæ˜¯ç”¨å¦ä¸€ä¸ª <code>rel=&quot;modulepreload&quot;</code> å‘½ä»¤æ¥ä¸“é—¨åŠ è½½æ¨¡å—ã€‚åœ¨æœ¬æ–‡å†™ä½œæ—¶ï¼Œ<a href="https://github.com/whatwg/html/pull/2383" target="_blank" rel="noopener">è¿™ä¸ª pull request</a> è¿˜åœ¨å®¡æ ¸ä¸­ï¼Œä½ å¯ä»¥ç‚¹è¿›å»çœ‹çœ‹æœªæ¥æˆ‘ä»¬å¯èƒ½ä¼šæ€æ ·è¿›è¡Œæ¨¡å—çš„é¢„åŠ è½½ã€‚</p>
<h2 id="åŠ å…¥çœŸå®çš„ä¾èµ–"><a href="#åŠ å…¥çœŸå®çš„ä¾èµ–" class="headerlink" title="åŠ å…¥çœŸå®çš„ä¾èµ–"></a>åŠ å…¥çœŸå®çš„ä¾èµ–</h2><p>ä»…ä»… 3 ä¸ªæ–‡ä»¶å½“ç„¶æ²¡æ³•åšä¸€ä¸ªçœŸæ­£çš„ appï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ç»™å®ƒåŠ ä¸€äº›çœŸå®çš„ä¾èµ–ã€‚<a href="https://lodash.com/" target="_blank" rel="noopener">Lodash</a> æ ¹æ® ES6 æ¨¡å—å¯¹å®ƒçš„åŠŸèƒ½è¿›è¡Œäº†åˆ†å‰²ï¼Œå¹¶åˆ†åˆ«æä¾›ç»™ç”¨æˆ·ã€‚æˆ‘å–å‡ºå…¶ä¸­ä¸€ä¸ªåŠŸèƒ½ï¼Œç„¶åä½¿ç”¨ Babili è¿›è¡Œå‹ç¼©ã€‚ç°åœ¨è®©æˆ‘ä»¬å¯¹ <code>index.js</code> æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œå¼•å…¥è¿™ä¸ª Lodash çš„æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">import dep1 from &#39;.&#x2F;dep-1.js&#39;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">import isEmpty from &#39;.&#x2F;lodash&#x2F;isEmpty.js&#39;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">function getComponent() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  const element &#x3D; document.createElement(&#39;div&#39;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  element.innerHTML &#x3D; dep1() + &#39; &#39; + isEmpty([]);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  return element;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">document.body.appendChild(getComponent());</span></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>isEmpty</code> åŸºæœ¬ä¸Šæ²¡æœ‰è¢«ä½¿ç”¨ï¼Œä½†æ˜¯åœ¨åŠ ä¸Šå®ƒçš„ä¾èµ–åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆï¼š</p>
<p><img src="/images/pasted-150.png" alt="upload successful"></p>
<p>å¯ä»¥çœ‹åˆ° request æ•°é‡å¢åŠ åˆ°äº† 40 ä¸ªä»¥ä¸Šï¼Œé¡µé¢åœ¨æ™®é€š wifi ä¸‹çš„åŠ è½½æ—¶é—´ä»å¤§çº¦ 100 æ¯«ç§’ä¸Šå‡åˆ°äº† 400 åˆ° 800 æ¯«ç§’ï¼ŒåŠ è½½çš„æ•°æ®æ€»å¤§å°åœ¨æ²¡æœ‰å‹ç¼©çš„æƒ…å†µä¸‹å¢åŠ åˆ°äº†å¤§çº¦ 12KBã€‚å¯æƒœçš„æ˜¯  <a href="https://www.webpagetest.org/" target="_blank" rel="noopener">WebPagetest</a> åœ¨ Safari Preview ä¸­ä¸å¯ç”¨ï¼Œæˆ‘ä»¬æ²¡æ³•ç»™å®ƒåšå¯é çš„æ ‡å‡†æ£€æµ‹ã€‚</p>
<p>ä½†æ˜¯ï¼ŒChrome æ”¶åˆ°æ‰“åŒ…åçš„ JavaScript æ•°æ®æ¯”è¾ƒå°ï¼Œåªæœ‰å¤§çº¦ 8KBã€‚</p>
<p><img src="/images/pasted-151.png" alt="upload successful"></p>
<p>è¿™ 4KB çš„å·®è·æ˜¯ä¸èƒ½å¿½è§†çš„ã€‚ä½ å¯ä»¥åœ¨ <a href="https://lodash-module-on.stefans-playground.rocks/" target="_blank" rel="noopener">lodash-module-on.stefans-playground.rocks</a> æ‰¾åˆ°æœ¬ç¤ºä¾‹ã€‚</p>
<h3 id="å‹ç¼©å·¥ä½œä»…å¯¹å¤§æ–‡ä»¶è¡¨ç°è‰¯å¥½"><a href="#å‹ç¼©å·¥ä½œä»…å¯¹å¤§æ–‡ä»¶è¡¨ç°è‰¯å¥½" class="headerlink" title="å‹ç¼©å·¥ä½œä»…å¯¹å¤§æ–‡ä»¶è¡¨ç°è‰¯å¥½"></a>å‹ç¼©å·¥ä½œä»…å¯¹å¤§æ–‡ä»¶è¡¨ç°è‰¯å¥½</h3><p>å¦‚æœä½ ä»”ç»†çœ‹ä¸Šé¢ Safari å¼€å‘è€…å·¥å…·çš„æˆªå›¾ï¼Œä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ä¼ è¾“åçš„æ–‡ä»¶å¤§å°å…¶å®æ¯”æºç è¿˜è¦å¤§ã€‚åœ¨å¾ˆå¤§çš„ JavaScript app ä¸­è¿™ä¸ªç°è±¡ä¼šæ›´åŠ æ˜æ˜¾ï¼Œä¸€å †çš„å° Chunk ä¼šé€ æˆæ–‡ä»¶å¤§å°çš„å¾ˆå¤§ä¸åŒï¼Œå› ä¸º GZIP å¹¶ä¸èƒ½å¾ˆå¥½åœ°å‹ç¼©å°æ–‡ä»¶ã€‚</p>
<p>Khan Academy åœ¨å‰ä¸€æ®µæ—¶é—´<a href="http://engineering.khanacademy.org/posts/js-packaging-http2.htm" target="_blank" rel="noopener">æ¢ç©¶äº†åŒæ ·çš„é—®é¢˜</a>ï¼Œä»–æ˜¯ç”¨ HTTP/2 è¿›è¡Œç ”ç©¶çš„ã€‚è£…è½½æ›´å°çš„æ–‡ä»¶èƒ½å¤Ÿå¾ˆå¥½åœ°ç¡®ä¿ç¼“å­˜å‘½ä¸­ç‡ï¼Œä½†åˆ°æœ€åå®ƒä¸€èˆ¬éƒ½ä¼šä½œä¸ºä¸€ä¸ªæƒè¡¡æ–¹æ¡ˆï¼Œè€Œä¸”å®ƒçš„æ•ˆæœä¼šè¢«å¾ˆå¤šå› ç´ å½±å“ã€‚å¯¹äºä¸€ä¸ªå¾ˆå¤§çš„ä»£ç åº“æ¥è¯´ï¼Œåˆ†è§£æˆè‹¥å¹²ä¸ª chunkï¼ˆä¸€ä¸ª *vendor* æ–‡ä»¶å’Œä¸€ä¸ª app bundleï¼‰æ˜¯ç†æ‰€å½“ç„¶çš„ï¼Œä½†æ˜¯è¦è£…è½½æ•°åƒä¸ªä¸èƒ½è¢«å‹ç¼©çš„å°æ–‡ä»¶å¯èƒ½å¹¶ä¸æ˜¯ä¸€ç§æ˜æ™ºçš„æ–¹æ³•ã€‚</p>
<h3 id="Tree-shaking-æ˜¯ä¸ªè¶…-COOL-çš„æŠ€æœ¯"><a href="#Tree-shaking-æ˜¯ä¸ªè¶…-COOL-çš„æŠ€æœ¯" class="headerlink" title="Tree shaking æ˜¯ä¸ªè¶… COOL çš„æŠ€æœ¯"></a>Tree shaking æ˜¯ä¸ªè¶… COOL çš„æŠ€æœ¯</h3><p>å¿…é¡»è¦è¯´ï¼šæ„Ÿè°¢éå¸¸æ–°æ½®çš„ tree shaking æŠ€æœ¯ï¼Œé€šè¿‡å®ƒï¼Œæ„å»ºè¿›ç¨‹å¯ä»¥å°†æ²¡æœ‰ä½¿ç”¨è¿‡ä»¥åŠæ²¡æœ‰è¢«å…¶å®ƒæ¨¡å—å¼•ç”¨çš„ä»£ç åˆ é™¤ã€‚ç¬¬ä¸€ä¸ªæ”¯æŒè¿™ä¸ªæŠ€æœ¯çš„æ„å»ºå·¥å…·æ˜¯ Rollupï¼Œç°åœ¨ Webpack 2 ä¹Ÿæ”¯æŒå®ƒâ€”â€”<a href="https://medium.freecodecamp.com/tree-shaking-es6-modules-in-webpack-2-1add6672f31b#22c4" target="_blank" rel="noopener">åªè¦æˆ‘ä»¬åœ¨ babel ä¸­ç¦ç”¨ <code>module</code> é€‰é¡¹</a>ã€‚</p>
<p>æˆ‘ä»¬è¯•ç€æ”¹ä¸€æ”¹ <code>dep-2.js</code>ï¼Œè®©å®ƒåŒ…å«ä¸€äº›ä¸ä¼šåœ¨ <code>dep-1.js</code> ä¸­ä½¿ç”¨çš„ä¸œè¥¿ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">export default function() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  return &#39;Hello World. dependencies loaded.&#39;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">export const unneededStuff &#x3D; [</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  &#39;unneeded stuff&#39;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">];</span></pre></td></tr></table></figure>
<p>Babili åªä¼šå‹ç¼©æ–‡ä»¶ï¼Œ Safari Preview åœ¨è¿™ç§æƒ…å†µä¸‹ä¼šæ¥æ”¶åˆ°è¿™å‡ è¡Œæ²¡æœ‰ç”¨è¿‡çš„ä»£ç ã€‚è€Œå¦ä¸€æ–¹é¢ï¼ŒWebpack æˆ–è€… Rollup æ‰“çš„åŒ…å°†ä¸ä¼šåŒ…å«è¿™ä¸ª <code>unnededStuff</code>ã€‚Tree shaking çœç•¥äº†å¤§é‡ä»£ç ï¼Œå®ƒæ¯«æ— ç–‘é—®åº”å½“è¢«ç”¨åœ¨çœŸå®çš„äº§å“ä»£ç åº“ä¸­ã€‚</p>
<h2 id="å°½ç®¡æœªæ¥å¾ˆæ˜æœ—ï¼Œä½†æ˜¯ç°åœ¨çš„æ„å»ºè¿‡ç¨‹ä»ç„¶ä¸ä¼šå˜åŠ¨"><a href="#å°½ç®¡æœªæ¥å¾ˆæ˜æœ—ï¼Œä½†æ˜¯ç°åœ¨çš„æ„å»ºè¿‡ç¨‹ä»ç„¶ä¸ä¼šå˜åŠ¨" class="headerlink" title="å°½ç®¡æœªæ¥å¾ˆæ˜æœ—ï¼Œä½†æ˜¯ç°åœ¨çš„æ„å»ºè¿‡ç¨‹ä»ç„¶ä¸ä¼šå˜åŠ¨"></a>å°½ç®¡æœªæ¥å¾ˆæ˜æœ—ï¼Œä½†æ˜¯ç°åœ¨çš„æ„å»ºè¿‡ç¨‹ä»ç„¶ä¸ä¼šå˜åŠ¨</h2><p>ES6 æ¨¡å—å³å°†åˆ°æ¥ï¼Œä½†æ˜¯ç›´åˆ°å®ƒæœ€ç»ˆåœ¨å„å¤§ä¸»æµæµè§ˆå™¨ä¸­å®ç°å‰ï¼Œæˆ‘ä»¬çš„å¼€å‘å¹¶ä¸ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–ã€‚æˆ‘ä»¬æ—¢ä¸ä¼šè£…è½½ä¸€å †å°æ–‡ä»¶æ¥ç¡®ä¿å‹ç¼©ç‡ï¼Œä¹Ÿä¸ä¼šä¸ºäº†ä½¿ç”¨ tree shaking å’Œæ­»ç åˆ é™¤æ¥æŠ›å¼ƒæ„å»ºè¿‡ç¨‹ã€‚<strong>å‰ç«¯å¼€å‘ç°åœ¨åŠå°†æ¥éƒ½ä¼šä¸€å¦‚æ—¢å¾€åœ°å¤æ‚</strong>ã€‚</p>
<p>ä¸è¦æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½è¿›è¡Œåˆ†å‰²ç„¶åå°±å‡è®¾å®ƒä¼šæ”¹å–„æ€§èƒ½ã€‚æˆ‘ä»¬å³å°†è¿æ¥ ES6 æ¨¡å—çš„æµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼Œä½†æ˜¯è¿™ä¸æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æŠ›å¼ƒæ„å»ºè¿‡ç¨‹ä¸åˆé€‚çš„æ‰“åŒ…ç­–ç•¥ã€‚åœ¨æˆ‘ä»¬ Contentful è¿™å„¿ï¼Œå°†ç»§ç»­åšæŒæˆ‘ä»¬çš„æ„å»ºè¿‡ç¨‹ï¼Œä»¥åŠç»§ç»­ä½¿ç”¨æˆ‘ä»¬çš„  <a href="https://www.contentful.com/developers/docs/javascript/" target="_blank" rel="noopener">JavaScript SDKs</a> è¿›è¡Œæ‰“åŒ…ã€‚</p>
<p>ç„¶è€Œï¼Œæˆ‘ä»¬å¿…é¡»æ‰¿è®¤ç°åœ¨å‰ç«¯çš„å¼€å‘ä½“éªŒä»ç„¶è‰¯å¥½ã€‚JavaScript ä»åœ¨è¿›æ­¥ï¼Œæœ€ç»ˆæˆ‘ä»¬å°†èƒ½å¤Ÿä½¿ç”¨è¯­è¨€æœ¬èº«æä¾›çš„æ¨¡å—ç³»ç»Ÿã€‚åœ¨å‡ å¹´åï¼ŒåŸç”Ÿæ¨¡å—å¯¹ JavaScript ç”Ÿæ€çš„å½±å“ä»¥åŠæœ€ä½³å®è·µæ–¹æ³•å°†ä¼šæ˜¯æ€æ ·çš„å‘¢ï¼Ÿè®©æˆ‘ä»¬æ‹­ç›®ä»¥å¾…ã€‚</p>
<h2 id="å…¶å®ƒèµ„æº"><a href="#å…¶å®ƒèµ„æº" class="headerlink" title="å…¶å®ƒèµ„æº"></a>å…¶å®ƒèµ„æº</h2><ul>
<li><a href="https://blog.hospodarets.com/native-ecmascript-modules-the-first-overview" target="_blank" rel="noopener">ES6 æ¨¡å—ç³»åˆ—æ–‡ç« </a> ä½œè€…ï¼šSerg Hospodarets</li>
<li><a href="http://exploringjs.com/" target="_blank" rel="noopener">ã€Šæ¢ç´¢ ES6ã€‹</a> çš„ <a href="http://exploringjs.com/es6/ch_modules.html" target="_blank" rel="noopener">æ¨¡å—ç« èŠ‚</a></li>
</ul>
<blockquote>
<p>å‘å¸ƒäºæ˜é‡‘ <a href="https://juejin.im/post/590a990a5c497d005852cf61" target="_blank" rel="noopener">https://juejin.im/post/590a990a5c497d005852cf61</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="default">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2017/04/27/%E5%89%8D%E7%AB%AF%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E4%B8%8E%E8%AF%80%E7%AA%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/04/27/%E5%89%8D%E7%AB%AF%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E4%B8%8E%E8%AF%80%E7%AA%8D/" class="post-title-link" itemprop="url">å‰ç«¯è°ƒè¯•æŠ€å·§ä¸è¯€çª</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-27 21:54:00" itemprop="dateCreated datePublished" datetime="2017-04-27T21:54:00+08:00">2017-04-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Translate/" itemprop="url" rel="index">
                    <span itemprop="name">Translate</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ç¼–å†™ä»£ç å…¶å®åªæ˜¯å¼€å‘è€…çš„ä¸€å°éƒ¨åˆ†å·¥ä½œã€‚ä¸ºäº†è®©å·¥ä½œæ›´æœ‰æ•ˆç‡ï¼Œæˆ‘ä»¬è¿˜å¿…é¡»ç²¾é€š debugã€‚æˆ‘å‘ç°ï¼ŒèŠ±ä¸€äº›æ—¶é—´å­¦ä¹ æ–°çš„è°ƒè¯•æŠ€å·§ï¼Œå¾€å¾€èƒ½è®©æˆ‘èƒ½æ›´å¿«åœ°å®Œæˆå·¥ä½œï¼Œå¯¹æˆ‘çš„å›¢é˜Ÿåšå‡ºæ›´å¤§çš„è´¡çŒ®ã€‚å…³äºè°ƒè¯•è¿™æ–¹é¢æˆ‘æœ‰ä¸€äº›è‡ªå·±é‡åº¦ä¾èµ–çš„æŠ€å·§ä¸è¯€çªï¼ŒåŒæ—¶æˆ‘åœ¨ workshop ä¸­ç»å¸¸å»ºè®®å¤§å®¶ä½¿ç”¨è¿™äº›æŠ€å·§ï¼Œå› æ­¤æˆ‘å¯¹å®ƒä»¬è¿›è¡Œäº†ä¸€ä¸ªæ±‡æ€»ï¼ˆå…¶ä¸­æœ‰ä¸€äº›æ¥è‡ªäºç¤¾åŒºï¼‰ã€‚æˆ‘ä»¬å°†ä»ä¸€äº›æ ¸å¿ƒæ¦‚å¿µå¼€å§‹è®²è§£ï¼Œç„¶åæ·±å…¥æ¢è®¨ä¸€äº›å…·ä½“çš„ä¾‹å­ã€‚</p>
<h3 id="ä¸»è¦æ¦‚å¿µ"><a href="#ä¸»è¦æ¦‚å¿µ" class="headerlink" title="ä¸»è¦æ¦‚å¿µ"></a>ä¸»è¦æ¦‚å¿µ</h3><h4 id="éš”ç¦»é—®é¢˜"><a href="#éš”ç¦»é—®é¢˜" class="headerlink" title="éš”ç¦»é—®é¢˜"></a>éš”ç¦»é—®é¢˜</h4><p>éš”ç¦»é—®é¢˜å¤§æ¦‚æ˜¯ debug ä¸­æœ€é‡è¦çš„æ ¸å¿ƒæ¦‚å¿µã€‚æˆ‘ä»¬çš„ä»£ç åº“æ˜¯ç”±ä¸åŒçš„ç±»åº“ã€æ¡†æ¶ç»„æˆçš„ï¼Œå®ƒä»¬æœ‰ç€è®¸å¤šçš„è´¡çŒ®è€…ï¼Œç”šè‡³è¿˜æœ‰ä¸€äº›ä¸å†å‚ä¸é¡¹ç›®çš„äººï¼Œå› æ­¤æˆ‘ä»¬çš„ä»£ç åº“æ˜¯æ‚ä¹±æ— ç« çš„ã€‚éš”ç¦»é—®é¢˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬é€æ­¥å‰¥ç¦»ä¸é—®é¢˜æ— å…³çš„éƒ¨åˆ†ä»¥ä¾¿æˆ‘ä»¬å¯ä»¥æŠŠæ³¨æ„åŠ›æ”¾åœ¨è§£å†³æ–¹æ¡ˆä¸Šã€‚</p>
<p>éš”ç¦»é—®é¢˜çš„å¥½å¤„åŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹å‡ æ¡ï¼š</p>
<ul>
<li>èƒ½å¤Ÿå¼„æ¸…æ¥šé—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯å¦æ˜¯æˆ‘ä»¬æƒ³çš„é‚£æ ·ï¼Œè¿˜æ˜¯å­˜åœ¨å…¶å®ƒçš„å†²çªã€‚</li>
<li>å¯¹äºæ—¶åºä»»åŠ¡ï¼Œèƒ½åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ—¶åºç´Šä¹±ã€‚</li>
<li>ä¸¥æ ¼å®¡æŸ¥æˆ‘ä»¬çš„ä»£ç æ˜¯å¦è¿˜èƒ½å¤Ÿæ›´åŠ ç²¾ç®€ï¼Œè¿™æ ·æ—¢èƒ½å¸®åŠ©æˆ‘ä»¬å†™ä»£ç ä¹Ÿèƒ½å¸®åŠ©æˆ‘ä»¬ç»´æŠ¤ä»£ç ã€‚</li>
<li>è§£å¼€çº ç¼ åœ¨ä¸€èµ·çš„ä»£ç ï¼Œä»¥è§‚å¯Ÿåˆ°åº•æ˜¯åªæœ‰ä¸€ä¸ªé—®é¢˜è¿˜æ˜¯å­˜åœ¨æ›´å¤šçš„é—®é¢˜ã€‚</li>
</ul>
<p>è®©é—®é¢˜èƒ½å¤Ÿè¢«é‡ç°æ˜¯å¾ˆé‡è¦çš„ã€‚å¦‚æœä½ ä¸èƒ½é‡ç°é—®é¢˜æ¥åˆ†è¾¨å‡ºå®ƒåˆ°åº•å‡ºåœ¨å“ªé‡Œï¼Œä½ å°†ä¼šå¾ˆéš¾ä¿®å¤è¿™ä¸ªé—®é¢˜ã€‚æˆ–è€…ä½ ä¹Ÿå¯ä»¥å°†å®ƒå’Œç±»ä¼¼çš„æ­£å¸¸å·¥ä½œçš„æ¨¡å—è¿›è¡Œå¯¹æ¯”ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å‘ç°å“ªé‡Œè¿›è¡Œè¿‡æ”¹åŠ¨ï¼Œæˆ–è€…å‘ç°ä¸¤è€…ä¹‹é—´æœ‰ä»€ä¹ˆä¸åŒã€‚</p>
<p>åœ¨å®é™…æ“ä½œä¸­ï¼Œæˆ‘æœ‰è®¸å¤šç§æ–¹æ³•å¯¹é—®é¢˜è¿›è¡Œéš”ç¦»ã€‚å…¶ä¸­ä¸€ç§æ˜¯åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªç²¾ç®€çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨ CodePen åˆ›å»ºä¸€ä¸ªç§äººæµ‹è¯•ç”¨ä¾‹ï¼Œæˆ–è€…åœ¨ JSBin åˆ›å»ºä½ çš„ç”¨ä¾‹ã€‚å¦ä¸€ç§æ˜¯åœ¨ä»£ç ä¸­åˆ›å»ºæ–­ç‚¹ï¼Œè¿™æ ·å¯ä»¥è®©æˆ‘è¯¦ç»†åœ°è§‚å¯Ÿä»£ç çš„æ‰§è¡Œæƒ…å†µã€‚ä»¥ä¸‹æ˜¯å‡ ç§å®šä¹‰æ–­ç‚¹çš„æ–¹å¼ï¼š</p>
<p>ä½ å¯ä»¥åœ¨ä½ ä»£ç ä¸­å†™ä¸Š <code>debugger;</code>ï¼Œè¿™æ ·ä½ å¯ä»¥çœ‹åˆ°å½“æ—¶è¿™ä¸€å°å—ä»£ç åšäº†ä»€ä¹ˆã€‚</p>
<p>ä½ è¿˜å¯ä»¥åœ¨ Chrome å¼€å‘è€…å·¥å…·ä¸­è¿›ä¸€æ­¥è¿›è¡Œè°ƒè¯•ï¼Œå•æ­¥è·Ÿè¸ªäº‹ä»¶çš„å‘ç”Ÿã€‚ä½ ä¹Ÿå¯ä»¥ç”¨å®ƒé€‰æ‹©æ€§åœ°è§‚å¯ŸæŒ‡å®šçš„äº‹ä»¶ç›‘å¬å™¨ã€‚</p>
<p><img src="/images/pasted-139.png" alt="upload successful"></p>
<p>å¤è€ï¼Œå¥½ç”¨çš„ <code>console.log</code> æ˜¯å¦ä¸€ç§éš”ç¦»çš„æ–¹æ³•ã€‚ï¼ˆPHP ä¸­æ˜¯ <code>echo</code>ï¼Œpython ä¸­æ˜¯ <code>print</code> â€¦â€¦ï¼‰ã€‚ä½ å¯ä»¥ä¸€å°ç‰‡ä¸€å°ç‰‡åœ°æ‰§è¡Œä»£ç å¹¶å¯¹ä½ çš„å‡è®¾è¿›è¡Œæµ‹è¯•ï¼Œæˆ–è€…æ£€æŸ¥çœ‹æœ‰ä»€ä¹ˆä¸œè¥¿å‘ç”Ÿäº†å˜åŒ–ã€‚è¿™å¯èƒ½æ˜¯æœ€è€—è´¹æ—¶é—´çš„æµ‹è¯•æ–¹å¼äº†ã€‚ä½†æ˜¯æ— è®ºä½ çš„æ°´å¹³å¦‚ä½•é«˜ï¼Œä½ è¿˜æ˜¯å¾—ä¹–ä¹–ç”¨å®ƒã€‚ES6 çš„ç®­å¤´å‡½æ•°ä¹Ÿå¯ä»¥åŠ é€Ÿæˆ‘ä»¬çš„ debug æ¸¸æˆï¼Œå®ƒè®©æˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°ä¸­æ›´æ–¹ä¾¿åœ°å†™å•è¡Œä»£ç ã€‚</p>
<p><code>console.table</code> å‡½æ•°ä¹Ÿæ˜¯æˆ‘æœ€å–œæ¬¢çš„å·¥å…·ä¹‹ä¸€ã€‚å½“ä½ æœ‰å¤§é‡çš„æ•°æ®ï¼ˆä¾‹å¦‚å¾ˆé•¿çš„æ•°ç»„ã€å·¨å¤§çš„å¯¹è±¡ç­‰ç­‰ï¼‰éœ€è¦å±•ç¤ºçš„æ—¶å€™ï¼Œå®ƒç‰¹åˆ«æœ‰ç”¨ã€‚<code>console.dir</code> å‡½æ•°ä¹Ÿæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚å®ƒå¯ä»¥æŠŠä¸€ä¸ªå¯¹è±¡çš„å±æ€§ä»¥å¯äº¤äº’çš„å½¢å¼å±•ç¤ºå‡ºæ¥ã€‚</p>
<p><img src="/images/pasted-140.png" alt="upload successful"></p>
<p><strong>ä¸Šå›¾ä¸º console.dir è¾“å‡ºçš„å¯äº¤äº’çš„åˆ—è¡¨</strong></p>
<h4 id="ä¿æŒæ¡ç†æ¸…æ™°"><a href="#ä¿æŒæ¡ç†æ¸…æ™°" class="headerlink" title="ä¿æŒæ¡ç†æ¸…æ™°"></a>ä¿æŒæ¡ç†æ¸…æ™°</h4><p>å½“æˆ‘åœ¨ workshop ä¸Šåšè®²å¸ˆï¼Œå¸®åŠ©æˆ‘çš„ç­çº§çš„å­¦ç”Ÿæ—¶ï¼Œæˆ‘å‘ç°ï¼Œæ€è·¯ä¸å¤Ÿæ¸…æ™°æ˜¯é˜»ç¢ä»–ä»¬è°ƒè¯•çš„ä¸€å¤§é—®é¢˜ã€‚è¿™å®é™…ä¸Šæ˜¯ä¸€ç§é¾Ÿå…”èµ›è·‘çš„æƒ…å½¢ã€‚ä»–ä»¬æƒ³è¦è¡ŒåŠ¨çš„æ›´å¿«ï¼Œå› æ­¤ä»–ä»¬ä¼šåœ¨å†™ä»£ç æ—¶ä¸€æ¬¡å°±æ”¹å†™å¾ˆå¤šçš„ä»£ç â€”â€”ç„¶åå‡ºäº†æŸäº›é—®é¢˜ï¼Œä»–ä»¬ä¸çŸ¥é“åˆ°åº•æ˜¯æ”¹çš„é‚£éƒ¨åˆ†å¯¼è‡´äº†é—®é¢˜çš„å‡ºç°ã€‚æ¥ç€ï¼Œä¸ºäº† debugï¼Œä»–ä»¬åˆä¸€æ¬¡æ”¹å¾ˆå¤šä»£ç ï¼Œæœ€åè¿·å¤±åœ¨å¯»æ‰¾å“ªé‡Œèƒ½æ­£å¸¸è¿è¡Œã€å“ªé‡Œä¸èƒ½æ­£å¸¸è¿è¡Œä¸­ã€‚</p>
<p>å…¶å®æˆ‘ä»¬æˆ–å¤šæˆ–å°‘éƒ½åœ¨è¿™ä¹ˆåšã€‚å½“æˆ‘ä»¬å¯¹ä¸€ä¸ªå·¥å…·è¶Šæ¥è¶Šç†Ÿç»ƒæ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨æ²¡æœ‰å¯¹è®¾æƒ³çš„æƒ…å†µè¿›è¡Œæµ‹è¯•çš„æƒ…å†µä¸‹å†™è¶Šæ¥è¶Šå¤šçš„ä»£ç ã€‚ä½†æ˜¯å½“ä½ åˆšå¼€å§‹ç”¨ä¸€ä¸ªè¯­æ³•æˆ–æŠ€æœ¯æ—¶ï¼Œä½ éœ€è¦æ”¾æ…¢é€Ÿåº¦å¹¶ä¸”éå¸¸è°¨æ…ã€‚ä½ å°†èƒ½è¶Šæ¥è¶Šå¿«åœ°å¤„ç†è‡ªå·±æ— æ„é—´é€ æˆçš„é”™è¯¯ã€‚å…¶å®ï¼Œå½“ä½ å¼„å‡ºäº†ä¸€ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œä¸€æ¬¡è°ƒè¯•ä¸€ä¸ªé—®é¢˜å¯èƒ½ä¼šçœ‹èµ·æ¥æ…¢ä¸€äº›ï¼Œä½†å…¶å®è¦æ‰¾å‡ºå“ªé‡Œå‘ç”Ÿäº†å˜åŒ–ä»¥åŠé—®é¢˜çš„æ‰€åœ¨æ˜¯æ²¡æ³•å¿«é€Ÿè§£å†³çš„ã€‚æˆ‘è¯´ä»¥ä¸Šè¿™äº›è¯æ˜¯æƒ³å‘Šè¯‰ä½ ï¼šæ¬²é€Ÿåˆ™ä¸è¾¾ã€‚</p>
<p><strong>ä½ è¿˜è®°å¾—å°æ—¶å€™çˆ¶æ¯å‘Šè¯‰ä½ çš„è¯å—ï¼Ÿâ€œå¦‚æœä½ è¿·è·¯äº†ï¼Œå¾…åœ¨åŸåœ°åˆ«åŠ¨ã€‚â€œ</strong> è‡³å°‘æˆ‘çš„çˆ¶æ¯è¿™ä¹ˆè¯´äº†ã€‚è¿™ä¹ˆè¯´çš„åŸå› æ˜¯å¦‚æœä»–ä»¬åœ¨åˆ°å¤„æ‰¾æˆ‘ï¼Œè€Œæˆ‘ä¹Ÿåœ¨åˆ°å¤„è·‘ç€æ‰¾ä»–ä»¬çš„è¯ï¼Œæˆ‘ä»¬å°†æ›´éš¾ç¢°åˆ°ä¸€èµ·ã€‚ä»£ç ä¹Ÿæ˜¯è¿™æ ·çš„ã€‚ä½ æ¯æ¬¡åŠ¨çš„ä»£ç è¶Šå°‘å°±è¶Šå¥½ï¼Œä½ è¿”å›ä¸€è‡´çš„ç»“æœè¶Šå¤šï¼Œå°±è¶Šå®¹æ˜“æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ã€‚æ‰€ä»¥å½“ä½ åœ¨è°ƒè¯•æ—¶ï¼Œè¯·å°½é‡ä¸è¦å®‰è£…ä»»ä½•ä¸œè¥¿æˆ–è€…æ·»åŠ æ–°çš„ä¾èµ–ã€‚å¦‚æœæœ¬åº”è¯¥è¿”å›ä¸€ä¸ªé™æ€ç»“æœçš„åœ°æ–¹æ¯æ¬¡éƒ½å‡ºç°ä¸åŒçš„é”™è¯¯ï¼Œä½ å°±å¾—ç‰¹åˆ«æ³¨æ„äº†ï¼</p>
<h3 id="é€‰ç”¨ä¼˜ç§€çš„å·¥å…·"><a href="#é€‰ç”¨ä¼˜ç§€çš„å·¥å…·" class="headerlink" title="é€‰ç”¨ä¼˜ç§€çš„å·¥å…·"></a>é€‰ç”¨ä¼˜ç§€çš„å·¥å…·</h3><p>äººä»¬å¼€å‘äº†æ— æ•°çš„å·¥å…·ç”¨äºè§£å†³å„ç§å„æ ·çš„é—®é¢˜ã€‚ä¸‹é¢ï¼Œæˆ‘ä¼šä¾æ¬¡ä»‹ç»ä¸€äº›æˆ‘è§‰å¾—æœ€æœ‰ç”¨çš„å·¥å…·ï¼Œå¹¶åœ¨æœ€åè´´ä¸Šç›¸å…³èµ„æºçš„é“¾æ¥ã€‚</p>
<h4 id="ä»£ç é«˜äº®"><a href="#ä»£ç é«˜äº®" class="headerlink" title="ä»£ç é«˜äº®"></a>ä»£ç é«˜äº®</h4><p>å½“ç„¶ï¼Œä¸ºä½ çš„ä»£ç é«˜äº®ä¸»é¢˜æ‰¾ä¸€ä¸ªæœ€çƒ­è¾£çš„é…è‰²ä¸é£æ ¼æ–¹æ¡ˆæ˜¯å¾ˆæœ‰è¶£çš„ï¼Œä½†æ˜¯è¯·èŠ±ç‚¹æ—¶é—´æƒ³æ¸…æ¥šè¿™ä»¶äº‹ã€‚æˆ‘é€šå¸¸ä½¿ç”¨æ·±è‰²ä¸»é¢˜ï¼Œå½“æœ‰è¯­æ³•é”™è¯¯æ—¶ï¼Œæ·±è‰²ä¸»é¢˜ä¼šç”¨è¾ƒäº®çš„é¢œè‰²æ˜¾ç¤ºæˆ‘çš„ä»£ç ï¼Œä½¿æˆ‘èƒ½è½»æ¾å¿«é€Ÿåœ°æ‰¾åˆ°é”™è¯¯ã€‚æˆ‘ä¹Ÿå°è¯•è¿‡ä½¿ç”¨ Oceanic Next é…è‰²æ–¹æ¡ˆä¸ Panda é…è‰²æ–¹æ¡ˆï¼Œä½†æ˜¯è¯´å®è¯æˆ‘è¿˜æ˜¯æœ€å–œæ¬¢è‡ªå·±çš„é‚£ç§ã€‚åœ¨å¯»æ‰¾ä¼˜ç§€çš„ä»£ç é«˜äº®å·¥å…·çš„æ—¶å€™è¯·ä¿æŒç†æ™ºï¼Œå¸…æ°”çš„å¤–è§‚å½“ç„¶å¾ˆæ£’ï¼Œä½†æ˜¯ä¸ºä½ æªå‡ºé”™è¯¯çš„åŠŸèƒ½æ€§æ›´åŠ é‡è¦ã€‚å½“ç„¶ï¼Œä½ å®Œå…¨æœ‰å¯èƒ½æ‰¾åˆ°ä¸¤è€…éƒ½å¾ˆä¼˜ç§€çš„ä»£ç é«˜äº®å·¥å…·ã€‚</p>
<h4 id="ä½¿ç”¨-Lint-å·¥å…·"><a href="#ä½¿ç”¨-Lint-å·¥å…·" class="headerlink" title="ä½¿ç”¨ Lint å·¥å…·"></a>ä½¿ç”¨ Lint å·¥å…·</h4><p>ä½¿ç”¨ Lint å·¥å…·èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ ‡è®°å‡ºæ¥ä¸€äº›å¯ç–‘çš„ä»£ç ï¼Œå¹¶ä¸”èƒ½æŠ¥å‡ºæˆ‘ä»¬å¿½è§†çš„ä¸€äº›é”™è¯¯ã€‚Lint å·¥å…·ç›¸å½“çš„é‡è¦ï¼Œä½¿ç”¨ä½•ç§ lint å·¥å…·å–å†³äºä½ ä½¿ç”¨çš„è¯­è¨€ä¸æ¡†æ¶ï¼Œä»¥åŠæœ€é‡è¦çš„ï¼šä½ è®¤å¯æ€æ ·çš„ä»£ç é£æ ¼ã€‚</p>
<p>ä¸åŒçš„å…¬å¸æœ‰ç€ä¸åŒçš„ä»£ç é£æ ¼åŠè§„å®šã€‚æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢ <a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener">AirBnB çš„ JS ä»£ç è§„èŒƒ</a>ã€‚ä½ çš„ Lint å·¥å…·å°†ä¼šå¼ºåˆ¶ä½ æŒ‰ç…§æŒ‡å®šçš„æ¨¡å¼è¿›è¡Œç¼–ç¨‹ï¼Œå¦åˆ™å®ƒå¯ä»¥ç»ˆæ­¢ä½ çš„æ„å»ºè¿‡ç¨‹ã€‚æˆ‘æ›¾ç»ä½¿ç”¨è¿‡ä¸€ä¸ª CSS Lint å·¥å…·ï¼Œå½“æˆ‘ä¸ºæµè§ˆå™¨å†™ css hack æ—¶ï¼Œå®ƒä¸€ç›´åœ¨æŠ¥é”™ã€‚æœ€åæˆ‘ä¸å¾—ä¸å¸¸å¸¸å…³é—­å®ƒï¼Œå®ƒä¹Ÿå°±æ²¡èƒ½èµ·åˆ°åº”æœ‰çš„ä½œç”¨ã€‚ä½†æ˜¯ä¸€ä¸ªå¥½çš„ Lint å·¥å…·å¯ä»¥æŠŠä½ å¿½è§†çš„ä¸€äº›æ½œåœ¨çš„é—®é¢˜æŒ‡å‡ºæ¥ã€‚</p>
<p>ä¸‹é¢æ˜¯å‡ ä¸ªèµ„æºï¼š</p>
<ul>
<li>æˆ‘æœ€è¿‘æ‰¾åˆ°äº†ä¸€ä¸ª<a href="https://github.com/ausi/respimagelint" target="_blank" rel="noopener">å“åº”å¼å›¾ç‰‡ lint å·¥å…·</a>ï¼Œå®ƒå¯ä»¥å‘Šè¯‰ä½ ä½¿ç”¨ picture å…ƒç´ ã€srcset å±æ€§ä»¥åŠ size å±æ€§çš„æ—¶æœºã€‚</li>
<li>è¿™å„¿æœ‰ä¸ª<a href="https://www.sitepoint.com/comparison-javascript-linting-tools/" target="_blank" rel="noopener">å¾ˆå¥½çš„åˆ†ç±»</a>ï¼Œæ”¶é›†ä¸å¯¹æ¯”äº†ä¸€äº› JS lint å·¥å…·ã€‚</li>
</ul>
<h4 id="æµè§ˆå™¨æ’ä»¶"><a href="#æµè§ˆå™¨æ’ä»¶" class="headerlink" title="æµè§ˆå™¨æ’ä»¶"></a>æµè§ˆå™¨æ’ä»¶</h4><p>æ’ä»¶æ˜¯çœŸçš„è¶…çº§æ£’ï¼Œä½ å¯ä»¥è½»æ¾åœ°å¯ç”¨æˆ–ç¦ç”¨å®ƒä»¬ã€‚å¹¶ä¸”å®ƒä»¬èƒ½åœ¨ç‰¹å®šéœ€æ±‚ä¸­å‘æŒ¥é‡è¦çš„ä½œç”¨ã€‚å¦‚æœä½ ä½¿ç”¨ä¸€äº›ç‰¹å®šçš„æ¡†æ¶æˆ–ç±»åº“å·¥ä½œï¼Œä½¿ç”¨å®ƒä»¬çš„å¼€å‘è€…å·¥å…·æ’ä»¶å°†ä¼šå¸¦ç»™ä½ æ— ä¸ä¼¦æ¯”çš„ä¾¿åˆ©ã€‚ä¸è¿‡è¯·æ³¨æ„ï¼Œæ’ä»¶ä¸ä»…ä¼šé™ä½æµè§ˆå™¨çš„é€Ÿåº¦ï¼Œå®ƒä»¬ä¹Ÿæœ‰æƒé™æ‰§è¡Œè„šæœ¬ã€‚å› æ­¤åœ¨ä½ ä½¿ç”¨ä¹‹å‰ï¼Œè¯·å…ˆäº†è§£ä¸€ä¸‹æ’ä»¶çš„ä½œè€…ã€è¯„ä»·åŠèƒŒæ™¯ã€‚æ€»ä¹‹ï¼Œä¸‹é¢æ˜¯ä¸€äº›æˆ‘æœ€å–œæ¬¢çš„æ’ä»¶ï¼š</p>
<ul>
<li>Deque Systems æä¾›çš„ <a href="https://chrome.google.com/webstore/detail/axe/lhdoppojpmngadmnindnejefpokejbdd" target="_blank" rel="noopener">aXe</a>ï¼Œæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„å¯è¡Œæ€§åˆ†ææ’ä»¶ã€‚</li>
<li>å¦‚æœä½ å·¥ä½œä¸­ä½¿ç”¨ Reactï¼Œ<a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi" target="_blank" rel="noopener">React DevTools</a> æ˜¯ä½ å¿…ä¸å¯å°‘çš„å·¥å…·ï¼Œä½ å¯ä»¥é€šè¿‡å®ƒè§‚å¯Ÿè™šæ‹Ÿ DOMã€‚</li>
<li><a href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd" target="_blank" rel="noopener">Vue DevTools</a>ï¼Œå½“ä½ ä½¿ç”¨ Vue æ—¶ï¼ŒåŒä¸Šã€‚</li>
<li><a href="https://chrome.google.com/webstore/detail/codopen/agnkphdgffianchpipdbkeaclfbobaak" target="_blank" rel="noopener">Codopen</a>ï¼šå®ƒä¼šä¼šä»ç¼–è¾‘å™¨æ¨¡å¼å¼¹å‡º CodePen çš„è°ƒè¯•çª—å£ã€‚å…«å¦ï¼šæˆ‘è€å…¬å› ä¸ºä¸å–œæ¬¢çœ‹åˆ°æˆ‘ä¸€ç›´æ‰‹åŠ¨æ‰“å¼€è°ƒè¯•çª—å£ï¼Œæ‰€ä»¥ç‰¹æ„å¼€å‘äº†è¿™ä¸ªå·¥å…·ã€‚ï¼ˆçœŸæ˜¯ä¸ªå¥½ç¤¼ç‰©ï¼‰</li>
<li><a href="https://chrome.google.com/webstore/detail/page-ruler/jlpkojjdgbllmedoapgfodplfhcbnbpn" target="_blank" rel="noopener">Pageruler</a>ï¼šå®ƒèƒ½å¾—åˆ°é¡µé¢ä¸­çš„åƒç´ å°ºå¯¸ä»¥åŠä»»ä½•éœ€è¦æµ‹é‡çš„å€¼ã€‚æˆ‘å–œæ¬¢è¿™ä¸ªå·¥å…·ï¼Œå› ä¸ºæˆ‘å¯¹äºæˆ‘çš„å¸ƒå±€å˜æ€èˆ¬æŒ‘å‰”ã€‚å®ƒèƒ½å¸®åŠ©æˆ‘è§£å†³è¿™äº›é—®é¢˜ã€‚</li>
</ul>
<h3 id="å¼€å‘è€…å·¥å…·"><a href="#å¼€å‘è€…å·¥å…·" class="headerlink" title="å¼€å‘è€…å·¥å…·"></a>å¼€å‘è€…å·¥å…·</h3><p>è¿™å¯èƒ½æ˜¯æœ€ç›´è§‚çš„è°ƒè¯•å·¥å…·äº†ï¼Œä½ å¯ä»¥ç”¨å®ƒä»¬åŠåˆ°è®¸å¤šäº‹æƒ…ã€‚å®ƒä»¬æœ‰ç€è®¸å¤šå†…ç½®çš„ç‰¹æ€§å®¹æ˜“è¢«äººæ‰€å¿½è§†ï¼Œå› æ­¤åœ¨è¿™ä¸ªç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¼šæ·±å…¥æ¢è®¨ä¸€äº›æˆ‘å–œæ¬¢çš„ç‰¹æ€§ã€‚</p>
<p>å…³äºå­¦ä¹ å¼€å‘è€…å·¥å…·çš„åŠŸèƒ½ï¼ŒUmar Hansa æœ‰ä¸€å¥—ç‰¹åˆ«å¥½çš„èµ„æ–™ã€‚ä»–åˆ¶ä½œäº†ä¸€ä¸ª<a href="https://umaar.com/dev-tips/" target="_blank" rel="noopener">æ¯å‘¨å‘¨æŠ¥ä¸ GIF åŠ¨å›¾</a>ç½‘ç«™ã€åˆ¶ä½œäº†æˆ‘ä»¬æœ€åä¸€èŠ‚æåˆ°çš„ä¸€ä¸ªæ–°è¯¾ç¨‹ï¼Œå¹¶åœ¨æˆ‘ä»¬ç½‘ç«™å‘è¡¨äº†<a href="https://css-tricks.com/six-tips-for-chrome-devtools/" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ã€‚</p>
<p>æˆ‘æœ€è¿‘ç‰¹åˆ«å–œæ¬¢çš„ä¸€ä¸ªå·¥å…·æ˜¯<a href="https://umaar.com/dev-tips/126-css-tracker/" target="_blank" rel="noopener">CSS Tracker å¢å¼ºæ’ä»¶</a>ï¼Œæ”¶åˆ° Umar çš„è®¸å¯ä¹‹åæˆ‘å°†è¿™ä¸ªå·¥å…·åœ¨è¿™å„¿å±•ç¤ºç»™å¤§å®¶çœ‹ã€‚å®ƒä¼šæ˜¾ç¤ºå‡ºæ‰€æœ‰æ²¡æœ‰ä½¿ç”¨è¿‡çš„ CSSï¼Œä½ å¯ä»¥ç”±æ­¤æ¥ç†è§£ CSS å¯¹äºæ€§èƒ½çš„å½±å“ã€‚</p>
<p><img src="/images/pasted-141.png" alt="upload successful"></p>
<p><strong>ä¸Šå›¾å±•ç¤ºäº† CSS tracker ä¸ºä»£ç è¢«ä½¿ç”¨çš„éƒ¨åˆ†å’Œæœªè¢«ä½¿ç”¨çš„éƒ¨åˆ†æŒ‰ç…§è§„åˆ™è¡¨ä¸Šä¸åŒçš„é¢œè‰²ã€‚</strong></p>
<h4 id="å„è‰²å„æ ·çš„å·¥å…·"><a href="#å„è‰²å„æ ·çš„å·¥å…·" class="headerlink" title="å„è‰²å„æ ·çš„å·¥å…·"></a>å„è‰²å„æ ·çš„å·¥å…·</h4><ul>
<li><a href="https://ten1seven.github.io/what-input/" target="_blank" rel="noopener">What input</a> æ˜¯ä¸€ä¸ªèƒ½è·Ÿè¸ªå½“å‰è¾“å…¥ï¼ˆé¼ æ ‡ã€é”®ç›˜ã€è§¦æ‘¸ï¼‰ä¸å½“å‰ä¿¡æ¯çš„å®ç”¨å·¥å…·ã€‚ï¼ˆæ„Ÿè°¢ Marcy Sutton æä¾›äº†è¿™ä¸ªä¾¿æ·çš„å·¥å…·ï¼‰</li>
<li>å¦‚æœä½ åšçš„æ˜¯å“åº”å¼å¼€å‘ï¼Œæˆ–è€…ä½ å¾—åœ¨æ— æ•°ç§è®¾å¤‡ä¸Šè¿›è¡Œæ£€æŸ¥ï¼Œé‚£ä¹ˆ <a href="https://www.vanamco.com/ghostlab/" target="_blank" rel="noopener">Ghostlabapp</a> æ˜¯ä¸ªæŒºé€‚åˆä½ çš„æ—¶é«¦å·¥å…·ã€‚å®ƒä¸ºä½ æä¾›äº†åŒæ­¥ç§»åŠ¨ web å¼€å‘ã€æµ‹è¯•ä¸æ£€æŸ¥ã€‚</li>
<li><a href="http://eruda.liriliri.io/" target="_blank" rel="noopener">Eruda æ˜¯ä¸ªå¾ˆæ£’çš„å·¥å…·</a>ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šè¿›è¡Œè°ƒè¯•ã€‚æˆ‘å¾ˆå–œæ¬¢å®ƒï¼Œå› ä¸ºå®ƒä¸ä»…æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿå™¨ï¼Œè¿˜ä¸ºä½ å‡†å¤‡äº†æ§åˆ¶å°å’ŒçœŸå®çš„å¼€å‘è€…å·¥å…·ï¼Œè®©ä½ æ›´å®¹æ˜“ç†è§£ã€‚</li>
</ul>
<p><img src="/images/pasted-142.png" alt="upload successful"></p>
<h3 id="ç‰¹åˆ«æç¤º"><a href="#ç‰¹åˆ«æç¤º" class="headerlink" title="ç‰¹åˆ«æç¤º"></a>ç‰¹åˆ«æç¤º</h3><p>æˆ‘ä¸€ç›´å¯¹å…¶ä»–äººæ˜¯æ€ä¹ˆ debug çš„å¾ˆæ„Ÿå…´è¶£ï¼Œæ‰€ä»¥æˆ‘é€šè¿‡ CSS-Tricks ä¸æˆ‘çš„ä¸ªäººè´¦å·åœ¨ç¤¾åŒºå¾é›†å¤§å®¶æœ€å–œæ¬¢çš„è°ƒè¯•æ–¹å¼ã€‚ä»¥ä¸‹æ˜¯ç¤¾åŒºä¸­å¤§å®¶ç»™å‡ºçš„æŠ€å·§çš„åˆé›†ã€‚</p>
<blockquote>
<p>è¯‘æ³¨ï¼šä»¥ä¸‹å¦‚â€œ@xxx -2017å¹´3æœˆ15æ—¥â€æ ¼å¼çš„æ–‡å­—å‡ä¸ºç”¨æˆ·åœ¨æ¨ç‰¹ä¸Šçš„å‘è¨€ï¼Œç‚¹å‡»æ—¥æœŸå¯ä»¥çœ‹åˆ°åŸæ¨ç‰¹ã€‚</p>
</blockquote>
<h4 id="è¾…åŠ©æ–¹æ³•"><a href="#è¾…åŠ©æ–¹æ³•" class="headerlink" title="è¾…åŠ©æ–¹æ³•"></a>è¾…åŠ©æ–¹æ³•</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$(&#39;body&#39;).on(&#39;focusin&#39;,function()&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  console.log(document.activeElement);&#125;);</span></pre></td></tr></table></figure>
<blockquote>
<p>è¿™æ®µä»£ç ä¼šè®°å½•å½“å‰ç„¦ç‚¹æ‰€åœ¨çš„å…ƒç´ ã€‚å®ƒç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºå½“ä½ æ‰“å¼€å¼€å‘è€…å·¥å…·çš„æ—¶å€™ä¼šå°† activeElement çš„ç„¦ç‚¹ç§»é™¤ã€‚</p>
</blockquote>
<p>-<a href="https://twitter.com/marcysutton" target="_blank" rel="noopener">Marcy Sutton</a></p>
<h4 id="è°ƒè¯•-CSS"><a href="#è°ƒè¯•-CSS" class="headerlink" title="è°ƒè¯• CSS"></a>è°ƒè¯• CSS</h4><p>æˆ‘ä»¬æ”¶åˆ°å¾ˆå¤šå›å¤è¯´ä¸€äº›äººå–œæ¬¢åœ¨å…ƒç´ å¤–é¢åŠ ä¸Šçº¢è‰²çš„è¾¹æ¡†ï¼ˆborderï¼‰ï¼Œä»¥æ­¤æ¥è§‚å¯Ÿå…ƒç´ çš„è¡Œä¸ºã€‚</p>
<blockquote>
<p><a href="https://twitter.com/sarah_edo" target="_blank" rel="noopener">@sarah_edo</a>ï¼šå¯¹äº CSSï¼Œæˆ‘é€šå¸¸ä¼šç»™æœ‰é—®é¢˜çš„å…ƒç´ åŠ ä¸Šä¸€ä¸ª .debug çš„ classï¼Œè¿™ä¸ª class å®šä¹‰äº†çº¢è‰²çš„ borderã€‚</p>
<p>â€” Jeremy Wagner (@malchata) <a href="https://twitter.com/malchata/status/842029469246324736" target="_blank" rel="noopener">2017å¹´3æœˆ15æ—¥</a></p>
</blockquote>
<p>æˆ‘ä¹Ÿä¼šè¿™ä¹ˆåšã€‚è€Œä¸”æˆ‘è¿˜åšäº†ä¸€ä¸ªç®€å•çš„ CSS æ–‡ä»¶ï¼Œå¯ä»¥è®©æˆ‘æ–¹ä¾¿åœ°ç”¨ä¸€äº› class æ¥åŠ ä¸Šä¸åŒçš„é¢œè‰²ã€‚</p>
<h4 id="æ£€æµ‹-React-çš„-State"><a href="#æ£€æµ‹-React-çš„-State" class="headerlink" title="æ£€æµ‹ React çš„ State"></a>æ£€æµ‹ React çš„ State</h4><blockquote>
<p><a href="https://twitter.com/sarah_edo" target="_blank" rel="noopener">@sarah_edo</a>ï¼š<pre>{JSON.stringify(this.state, null, 2)}</pre></p>
<p>â€” MICHAEL JACKSON (@mjackson) <a href="https://twitter.com/mjackson/status/842041642760646657" target="_blank" rel="noopener">2017å¹´3æœˆ15æ—¥</a></p>
</blockquote>
<p>Michael æåˆ°çš„è¿™ä¸ªåŠæ³•ï¼Œæ˜¯æˆ‘è®¤ä¸ºæœ€æœ‰ç”¨çš„ debug å·¥å…·ä¹‹ä¸€ã€‚è¿™ç‚¹ä»£ç å¯ä»¥â€œç¾è§‚åœ°è¾“å‡ºâ€ä½ å½“å‰æ­£åœ¨ä½¿ç”¨çš„ç»„ä»¶çš„ stateï¼Œå› æ­¤ä½ å¯ä»¥äº†è§£æ­¤æ—¶æ­¤åˆ»è¿™ä¸ªç»„ä»¶å°†ä¼šå¦‚ä½•å˜åŒ–ã€‚ä½ å¯ä»¥ç¡®è®¤è¿™ä¸ª state æ˜¯å¦å’Œä½ è®¾æƒ³çš„ä¸€æ ·æ­£å¸¸å·¥ä½œï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ è·Ÿè¸ªä»»ä½• state ä¸­çš„é”™è¯¯ï¼Œä»¥åŠä½ ä½¿ç”¨ state å‡ºç°çš„é”™è¯¯ã€‚</p>
<h4 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h4><p>æˆ‘ä»¬æ”¶åˆ°äº†è®¸å¤šçš„å›å¤ï¼Œè¯´ä»–ä»¬ä¼šåœ¨è°ƒè¯•æ—¶å‡æ…¢åŠ¨ç”»é€Ÿåº¦ï¼š</p>
<blockquote>
<p><a href="https://twitter.com/sarah_edo" target="_blank" rel="noopener">@sarah_edo</a><a href="https://twitter.com/Real_CSS_Tricks" target="_blank" rel="noopener">@Real_CSS_Tricks</a>ï¼š * { animation-duration: 10s !important; }</p>
<p>â€” Thomas Fuchs (@thomasfuchs) <a href="https://twitter.com/thomasfuchs/status/842029720820695040" target="_blank" rel="noopener">2017å¹´3æœˆ15æ—¥</a></p>
</blockquote>
<p>æˆ‘åœ¨ä¹‹å‰çš„æ–‡ç« <a href="https://css-tricks.com/debugging-css-keyframe-animations/" target="_blank" rel="noopener">ã€Šè°ƒè¯• CSS å…³é”®å¸§åŠ¨ç”»ã€‹</a>ä¸­æåˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œé‚£ç¯‡æ–‡ç« é‡Œè¿˜æœ‰æ›´å¤šçš„æŠ€å·§ï¼Œä¾‹å¦‚å¦‚ä½•ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿã€å¦‚ä½•åœ¨ä¸åŒæ—¶åˆ»è¿›è¡Œå¤šç§å˜æ¢ç­‰ã€‚</p>
<p>æˆ‘ä¹Ÿä¼šä½¿ç”¨ JavaScript å°†æˆ‘çš„åŠ¨ç”»å‡é€Ÿã€‚åœ¨  GreenSock ä¸­ï¼Œä»¥è¿™ç§å½¢å¼å®ç°ï¼š<code>timeline.timeScale(0.5)</code>ï¼Œå®ƒå°†ä¼šå°†æ•´ä¸ªæ—¶é—´è½´éƒ½å‡é€Ÿï¼Œè€Œä¸æ˜¯ä»…ä»…å°†ä¸€ä¸ªåŠ¨ç”»å‡é€Ÿï¼Œè¿™ä¸ªåŠŸèƒ½è¶…çº§æœ‰ç”¨ã€‚åœ¨ mo.js ä¸­ï¼Œè¿™ä¸ªåŠŸèƒ½æ˜¯è¿™ä¹ˆå†™çš„ï¼š<code>{speed: 0.5}</code>ã€‚</p>
<blockquote>
<p>è¯‘æ³¨ï¼š<a href="https://greensock.com" target="_blank" rel="noopener">GreenSock</a> ä¸ mo.js éƒ½æ˜¯åŠŸèƒ½å¼ºå¤§çš„jsåŠ¨ç”»åº“</p>
</blockquote>
<p><a href="https://www.youtube.com/watch?v=MjRipmP7ffM&amp;feature=youtu.be" target="_blank" rel="noopener">Val Head é€šè¿‡å±å¹•å½•åƒåšäº†ä¸€ä¸ªå¾ˆå¥½çš„è§†é¢‘</a>ï¼Œè¿™ä¸ªè§†é¢‘å±•ç¤ºäº† Chrome ä¸ Firefox å¼€å‘è€…å·¥å…·ä¸­æä¾›çš„åŠ¨ç”»è°ƒè¯•åŠŸèƒ½ã€‚</p>
<p>å¦‚æœä½ æ‰“ç®—ç”¨ Chrome å¼€å‘è€…å·¥å…·çš„æ—¶é—´è½´æ¥è¿›è¡Œæ€§èƒ½è¯„ä¼°ï¼Œé‚£ä¹ˆè¯·æ³¨æ„ç»˜åˆ¶ï¼ˆpaintï¼‰æ˜¯æœ€è€—æ€§èƒ½çš„æ­¥éª¤ï¼Œå› æ­¤å½“æ—¶é—´è½´ä¸­ç»¿è‰²å æ¯”å¾ˆé«˜çš„æ—¶å€™è¯·å½“å¿ƒã€‚</p>
<h4 id="æ£€æŸ¥ä¸åŒè¿æ¥çŠ¶æ€ä¸‹çš„åŠ è½½æƒ…å†µ"><a href="#æ£€æŸ¥ä¸åŒè¿æ¥çŠ¶æ€ä¸‹çš„åŠ è½½æƒ…å†µ" class="headerlink" title="æ£€æŸ¥ä¸åŒè¿æ¥çŠ¶æ€ä¸‹çš„åŠ è½½æƒ…å†µ"></a>æ£€æŸ¥ä¸åŒè¿æ¥çŠ¶æ€ä¸‹çš„åŠ è½½æƒ…å†µ</h4><p>æˆ‘å¾€å¾€åœ¨ç½‘é€Ÿå¾ˆå¿«çš„æ¡ä»¶ä¸­å·¥ä½œï¼Œæ‰€ä»¥æˆ‘ä¼šé™åˆ¶æˆ‘çš„ç½‘é€Ÿæ¥è§‚å¯Ÿé‚£äº›ç½‘é€Ÿè¾ƒæ…¢çš„äººä»¬æ‰€ä½“éªŒåˆ°çš„æ€§èƒ½ã€‚</p>
<p><img src="/images/pasted-143.png" alt="upload successful"></p>
<p>è¿™æ˜¯ä¸ªå¾ˆæœ‰ç”¨çš„åŠŸèƒ½ã€‚å®ƒå¯ä»¥ä¸å¼ºåˆ¶åˆ·æ–°ã€æ¸…é™¤ç¼“å­˜ç»“åˆèµ·æ¥ä½¿ç”¨ã€‚</p>
<blockquote>
<p><a href="https://twitter.com/sarah_edo" target="_blank" rel="noopener">@sarah_edo</a>ï¼šè¿™å„¿æœ‰ä¸ªä¸æ˜¯ç§˜å¯†çš„å°æŠ€å·§ï¼Œä½†æ˜¯å¾ˆå¤šäººè¿˜ä¸çŸ¥é“ï¼šæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç„¶ååœ¨åˆ·æ–°æŒ‰é’®ä¸Šå³å‡»ã€‚<a href="https://t.co/FdAfF9Xtxm" target="_blank" rel="noopener">pic.twitter.com/FdAfF9Xtxm</a></p>
<p>â€” David Corbacho (@dcorbacho) <a href="https://twitter.com/dcorbacho/status/842033259664035840" target="_blank" rel="noopener">2017å¹´3æœˆ15æ—¥</a></p>
</blockquote>
<h4 id="è®¾ç½®å®šæ—¶-Debugger"><a href="#è®¾ç½®å®šæ—¶-Debugger" class="headerlink" title="è®¾ç½®å®šæ—¶ Debugger"></a>è®¾ç½®å®šæ—¶ Debugger</h4><p>è¿™ä¸€æ¡æ˜¯ Chris æä¾›çš„ã€‚å¯¹äºè¿™ç‚¹æˆ‘ä»¬å†™äº†ä¸€ç¯‡<a href="https://css-tricks.com/set-timed-debugger-web-inspect-hard-grab-elements/" target="_blank" rel="noopener">è¯¦ç»†çš„æ–‡ç« </a>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">setTimeout(function() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  debugger;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;, 3000);</span></pre></td></tr></table></figure>
<p>å®ƒä¸æˆ‘ä¹‹å‰æåˆ°çš„ <code>debugger;</code> å·¥å…·å¾ˆç±»ä¼¼ï¼Œä¸è¿‡ä½ å¯ä»¥æŠŠå®ƒæ”¾åœ¨ setTimeout å‡½æ•°ä¸­ï¼Œå¾—åˆ°æ›´å¤šè¯¦ç»†çš„ä¿¡æ¯ã€‚</p>
<h4 id="æ¨¡æ‹Ÿå™¨"><a href="#æ¨¡æ‹Ÿå™¨" class="headerlink" title="æ¨¡æ‹Ÿå™¨"></a>æ¨¡æ‹Ÿå™¨</h4><blockquote>
<p><a href="https://twitter.com/Real_CSS_Tricks" target="_blank" rel="noopener">@Real_CSS_Tricks</a> æœ‰çš„ Mac ç”¨æˆ·å¯èƒ½è¿˜ä¸çŸ¥é“ï¼Œç”¨ iOS æ¨¡æ‹Ÿå™¨åŠ ä¸Š Safari ç®€ç›´ä¸è¦å¤ªæ–¹ä¾¿ï¼ <a href="https://t.co/Uz4XO3e6uD" target="_blank" rel="noopener">pic.twitter.com/Uz4XO3e6uD</a></p>
<p>â€” Chris Coyier (@chriscoyier) <a href="https://twitter.com/chriscoyier/status/842034009060302848" target="_blank" rel="noopener">2017å¹´3æœˆ15æ—¥</a></p>
</blockquote>
<p>æˆ‘å‰é¢æåˆ°äº†ä½¿ç”¨ Eruda æ¨¡æ‹Ÿå™¨ã€‚iOS ç”¨æˆ·è¿˜æœ‰ä¸€ç§å¾ˆå¥½çš„æ¨¡æ‹Ÿå™¨å¯ä»¥ä½¿ç”¨ã€‚åœ¨è¿‡å»ï¼Œæˆ‘ä¼šå‘Šè¯‰ä½ ä½ å¾—å…ˆå®‰è£… XCodeï¼Œä½†æ˜¯è¿™æ¡æ¨ç‰¹æä¾›äº†ä¸€ç§ä¸åŒçš„æ–¹æ³•ï¼š</p>
<blockquote>
<p><a href="https://twitter.com/chriscoyier" target="_blank" rel="noopener">@chriscoyier</a><a href="https://twitter.com/Real_CSS_Tricks" target="_blank" rel="noopener">@Real_CSS_Tricks</a> å¦‚æœä½ ä¸æƒ³è£… XCodeï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥ä½¿ç”¨æ¨¡æ‹Ÿå™¨ï¼š<a href="https://t.co/WtAnZNo718" target="_blank" rel="noopener">https://t.co/WtAnZNo718</a></p>
<p>â€” Chris Harrison (@cdharrison) <a href="https://twitter.com/cdharrison/status/842038887904088065" target="_blank" rel="noopener">2017å¹´3æœˆ15æ—¥</a></p>
</blockquote>
<p>Chrome ä¹Ÿæœ‰åˆ‡æ¢è®¾å¤‡å‹å·åŠŸèƒ½ï¼Œå¾ˆå®ç”¨ã€‚</p>
<h4 id="è¿œç¨‹è°ƒè¯•"><a href="#è¿œç¨‹è°ƒè¯•" class="headerlink" title="è¿œç¨‹è°ƒè¯•"></a>è¿œç¨‹è°ƒè¯•</h4><blockquote>
<p><a href="https://twitter.com/chriscoyier" target="_blank" rel="noopener">@chriscoyier</a><a href="https://twitter.com/Real_CSS_Tricks" target="_blank" rel="noopener">@Real_CSS_Tricks</a>ï¼š<a href="https://jsconsole.com" target="_blank" rel="noopener">jsconsole</a> æ˜¯ä¸ªå¾ˆæ£’çš„å·¥å…·ã€‚</p>
<p>â€” Gilles ğŸ’¾âš½ (@gfra54) <a href="https://twitter.com/gfra54/status/842035375304523777" target="_blank" rel="noopener">2017å¹´3æœˆ15æ—¥</a></p>
</blockquote>
<p>åœ¨çœ‹åˆ°ä»–å‘çš„è¿™æ¡æ¨ç‰¹å‰ï¼Œæˆ‘è¿˜çœŸä¸çŸ¥é“æœ‰è¿™ä¹ˆä¸€ä¸ªå¥½ç”¨çš„å·¥å…·ï¼</p>
<blockquote>
<p>è¯‘æ³¨ï¼Œjsconsole å®˜ç½‘ç°åœ¨å› ä¸ºæœªçŸ¥åŸå› æ‰“ä¸å¼€äº†ï¼Œä¹Ÿå¯ä»¥ç”¨ Weinre å’Œ Ghostlab ç­‰å·¥å…·è¿›è¡Œç§»åŠ¨è¿œç¨‹è°ƒè¯•ã€‚</p>
</blockquote>
<h4 id="è°ƒè¯•-CSS-ç½‘æ ¼å¸ƒå±€"><a href="#è°ƒè¯•-CSS-ç½‘æ ¼å¸ƒå±€" class="headerlink" title="è°ƒè¯• CSS ç½‘æ ¼å¸ƒå±€"></a>è°ƒè¯• CSS ç½‘æ ¼å¸ƒå±€</h4><p>Rachel Andrew ä¹Ÿé€ç»™æˆ‘ä»¬ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ã€‚å½“ä½ ä½¿ç”¨ Firefox æ—¶ï¼Œç‚¹å‡»ä¸€ä¸ªå›¾æ ‡ï¼Œç½‘æ ¼çš„é—´éš”å°†ä¼šè¢«é«˜äº®ã€‚<a href="http://gridbyexample.com/learn/2016/12/17/learning-grid-day17/" target="_blank" rel="noopener">å¥¹çš„è§†é¢‘</a>è¯¦ç»†åœ°è§£é‡Šäº†è¿™ä¸ªæŠ€å·§ã€‚</p>
<p><img src="/images/pasted-144.png" alt="upload successful"></p>
<p><strong>ä¸Šå›¾ä¸º Rachel Andrew å±•ç¤ºäº†å¦‚ä½•åœ¨ Firefox å¼€å‘è€…å·¥å…·ä¸­å°†ç½‘æ ¼çš„é—´è·é«˜äº®ã€‚</strong></p>
<h4 id="æ•°ç»„è°ƒè¯•"><a href="#æ•°ç»„è°ƒè¯•" class="headerlink" title="æ•°ç»„è°ƒè¯•"></a>æ•°ç»„è°ƒè¯•</h4><p>Wes Bos æä¾›äº†ä¸€ä¸ªåœ¨æ•°æ®ä¸­æœç´¢å…ƒç´ çš„ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„æŠ€å·§ï¼š</p>
<blockquote>
<p> ä½ å¯ä»¥ç”¨ array.find æ¥æŸ¥æ‰¾å…ƒç´ ğŸ”¥ <a href="https://t.co/AuRtyFwnq7" target="_blank" rel="noopener">https://t.co/AuRtyFwnq7</a></p>
<p> â€” Wes Bos (@wesbos) <a href="https://twitter.com/wesbos/status/842069915158884354" target="_blank" rel="noopener">2017å¹´3æœˆ15æ—¥</a></p>
</blockquote>
<h3 id="æ›´å¤šè°ƒè¯•ç›¸å…³çš„èµ„æº"><a href="#æ›´å¤šè°ƒè¯•ç›¸å…³çš„èµ„æº" class="headerlink" title="æ›´å¤šè°ƒè¯•ç›¸å…³çš„èµ„æº"></a>æ›´å¤šè°ƒè¯•ç›¸å…³çš„èµ„æº</h3><p>Jon Kuperman åˆ¶ä½œäº†ä¸€ä¸ª <a href="https://frontendmasters.com/courses/chrome-dev-tools/" target="_blank" rel="noopener">â€œå‰ç«¯èƒ½æ‰‹è¯¾ç¨‹â€</a>ï¼Œè¿™ä¸ªè¯¾ç¨‹å°†ä¼šé€šè¿‡<a href="https://github.com/jkup/mastering-chrome-devtools" target="_blank" rel="noopener">è¿™ä¸ª app</a> æ¥å¸®åŠ©ä½ æŒæ¡å¼€å‘è€…å·¥å…·çš„ä½¿ç”¨ã€‚</p>
<p>code school çš„ä¸€ä¸ªå°è¯¾ç¨‹ï¼š<a href="https://www.codeschool.com/courses/discover-devtools" target="_blank" rel="noopener">å‘ç°å¼€å‘è€…å·¥å…·</a>ã€‚</p>
<p>Umar Hansa çš„ä¸€ä¸ªæ–°çš„åœ¨çº¿è¯¾ç¨‹ï¼š <a href="https://moderndevtools.com/" target="_blank" rel="noopener">ç°ä»£å¼€å‘è€…å·¥å…·</a>ã€‚</p>
<p>Julia Evans å†™äº†ä¸€ç¯‡å¾ˆä¸é”™çš„ <a href="http://jvns.ca/blog/2015/11/22/how-i-got-better-at-debugging/" target="_blank" rel="noopener">å…³äºè°ƒè¯•çš„æ–‡ç« </a>ï¼Œåœ¨æ­¤å‘ Jamison Dance è‡´è°¢ï¼Œæ„Ÿè°¢ä»–è®©æˆ‘çœ‹åˆ°è¿™ä¹ˆå¥½çš„æ–‡ç« ã€‚</p>
<p>Paul Irish æ€»ç»“äº†ä¸€äº› <a href="https://docs.google.com/document/d/1K-mKOqiUiSjgZTEscBLjtjd6E67oiK8H2ztOiq5tigk/pub" target="_blank" rel="noopener">ä½¿ç”¨å¼€å‘è€…å·¥å…·è¿›è¡Œæ€§èƒ½æ£€æŸ¥çš„é«˜çº§æŠ€å·§</a>ã€‚å¦‚æœä½ å’Œæˆ‘ä¸€æ ·æ˜¯ä¸ªä¹¦å‘†å­ï¼Œå¯ä»¥æŠŠå®ƒæ”¶è—èµ·æ¥æ·±å…¥ç ”ç©¶ã€‚</p>
<p>åœ¨æ–‡ç« çš„æœ€åï¼Œæˆ‘å°†æ”¾ä¸Šä¸€ä¸ªè®©äººå–œå¿§å‚åŠçš„èµ„æºã€‚æˆ‘çš„æœ‹å‹ James Golick æ˜¯ä¸€ä½æ°å‡ºçš„ç¨‹åºå‘˜ï¼Œåœ¨å¤šå¹´ä»¥å‰åšè¿‡ä¸€ä¸ªå…³äº degub çš„ä¼šè®®è®²è¯ã€‚è™½ç„¶ James å»ä¸–äº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶èƒ½åœ¨è¿™ä¸ªè§†é¢‘ä¸­å›å¿†ä»–ã€å‘ä»–å­¦ä¹ ã€‚<a href="[https://youtu.be/VV7b7fs4VI8](https://youtu.be/VV7b7fs4VI8">ç‚¹å‡»è§‚çœ‹è§†é¢‘</a>)</p>
<blockquote>
<p>å‘å¸ƒäºæ˜é‡‘ <a href="https://juejin.im/post/5901e8d6a0bb9f0065e64f63" target="_blank" rel="noopener">https://juejin.im/post/5901e8d6a0bb9f0065e64f63</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="default">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2017/04/24/%E6%88%91%E7%BB%8F%E5%B8%B8%E5%90%AC%E5%88%B0%E7%9A%84-GraphQL-%E5%88%B0%E5%BA%95%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/04/24/%E6%88%91%E7%BB%8F%E5%B8%B8%E5%90%AC%E5%88%B0%E7%9A%84-GraphQL-%E5%88%B0%E5%BA%95%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/" class="post-title-link" itemprop="url">æˆ‘ç»å¸¸å¬åˆ°çš„ GraphQL åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-24 11:41:00" itemprop="dateCreated datePublished" datetime="2017-04-24T11:41:00+08:00">2017-04-24</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Translate/" itemprop="url" rel="index">
                    <span itemprop="name">Translate</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="/images/pasted-121.png" alt="upload successful"></p>
<p>å½“å¬è¯´å‡ºäº†ä¸€é—¨æ–°æŠ€æœ¯çš„æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šå’Œæˆ‘ä¸€æ ·æœ‰ä»¥ä¸‹ 3 ç§ååº”ï¼š</p>
<h4 id="1-å«Œå¼ƒ"><a href="#1-å«Œå¼ƒ" class="headerlink" title="1. å«Œå¼ƒ"></a>1. å«Œå¼ƒ</h4><blockquote>
<p>åˆæ¥ä¸€ä¸ª JavaScript ç±»åº“ï¼Ÿåæ­£æˆ‘åªç”¨ JQuery å°±è¡Œäº†ã€‚</p>
</blockquote>
<h4 id="2-æ„Ÿå…´è¶£"><a href="#2-æ„Ÿå…´è¶£" class="headerlink" title="2. æ„Ÿå…´è¶£"></a>2. æ„Ÿå…´è¶£</h4><blockquote>
<p>å—¯ï¼Œä¹Ÿè®¸æˆ‘<strong>åº”è¯¥</strong>å»äº†è§£ä¸€ä¸‹è¿™ä¸ªæˆ‘æ€»æ˜¯å¬åˆ«äººè¯´åˆ°çš„æ–°åº“ã€‚</p>
</blockquote>
<h4 id="3-ææ…Œ"><a href="#3-ææ…Œ" class="headerlink" title="3. ææ…Œ"></a>3. ææ…Œ</h4><blockquote>
<p>æ•‘å‘½å•Šï¼æˆ‘å¿…é¡»<strong>é©¬ä¸Š</strong>å»å­¦è¿™ä¸ªæ–°åº“ï¼Œå¦åˆ™æˆ‘å°±ä¼šè¢«æ·˜æ±°äº†ï¼</p>
</blockquote>
<p>åœ¨è¿™ä¸ªè¿…é€Ÿå‘å±•çš„æ—¶ä»£ï¼Œè®©ä½ ä¿æŒç†æ™ºçš„æ–¹æ³•å°±æ˜¯ä¿æŒä¸Šè¿°ç¬¬äºŒæˆ–ç¬¬ä¸‰ç§æ€åº¦å»å­¦ä¸€äº›æ–°çš„çŸ¥è¯†ï¼Œèµ°åœ¨æ½®æµä¹‹å‰çš„åŒæ—¶æ¿€èµ·ä½ çš„å…´è¶£ã€‚</p>
<p>å› æ­¤ï¼Œç°åœ¨å°±æ˜¯å­¦ä¹  GraphQL è¿™ä¸ªä½ å¸¸å¸¸å¬åˆ°åˆ«äººè°ˆè®ºçš„ä¸œè¥¿çš„æœ€å¥½æ—¶æœºï¼</p>
<h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><p>ç®€å•çš„è¯´ï¼ŒGraphQL æ˜¯ä¸€ç§<strong>æè¿°è¯·æ±‚æ•°æ®æ–¹æ³•çš„è¯­æ³•</strong>ï¼Œé€šå¸¸ç”¨äºå®¢æˆ·ç«¯ä»æœåŠ¡ç«¯åŠ è½½æ•°æ®ã€‚GraphQL æœ‰ä»¥ä¸‹ä¸‰ä¸ªä¸»è¦ç‰¹å¾ï¼š</p>
<ul>
<li>å®ƒå…è®¸å®¢æˆ·ç«¯æŒ‡å®šå…·ä½“æ‰€éœ€çš„æ•°æ®ã€‚</li>
<li>å®ƒè®©ä»å¤šä¸ªæ•°æ®æºæ±‡æ€»å–æ•°æ®å˜å¾—æ›´ç®€å•ã€‚</li>
<li>å®ƒä½¿ç”¨äº†ç±»å‹ç³»ç»Ÿæ¥æè¿°æ•°æ®ã€‚</li>
</ul>
<p>å¦‚ä½•å…¥é—¨ GraphQL å‘¢ï¼Ÿå®ƒå®é™…åº”ç”¨èµ·æ¥æ˜¯æ€æ ·çš„å‘¢ï¼Ÿä½ å¦‚ä½•å¼€å§‹ä½¿ç”¨å®ƒå‘¢ï¼Ÿè¦æ‰¾åˆ°ä»¥ä¸Šé—®é¢˜çš„ç­”æ¡ˆï¼Œè¯·ç»§ç»­é˜…è¯»å§ï¼</p>
<p><img src="/images/pasted-122.png" alt="upload successful"></p>
<h3 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h3><p>GraphQL æ˜¯ç”± Facebook å¼€å‘çš„ï¼Œç”¨äºè§£å†³ä»–ä»¬å·¨å¤§ã€è€æ—§çš„æ¶æ„çš„æ•°æ®è¯·æ±‚é—®é¢˜ã€‚ä½†æ˜¯å³ä½¿æ˜¯æ¯” Facebook å°å¾ˆå¤šçš„ appï¼Œä¹ŸåŒæ ·ä¼šç¢°ä¸Šä¸€äº›ä¼ ç»Ÿ REST API çš„å±€é™æ€§é—®é¢˜ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾ä½ è¦å±•ç¤ºä¸€ä¸ªæ–‡ç« ï¼ˆ<code>posts</code>ï¼‰åˆ—è¡¨ï¼Œåœ¨æ¯ç¯‡æ–‡ç« çš„ä¸‹é¢æ˜¾ç¤ºå–œæ¬¢è¿™ç¯‡æ–‡ç« çš„ç”¨æˆ·åˆ—è¡¨ï¼ˆ<code>likes</code>ï¼‰ï¼Œå…¶ä¸­åŒ…æ‹¬ç”¨æˆ·åå’Œç”¨æˆ·å¤´åƒã€‚è¿™ä¸ªéœ€æ±‚å¾ˆå®¹æ˜“è§£å†³ï¼Œä½ åªéœ€è¦è°ƒæ•´ä½ çš„ <code>posts</code> API è¯·æ±‚ï¼Œåœ¨å…¶ä¸­åµŒå…¥åŒ…æ‹¬ç”¨æˆ·å¯¹è±¡çš„ <code>likes</code> åˆ—è¡¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/images/pasted-123.png" alt="upload successful"></p>
<p>ä½†æ˜¯ç°åœ¨ä½ æ˜¯åœ¨å¼€å‘ç§»åŠ¨ appï¼ŒåŠ è½½æ‰€æœ‰çš„æ•°æ®æ˜æ˜¾ä¼šé™ä½ app çš„é€Ÿåº¦ã€‚æ‰€ä»¥ä½ å¾—è¯·æ±‚ä¸¤ä¸ªæ¥å£ï¼ˆAPIï¼‰ï¼Œä¸€ä¸ªåŒ…å«äº† <code>likes</code> çš„ä¿¡æ¯ï¼Œå¦ä¸€ä¸ªä¸å«è¿™äº›ä¿¡æ¯ï¼ˆåªå«æœ‰æ–‡ç« ä¿¡æ¯ï¼‰ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å†æºå…¥å¦ä¸€ç§æƒ…å†µï¼š<code>posts</code> æ•°æ®æ˜¯ç”± MySQL æ•°æ®åº“å­˜å‚¨çš„ï¼Œè€Œ <code>likes</code> æ•°æ®å´æ˜¯ç”± Redis å­˜å‚¨çš„ã€‚ç°åœ¨ä½ è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>æŒ‰ç€è¿™ä¸ªå‰§æœ¬æƒ³ä¸€æƒ³ Facebook çš„å®¢æˆ·ç«¯æœ‰å¤šå°‘ä¸ªæ•°æ®æºå’Œ API éœ€è¦ç®¡ç†ï¼Œä½ å°±çŸ¥é“ä¸ºä»€ä¹ˆç°åœ¨è¯„ä»·å¾ˆå¥½çš„ REST API æ‰€ä½“ç°å‡ºçš„å±€é™æ€§äº†ã€‚</p>
<h3 id="è§£å†³çš„æ–¹æ¡ˆ"><a href="#è§£å†³çš„æ–¹æ¡ˆ" class="headerlink" title="è§£å†³çš„æ–¹æ¡ˆ"></a>è§£å†³çš„æ–¹æ¡ˆ</h3><p>Facebook æå‡ºäº†ä¸€ä¸ªæ¦‚å¿µå¾ˆç®€å•çš„è§£å†³æ–¹æ¡ˆï¼šä¸å†ä½¿ç”¨å¤šä¸ªâ€œæ„šè ¢â€çš„èŠ‚ç‚¹ï¼Œè€Œæ˜¯æ¢æˆç”¨ä¸€ä¸ªâ€œèªæ˜â€çš„èŠ‚ç‚¹æ¥è¿›è¡Œå¤æ‚çš„æŸ¥è¯¢ï¼Œå°†æ•°æ®æŒ‰ç…§å®¢æˆ·ç«¯çš„è¦æ±‚ä¼ å›ã€‚</p>
<p>å®é™…ä¸Šï¼ŒGraphQL å±‚å¤„äºå®¢æˆ·ç«¯ä¸ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®æºä¹‹é—´ï¼Œå®ƒæ¥æ”¶å®¢æˆ·ç«¯çš„è¯·æ±‚ç„¶åæ ¹æ®ä½ çš„è®¾å®šå–å‡ºéœ€è¦çš„æ•°æ®ã€‚è¿˜æ˜¯ä¸æ˜ç™½å—ï¼Ÿè®©æˆ‘ä»¬æ‰“ä¸ªæ¯”æ–¹å§ï¼</p>
<p>ä¹‹å‰çš„ REST æ¨¡å‹å°±å¥½åƒä½ é¢„å®šäº†ä¸€å—æŠ«è¨ï¼Œç„¶ååˆè¦å«ä¾¿åˆ©åº—é€ä¸€äº›æ—¥ç”¨å“ä¸Šé—¨ï¼Œæ¥ç€æ‰“ç”µè¯ç»™å¹²æ´—åº—å»å–è¡£æœã€‚è¿™æœ‰ä¸‰ä¸ªå•†åº—ï¼Œä½ å°±å¾—æ‰“ä¸‰æ¬¡ç”µè¯ã€‚</p>
<p><img src="/images/pasted-124.png" alt="upload successful"></p>
<p>GraphQL ä»æŸæ–¹é¢æ¥è¯´å°±åƒæ˜¯ä¸€ä¸ªç§äººåŠ©ç†ï¼šä½ åªéœ€è¦ç»™å®ƒè¿™ä¸‰ä¸ªåº—çš„åœ°å€ï¼Œç„¶åç®€å•åœ°å‘Šè¯‰å®ƒä½ éœ€è¦ä»€ä¹ˆ ï¼ˆâ€œæŠŠæˆ‘æ”¾åœ¨å¹²æ´—åº—çš„è¡£æœæ‹¿æ¥ï¼Œç„¶åå¸¦ä¸€å—å¤§å·æŠ«è¨ï¼Œé¡ºä¾¿å¸¦ä¸¤ä¸ªé¸¡è›‹â€ï¼‰ï¼Œç„¶ååç€ç­‰ä»–å›æ¥å°±è¡Œäº†ã€‚</p>
<p><img src="/images/pasted-125.png" alt="upload successful"></p>
<p>æ¢å¥è¯è¯´ï¼Œä¸ºäº†è®©ä½ èƒ½å’Œè¿™ä¸ªç¥å¥‡çš„ç§äººåŠ©æ‰‹æ²Ÿé€šï¼ŒGraphQL å»ºç«‹äº†ä¸€å¥—æ ‡å‡†çš„è¯­è¨€ã€‚</p>
<p><img src="/images/pasted-126.png" alt="upload successful"></p>
<p>ä¸Šå›¾æ˜¯ Google å›¾ç‰‡æ‰¾çš„ï¼Œæœ‰çš„ç§äººåŠ©ç†ç”šè‡³æœ‰å…«æ¡æ‰‹è‡‚ã€‚</p>
<p><img src="/images/pasted-127.png" alt="upload successful"></p>
<p>ç†è®ºä¸Šï¼Œä¸€ä¸ª GraphQL API ä¸»è¦ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼š<strong>schemaï¼ˆç±»å‹ï¼‰</strong>ï¼Œ<strong>queriesï¼ˆæŸ¥è¯¢ï¼‰</strong> ä»¥åŠ <strong>resolversï¼ˆè§£æå™¨ï¼‰</strong>ã€‚</p>
<h3 id="æŸ¥è¯¢ï¼ˆQueriesï¼‰"><a href="#æŸ¥è¯¢ï¼ˆQueriesï¼‰" class="headerlink" title="æŸ¥è¯¢ï¼ˆQueriesï¼‰"></a>æŸ¥è¯¢ï¼ˆQueriesï¼‰</h3><p>ä½ å‘ä½ çš„ GraphQL ç§äººåŠ©ç†æå‡ºçš„è¯·æ±‚å°±æ˜¯ <code>query</code> ï¼Œquery çš„å½¢å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">query &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  stuff</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç”¨ <code>query</code> å…³é”®å­—å®šä¹‰äº†ä¸€ä¸ªæ–°çš„æŸ¥è¯¢ï¼Œå®ƒå°†å–å‡ºåå« <code>stuff</code> çš„å­—æ®µã€‚GraphQL æŸ¥è¯¢ï¼ˆQueriesï¼‰æœ€æ£’ä¹‹å¤„å°±æ˜¯å®ƒæ”¯æŒå¤šä¸ªå­—æ®µåµŒå¥—æŸ¥è¯¢ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸Šé¢çš„åŸºç¡€ä¸ŠåŠ æ·±ä¸€ä¸ªå±‚çº§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">query&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  stuff &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    eggs</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    shirt</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    pizza</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p>æ­£å¦‚ä½ æ‰€è§ï¼Œå®¢æˆ·ç«¯åœ¨æŸ¥è¯¢çš„æ—¶å€™ä¸éœ€è¦å…³å¿ƒæ•°æ®æ˜¯æ¥è‡ªäºå“ªä¸€ä¸ªâ€œå•†åº—â€çš„ã€‚ä½ åªéœ€è¦è¯·æ±‚ä½ è¦çš„æ•°æ®ï¼ŒGraphQL æœåŠ¡ç«¯å°†ä¼šå®Œæˆå…¶å®ƒæ‰€æœ‰çš„å·¥ä½œã€‚</p>
<p>è¿˜æœ‰ä¸€ç‚¹å€¼å¾—æ³¨æ„ï¼Œquery å­—æ®µä¹Ÿå¯ä»¥æŒ‡å‘ä¸€ä¸ªæ•°ç»„ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªæŸ¥è¯¢ä¸€ä¸ªæ–‡ç« åˆ—è¡¨çš„å¸¸ç”¨æ¨¡å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">query &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  posts &#123; # this is an array</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    title</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    body</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    author &#123; # we can go deeper!</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">      name</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      avatarUrl</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">      profileUrl</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p>Query å­—æ®µä¹Ÿæ”¯æŒä½¿ç”¨<strong>å‚æ•°</strong>ã€‚å¦‚æœæˆ‘æƒ³å±•ç¤ºä¸€ç¯‡ç‰¹åˆ«çš„æ–‡ç« ï¼Œæˆ‘å¯ä»¥å°† <code>id</code> å‚æ•°æ”¾åœ¨ <code>post</code> å­—æ®µä¸­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">query &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  post(id: &quot;123foo&quot;)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    title</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    body</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    author&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">      name</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      avatarUrl</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">      profileUrl</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p>æœ€åï¼Œå¦‚æœæˆ‘æƒ³è®© <code>id</code> å‚æ•°èƒ½åŠ¨æ€æ”¹å˜ï¼Œæˆ‘å¯ä»¥å®šä¹‰ä¸€ä¸ª<strong>å˜é‡</strong>ï¼Œç„¶ååœ¨ query å­—æ®µä¸­é‡ç”¨å®ƒã€‚ï¼ˆè¯·æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨ query å­—æ®µå¤„ä¹Ÿè¦å®šä¹‰ä¸€æ¬¡è¿™ä¸ªå˜é‡çš„åå­—ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">query getMyPost($id: String) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  post(id: $id)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    title</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    body</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    author&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">      name</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      avatarUrl</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">      profileUrl</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p>æœ‰ä¸ªå¾ˆå¥½çš„æ–¹å¼æ¥å®è·µè¿™äº›æ–¹æ³•ï¼šä½¿ç”¨  <a href="https://developer.github.com/early-access/graphql/explorer/" target="_blank" rel="noopener">GitHubâ€™s GraphQL API Explorer</a> ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥å°è¯•ä¸‹é¢çš„æŸ¥è¯¢ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">query &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  repository(owner: &quot;graphql&quot;, name: &quot;graphql-js&quot;)&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    name</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    description</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p><img src="/images/pasted-129.png" alt="upload successful"></p>
<p>GraphQL çš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½</p>
<p>å½“ä½ å°è¯•åœ¨ä¸‹é¢è¾“å…¥ä¸€ä¸ªåä¸º <code>description</code> çš„æ–°å­—æ®µåæ—¶ï¼Œä½ å¯èƒ½ä¼šæ³¨æ„åˆ° IDE ä¼šæ ¹æ® GraphQL API å°†å¯é€‰çš„å­—æ®µåè‡ªåŠ¨è¡¥å…¨ã€‚çœŸæ£’ï¼</p>
<p><img src="/images/pasted-130.png" alt="upload successful"></p>
<p><a href="https://dev-blog.apollodata.com/the-anatomy-of-a-graphql-query-6dffa9e9e747" target="_blank" rel="noopener">The Anatomy of a GraphQL Query</a></p>
<p>ä½ å¯ä»¥è¯»è¯»è¿™ç¯‡è¶…æ£’çš„æ–‡ç« <a href="https://dev-blog.apollodata.com/the-anatomy-of-a-graphql-query-6dffa9e9e747" target="_blank" rel="noopener">ã€ŠAnatomy of a GraphQL Queryã€‹</a>ï¼Œäº†è§£æ›´å¤š GraphQL æŸ¥è¯¢çš„çŸ¥è¯†ã€‚</p>
<h3 id="è§£é‡Šå™¨ï¼ˆResolversï¼‰"><a href="#è§£é‡Šå™¨ï¼ˆResolversï¼‰" class="headerlink" title="è§£é‡Šå™¨ï¼ˆResolversï¼‰"></a>è§£é‡Šå™¨ï¼ˆResolversï¼‰</h3><p>é™¤éä½ ç»™ä»–ä»¬åœ°å€ï¼Œå¦åˆ™å³ä½¿æ˜¯è¿™ä¸ªä¸–ç•Œä¸Šæœ€å¥½çš„ç§äººåŠ©ç†ä¹Ÿä¸èƒ½å»æ‹¿åˆ°å¹²æ´—è¡£ç‰©ã€‚</p>
<p>åŒæ ·çš„ï¼ŒGraphQL æœåŠ¡ç«¯å¹¶ä¸çŸ¥é“è¦å¯¹ä¸€ä¸ªå³å°†åˆ°æ¥çš„æŸ¥è¯¢åšä»€ä¹ˆå¤„ç†ï¼Œé™¤éä½ ä½¿ç”¨ <strong>resolver</strong> æ¥å‘Šè¯‰ä»–ã€‚</p>
<p>ä¸€ä¸ª resolver ä¼šå‘Šè¯‰ GraphQL åœ¨å“ªé‡Œä»¥åŠå¦‚ä½•å»å–åˆ°å¯¹åº”å­—æ®µçš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä¹‹å‰æˆ‘ä»¬å–å‡º <code>post</code> å­—æ®µä¾‹å­çš„ resolverï¼ˆä½¿ç”¨äº† Apollo çš„ <a href="https://github.com/apollographql/graphql-tools" target="_blank" rel="noopener">GraphQL-Tools</a> ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">Query: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  post(root, args) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    return Posts.find(&#123; id: args.id &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°† resolver æ”¾åœ¨ <code>Query</code> ä¸­ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³è¦ç›´æ¥åœ¨æ ¹å±‚çº§æŸ¥è¯¢ <code>post</code>ã€‚ä½†ä½ ä¹Ÿå¯ä»¥å°† resolver æ”¾åœ¨å­å­—æ®µä¸­ï¼Œä¾‹å¦‚æŸ¥è¯¢ <code>post</code>ï¼ˆæ–‡ç« ï¼‰çš„ <code>author</code>ï¼ˆä½œè€…ï¼‰å­—æ®µå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„å½¢å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">Query: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  post(root, args) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    return Posts.find(&#123; id: args.id &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">Post: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  author(post) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    return Users.find(&#123; id: post.authorId&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p>è¿˜æœ‰ï¼Œresolver ä¸ä»…ä»…åªèƒ½è¿”å›æ•°æ®åº“é‡Œçš„å†…å®¹ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³ä¸ºä½ çš„ <code>Post</code> ç±»å‹åŠ ä¸Šä¸€ä¸ª <code>commentsCount</code>ï¼ˆè¯„è®ºæ•°é‡ï¼‰å±æ€§ï¼Œå¯ä»¥è¿™ä¹ˆåšï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">Post: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  author(post) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    return Users.find(&#123; id: post.authorId&#125;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  &#125;,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  commentsCount(post) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    return Comments.find(&#123; postId: post.id&#125;).count() </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p>ç†è§£è¿™é‡Œçš„å…³é”®åœ¨äºï¼šå¯¹äº GraphQLï¼Œ<strong>ä½ çš„ API ç»“æ„ä¸ä½ çš„æ•°æ®åº“ç»“æ„æ˜¯è§£è€¦çš„</strong>ã€‚æ¢ä¸€ç§è¯´æ³•ï¼Œæˆ‘ä»¬çš„æ•°æ®åº“ä¸­å¯èƒ½æ ¹æœ¬å°±æ²¡æœ‰ <code>author</code> å’Œ <code>commentsCount</code> è¿™ä¸¤ä¸ªå­—æ®µï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ resolver çš„åŠ›é‡å°†å®ƒä»¬â€œæ¨¡æ‹Ÿâ€å‡ºæ¥ã€‚</p>
<p>æ­£å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ resolver ä¸­å†™ä»»ä½•ä½ æƒ³å†™çš„ä»£ç ã€‚å› æ­¤ï¼Œä½ å¯ä»¥é€šè¿‡<strong>æ”¹å˜</strong> resolver ä»»æ„åœ°<strong>ä¿®æ”¹</strong>æ•°æ®åº“ä¸­çš„å†…å®¹ï¼Œè¿™ç§å½¢å¼ä¹Ÿè¢«ç§°ä¸º <strong>mutation</strong> resolverã€‚</p>
<h3 id="ç±»å‹ï¼ˆSchemaï¼‰"><a href="#ç±»å‹ï¼ˆSchemaï¼‰" class="headerlink" title="ç±»å‹ï¼ˆSchemaï¼‰"></a>ç±»å‹ï¼ˆSchemaï¼‰</h3><p>GraphQL çš„ç±»å‹ç»“æ„ç³»ç»Ÿå¯ä»¥è®©å¾ˆå¤šäº‹æƒ…éƒ½å˜å¾—å¯è¡Œã€‚æˆ‘ä»Šå¤©çš„ç›®æ ‡ä»…ä»…æ˜¯ç»™ä½ åšä¸€ä¸ªå¿«é€Ÿçš„æ¦‚è¿°è€Œä¸æ˜¯è¯¦ç»†çš„ä»‹ç»ï¼Œæ‰€ä»¥æˆ‘ä¸ä¼šåœ¨è¿™ä¸ªå†…å®¹ä¸Šç»§ç»­æ·±å…¥ã€‚</p>
<p>è¯è™½å¦‚æ­¤ï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤šè¿™æ–¹é¢çš„ä¿¡æ¯ï¼Œæˆ‘å»ºè®®ä½ é˜…è¯» <a href="http://graphql.org/learn/schema/" target="_blank" rel="noopener">GraphQL å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<p><img src="/images/pasted-131.png" alt="upload successful"></p>
<h3 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h3><p>è®©æˆ‘ä»¬å…ˆæš‚åœï¼Œå›ç­”ä¸€äº›å¸¸è§çš„é—®é¢˜ã€‚</p>
<p>ä½ è‚¯å®šæƒ³é—®ä¸€äº›é—®é¢˜ï¼Œæ¥å§ï¼Œå°½ç®¡é—®åˆ«å®³ç¾ï¼</p>
<h4 id="GraphQL-ä¸å›¾å½¢æ•°æ®åº“æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ"><a href="#GraphQL-ä¸å›¾å½¢æ•°æ®åº“æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ" class="headerlink" title="GraphQL ä¸å›¾å½¢æ•°æ®åº“æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ"></a>GraphQL ä¸å›¾å½¢æ•°æ®åº“æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</h4><p>å®ƒä»¬çœŸçš„æ²¡æœ‰å…³ç³»ï¼ŒGraphQL ä¸è¯¸å¦‚ <a href="https://en.wikipedia.org/wiki/Neo4j" target="_blank" rel="noopener">Neo4j</a> ä¹‹ç±»çš„å›¾å½¢æ•°æ®åº“æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚åç§°ä¸­çš„ â€œGraphâ€ æ˜¯æ¥è‡ªäº GraphQL ä½¿ç”¨å­—æ®µä¸å­å­—æ®µæ¥éå†ä½ çš„ API å›¾è°±ï¼›â€œQLâ€ çš„æ„æ€æ˜¯â€œæŸ¥è¯¢è¯­è¨€â€ï¼ˆquery languageï¼‰ã€‚</p>
<h4 id="æˆ‘ç”¨-REST-ç”¨çš„å¾ˆå¼€å¿ƒï¼Œä¸ºä»€ä¹ˆæˆ‘è¦åˆ‡æ¢æˆ-GraphQL-å‘¢ï¼Ÿ"><a href="#æˆ‘ç”¨-REST-ç”¨çš„å¾ˆå¼€å¿ƒï¼Œä¸ºä»€ä¹ˆæˆ‘è¦åˆ‡æ¢æˆ-GraphQL-å‘¢ï¼Ÿ" class="headerlink" title="æˆ‘ç”¨ REST ç”¨çš„å¾ˆå¼€å¿ƒï¼Œä¸ºä»€ä¹ˆæˆ‘è¦åˆ‡æ¢æˆ GraphQL å‘¢ï¼Ÿ"></a>æˆ‘ç”¨ REST ç”¨çš„å¾ˆå¼€å¿ƒï¼Œä¸ºä»€ä¹ˆæˆ‘è¦åˆ‡æ¢æˆ GraphQL å‘¢ï¼Ÿ</h4><p>å¦‚æœä½ ä½¿ç”¨ REST è¿˜æ²¡æœ‰ç¢°ä¸Š GraphQL æ‰€è§£å†³çš„é‚£äº›ç—›ç‚¹ï¼Œé‚£å½“ç„¶æ˜¯ä»¶å¥½äº‹å•¦ï¼</p>
<p>ä½†æ˜¯ä½¿ç”¨ GraphQL æ¥ä»£æ›¿ REST åŸºæœ¬ä¸ä¼šå¯¹ä½  app çš„ç”¨æˆ·ä½“éªŒäº§ç”Ÿä»»ä½•å½±å“ï¼Œæ‰€ä»¥â€œåˆ‡æ¢â€è¿™ä»¶äº‹å¹¶ä¸æ˜¯æ‰€è°“â€œç”Ÿæˆ–æ­»â€çš„æŠ‰æ‹©ã€‚è¯è™½å¦‚æ­¤ï¼Œæˆ‘è¿˜æ˜¯å»ºè®®ä½ å¦‚æœæœ‰æœºä¼šçš„è¯ï¼Œå…ˆåœ¨é¡¹ç›®é‡Œå°èŒƒå›´åœ°å°è¯•ä¸€ä¸‹ GraphQL å§ã€‚</p>
<h4 id="å¦‚æœæˆ‘ä¸ç”¨-Reactã€Relay-ç­‰æ¡†æ¶ï¼Œæˆ‘èƒ½ä½¿ç”¨-GraphQL-å—ï¼Ÿ"><a href="#å¦‚æœæˆ‘ä¸ç”¨-Reactã€Relay-ç­‰æ¡†æ¶ï¼Œæˆ‘èƒ½ä½¿ç”¨-GraphQL-å—ï¼Ÿ" class="headerlink" title="å¦‚æœæˆ‘ä¸ç”¨ Reactã€Relay ç­‰æ¡†æ¶ï¼Œæˆ‘èƒ½ä½¿ç”¨ GraphQL å—ï¼Ÿ"></a>å¦‚æœæˆ‘ä¸ç”¨ Reactã€Relay ç­‰æ¡†æ¶ï¼Œæˆ‘èƒ½ä½¿ç”¨ GraphQL å—ï¼Ÿ</h4><p>å½“ç„¶èƒ½ï¼å› ä¸º GraphQL ä»…ä»…æ˜¯ä¸€ä¸ªæ ‡å‡†ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•å¹³å°ã€ä»»ä½•æ¡†æ¶ä¸­ä½¿ç”¨å®ƒï¼Œç”šè‡³åœ¨å®¢æˆ·ç«¯ä¸­ä¹ŸåŒæ ·èƒ½åº”ç”¨å®ƒï¼ˆä¾‹å¦‚ï¼Œ<a href="http://dev.apollodata.com/" target="_blank" rel="noopener">Apollo</a> æœ‰é’ˆå¯¹ webã€iOSã€Angular ç­‰ç¯å¢ƒçš„ GraphQL å®¢æˆ·ç«¯ï¼‰ã€‚ä½ ä¹Ÿå¯ä»¥è‡ªå·±å»åšä¸€ä¸ª GraphQL æœåŠ¡ç«¯ã€‚</p>
<h4 id="GraphQL-æ˜¯-Facebook-åšçš„ï¼Œä½†æ˜¯æˆ‘ä¸ä¿¡ä»»-Facebook"><a href="#GraphQL-æ˜¯-Facebook-åšçš„ï¼Œä½†æ˜¯æˆ‘ä¸ä¿¡ä»»-Facebook" class="headerlink" title="GraphQL æ˜¯ Facebook åšçš„ï¼Œä½†æ˜¯æˆ‘ä¸ä¿¡ä»» Facebook"></a>GraphQL æ˜¯ Facebook åšçš„ï¼Œä½†æ˜¯æˆ‘ä¸ä¿¡ä»» Facebook</h4><p>å†å¼ºè°ƒä¸€æ¬¡ï¼ŒGraphQL åªæ˜¯ä¸€ä¸ªæ ‡å‡†ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨ä¸ç”¨ Facebook ä¸€è¡Œä»£ç çš„æƒ…å†µä¸‹å®ç° GraphQLã€‚</p>
<p>å¹¶ä¸”ï¼Œæœ‰ Facebook çš„æ”¯æŒå¯¹äº GraphQL ç”Ÿæ€ç³»ç»Ÿæ¥è¯´æ˜¯ä¸€ä»¶å¥½äº‹ã€‚å…³äºè¿™å—ï¼Œæˆ‘ç›¸ä¿¡ GraphQL çš„ç¤¾åŒºè¶³å¤Ÿç¹è£ï¼Œå³ä½¿ Facebook åœæ­¢ä½¿ç”¨ GraphQLï¼ŒGraphQL ä¾ç„¶èƒ½å¤ŸèŒå£®æˆé•¿ã€‚</p>
<h4 id="â€œè®©å®¢æˆ·ç«¯è‡ªå·±è¯·æ±‚éœ€è¦çš„æ•°æ®â€è¿™æ•´ä»¶äº‹æƒ…å¬èµ·æ¥ä¼¼ä¹ä¸æ€ä¹ˆå®‰å…¨â€¦â€¦"><a href="#â€œè®©å®¢æˆ·ç«¯è‡ªå·±è¯·æ±‚éœ€è¦çš„æ•°æ®â€è¿™æ•´ä»¶äº‹æƒ…å¬èµ·æ¥ä¼¼ä¹ä¸æ€ä¹ˆå®‰å…¨â€¦â€¦" class="headerlink" title="â€œè®©å®¢æˆ·ç«¯è‡ªå·±è¯·æ±‚éœ€è¦çš„æ•°æ®â€è¿™æ•´ä»¶äº‹æƒ…å¬èµ·æ¥ä¼¼ä¹ä¸æ€ä¹ˆå®‰å…¨â€¦â€¦"></a>â€œè®©å®¢æˆ·ç«¯è‡ªå·±è¯·æ±‚éœ€è¦çš„æ•°æ®â€è¿™æ•´ä»¶äº‹æƒ…å¬èµ·æ¥ä¼¼ä¹ä¸æ€ä¹ˆå®‰å…¨â€¦â€¦</h4><p>ä½ å¾—è‡ªå·±å†™è‡ªå·±çš„ resolverï¼Œå› æ­¤åœ¨è¿™ä¸ªå±‚é¢ä¸Šæ˜¯å¦ä¼šå‡ºç°å®‰å…¨é—®é¢˜å®Œå…¨å–å†³äºä½ ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸ºäº†é˜²æ­¢å®¢æˆ·ç«¯ä¸€éåˆä¸€éåœ°è¯·æ±‚æŸ¥è¯¢è®°å½•é€ æˆ DDOS æ”»å‡»ï¼Œä½ å¯ä»¥è®©å®¢æˆ·ç«¯æŒ‡å®šäº†ä¸€ä¸ª <code>limit</code> å‚æ•°å»æ§åˆ¶å®ƒæ¥å—æ•°æ®çš„æ•°é‡ã€‚</p>
<h4 id="é‚£ä¹ˆæˆ‘å¦‚ä½•ä¸Šæ‰‹-GraphQLï¼Ÿ"><a href="#é‚£ä¹ˆæˆ‘å¦‚ä½•ä¸Šæ‰‹-GraphQLï¼Ÿ" class="headerlink" title="é‚£ä¹ˆæˆ‘å¦‚ä½•ä¸Šæ‰‹ GraphQLï¼Ÿ"></a>é‚£ä¹ˆæˆ‘å¦‚ä½•ä¸Šæ‰‹ GraphQLï¼Ÿ</h4><p>é€šå¸¸æ¥è¯´ï¼Œä¸€ä¸ª GraphQL é©±åŠ¨çš„ app èµ·ç éœ€è¦ä»¥ä¸‹ä¸¤ä¸ªç»„ä»¶ï¼š</p>
<ul>
<li>ä¸€ä¸ª <strong>GraphQL æœåŠ¡ç«¯</strong> æ¥ä¸ºä½ çš„ API æä¾›æœåŠ¡ã€‚</li>
<li>ä¸€ä¸ª <strong>GraphQL å®¢æˆ·ç«¯</strong> æ¥è¿æ¥ä½ çš„èŠ‚ç‚¹ã€‚</li>
</ul>
<p>äº†è§£æ›´å¤šå¯ç”¨çš„å·¥å…·ï¼Œè¯·ç»§ç»­é˜…è¯»ã€‚</p>
<p><img src="/images/pasted-132.png" alt="upload successful"></p>
<p>ç°åœ¨ä½ åº”è¯¥å¯¹ GraphQL æœ‰äº†ä¸€ä¸ªæ°å½“çš„è®¤è¯†ï¼Œä¸‹é¢è®©æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹ GraphQL çš„ä¸»è¦å¹³å°ä¸äº§å“ã€‚</p>
<h3 id="GraphQL-æœåŠ¡ç«¯"><a href="#GraphQL-æœåŠ¡ç«¯" class="headerlink" title="GraphQL æœåŠ¡ç«¯"></a>GraphQL æœåŠ¡ç«¯</h3><p>ä¸‡ä¸ˆé«˜æ¥¼å¹³åœ°èµ·ï¼Œç›–èµ·è¿™æ ‹æ¥¼çš„ç¬¬ä¸€å—ç –å°±æ˜¯ä¸€ä¸ª GraphQL æœåŠ¡ç«¯ã€‚ <a href="http://graphql.org/" target="_blank" rel="noopener">GraphQL</a> å®ƒæœ¬èº«ä»…ä»…æ˜¯ä¸€ä¸ªæ ‡å‡†ï¼Œå› æ­¤å®ƒæ•å¼€å¤§é—¨æ¥å—å„ç§å„æ ·çš„å®ç°ã€‚</p>
<h4 id="GraphQL-JS-Node"><a href="#GraphQL-JS-Node" class="headerlink" title="GraphQL-JS  (Node)"></a><a href="https://github.com/graphql/graphql-js" target="_blank" rel="noopener">GraphQL-JS</a>  (Node)</h4><p>å®ƒæ˜¯ GraphQL çš„æœ€åˆçš„å®ç°ã€‚ä½ å¯ä»¥å°†å®ƒå’Œ <a href="https://github.com/graphql/express-graphql" target="_blank" rel="noopener">express-graphql</a> ä¸€èµ·ä½¿ç”¨ï¼Œ<a href="http://graphql.org/graphql-js/running-an-express-graphql-server/" target="_blank" rel="noopener">åˆ›å»ºä½ è‡ªå·±çš„ API æœåŠ¡</a> ã€‚</p>
<h4 id="GraphQL-Server-Node"><a href="#GraphQL-Server-Node" class="headerlink" title="GraphQL-Server (Node)"></a><a href="http://graphql.org/graphql-js/running-an-express-graphql-server/" target="_blank" rel="noopener">GraphQL-Server</a> (Node)</h4><p><a href="http://apollostack.com" target="_blank" rel="noopener">Apollo</a> å›¢é˜Ÿä¹Ÿæœ‰ä»–ä»¬è‡ªå·±çš„ä¸€ç«™å¼ GraphQL æœåŠ¡ç«¯å®ç°ã€‚å®ƒè™½ç„¶è¿˜æ²¡æœ‰åƒ GraphQL-JS ä¸€æ ·è¢«å¹¿æ³›ä½¿ç”¨ï¼Œä½†æ˜¯å®ƒçš„æ–‡æ¡£ã€æ”¯æŒéƒ½åšå¾—å¾ˆæ£’ï¼Œä½¿ç”¨å®ƒèƒ½å¿«é€Ÿå–å¾—è¿›å±•ã€‚</p>
<h4 id="å…¶å®ƒå¹³å°"><a href="#å…¶å®ƒå¹³å°" class="headerlink" title="å…¶å®ƒå¹³å°"></a><a href="http://graphql.org/code/" target="_blank" rel="noopener">å…¶å®ƒå¹³å°</a></h4><p>GraphQL.org åˆ—äº†ä¸€ä¸ªæ¸…å•ï¼š <a href="http://graphql.org/code/" target="_blank" rel="noopener">GraphQL åœ¨å…¶å®ƒå¹³å°ä¸‹çš„å®ç°æ¸…å•</a>  ï¼ˆåŒ…æ‹¬ PHPã€Ruby ç­‰ï¼‰ã€‚</p>
<h3 id="GraphQL-å®¢æˆ·ç«¯"><a href="#GraphQL-å®¢æˆ·ç«¯" class="headerlink" title="GraphQL å®¢æˆ·ç«¯"></a>GraphQL å®¢æˆ·ç«¯</h3><p>è™½ç„¶ä½ ä¸ä½¿ç”¨å®¢æˆ·ç«¯ç±»åº“ä¹Ÿå¯ä»¥å¾ˆå¥½åœ°æŸ¥è¯¢ GraphQL APIï¼Œä½†æ˜¯ä¸€ä¸ªç›¸å¯¹åº”çš„å®¢æˆ·ç«¯ç±»åº“å°†ä¼š<a href="https://dev-blog.apollodata.com/why-you-might-want-a-graphql-client-e864050f789c" target="_blank" rel="noopener">è®©ä½ çš„å¼€å‘æ›´åŠ è½»æ¾</a>ã€‚</p>
<h4 id="Relay"><a href="#Relay" class="headerlink" title="Relay"></a><a href="https://facebook.github.io/relay/" target="_blank" rel="noopener">Relay</a></h4><p>Relay æ˜¯ Facebook çš„ GraphQL å·¥å…·ã€‚æˆ‘è¿˜æ²¡ç”¨è¿‡å®ƒï¼Œä½†æ˜¯æˆ‘å¬è¯´å®ƒä¸»è¦æ˜¯ä¸ºäº† Facebook è‡ªå·±çš„éœ€æ±‚é‡èº«å®šåšçš„ï¼Œå¯èƒ½å¯¹å¤§å¤šæ•°çš„ç”¨æˆ·æ¥è¯´ä¸æ˜¯é‚£ä¹ˆäººæ€§åŒ–ã€‚</p>
<h4 id="Apollo-Client"><a href="#Apollo-Client" class="headerlink" title="Apollo Client"></a><a href="http://www.apollodata.com/" target="_blank" rel="noopener">Apollo Client</a></h4><p>åœ¨è¿™ä¸ªé¢†åŸŸçš„æœ€æ–°å‚èµ›è€…æ˜¯ <a href="http://apollostack.com" target="_blank" rel="noopener">Apollo</a>ï¼Œå®ƒæ­£åœ¨è¿…é€Ÿå‘å±•ã€‚å…¸å‹çš„ Apollo å®¢æˆ·ç«¯æŠ€æœ¯æ ˆç”±ä»¥ä¸‹ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li><a href="http://dev.apollodata.com/core/" target="_blank" rel="noopener">Apollo-client</a>ï¼Œå®ƒèƒ½è®©ä½ åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ GraphQL æŸ¥è¯¢ï¼Œå¹¶å­˜å‚¨æ•°æ®ã€‚ï¼ˆå®ƒè¿˜æœ‰è‡ªå·±çš„<a href="https://github.com/apollographql/apollo-client-devtools" target="_blank" rel="noopener">å¼€å‘è€…æ’ä»¶</a>ï¼‰ã€‚</li>
<li>ä¸ä½ ç”¨çš„å‰ç«¯æ¡†æ¶çš„è¿æ¥ä»¶ï¼ˆä¾‹å¦‚ <a href="http://dev.apollodata.com/react/" target="_blank" rel="noopener">React-Apollo</a>ã€<a href="http://dev.apollodata.com/angular2/" target="_blank" rel="noopener">Angular-Apollo</a> ç­‰ï¼‰ã€‚</li>
</ul>
<p>å¦å¤–ï¼Œåœ¨é»˜è®¤çš„æƒ…å†µä¸‹ Apollo å®¢æˆ·ç«¯ä½¿ç”¨  <a href="http://redux.js.org" target="_blank" rel="noopener">Redux</a> å­˜å‚¨æ•°æ®ã€‚è¿™ç‚¹å¾ˆæ£’ï¼ŒRedux æœ¬èº«æ˜¯ä¸€ä¸ªæœ‰ç€ä¸°å¯Œç”Ÿæ€ç³»ç»Ÿçš„è¶…æ£’çš„çŠ¶æ€ç®¡ç†ç±»åº“ã€‚</p>
<p><img src="/images/pasted-133.png" alt="upload successful"></p>
<p>Apollo åœ¨ Chrome å¼€å‘è€…å·¥å…·ä¸­çš„æ’ä»¶</p>
<h3 id="å¼€æº-App"><a href="#å¼€æº-App" class="headerlink" title="å¼€æº App"></a>å¼€æº App</h3><p>è™½ç„¶ GraphQL è¿˜å±äºæ–°é²œäº‹ç‰©ï¼Œä½†æ˜¯å®ƒå·²ç»è¢«ä¸€äº›å¼€æº app ä½¿ç”¨äº†ã€‚</p>
<h4 id="VulcanJS"><a href="#VulcanJS" class="headerlink" title="VulcanJS"></a><a href="http://vulcanjs.org" target="_blank" rel="noopener">VulcanJS</a></h4><p><img src="/images/pasted-134.png" alt="upload successful"></p>
<p>é¦–å…ˆæˆ‘å¾—å£°æ˜ä¸€ä¸‹ï¼Œæˆ‘æ˜¯ <a href="http://vulcanjs.org" target="_blank" rel="noopener">VulcanJS</a> çš„ä¸»è¦ç»´æŠ¤è€…ã€‚æˆ‘åˆ›å»º VulcanJS æ˜¯ä¸ºäº†è®©äººä»¬åœ¨ä¸ç”¨å†™å¤ªå¤šæ ·æ¿ä»£ç çš„æƒ…å†µä¸‹å……åˆ†äº«å— Reactã€GraphQL æŠ€æœ¯æ ˆçš„å¥½å¤„ã€‚ä½ å¯ä»¥æŠŠå®ƒçœ‹æˆæ˜¯â€œç°ä»£ web ç”Ÿæ€ç³»ç»Ÿçš„ Railsâ€ï¼Œè®©ä½ å¯ä»¥åœ¨çŸ­çŸ­å‡ ä¸ªå°æ—¶å†…åšå‡ºä½ çš„ CRUDï¼ˆå¢åˆ æŸ¥æ”¹ï¼‰å‹ appã€‚ï¼ˆä¾‹å¦‚ <a href="https://www.youtube.com/watch?v=qibyA_ReqEQ" target="_blank" rel="noopener">Instagram clone</a>ï¼‰</p>
<h4 id="Gatsby"><a href="#Gatsby" class="headerlink" title="Gatsby"></a><a href="https://www.gatsbyjs.org/docs/" target="_blank" rel="noopener">Gatsby</a></h4><p>Gatsby æ˜¯ä¸€ä¸ª React é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œå®ƒç°åœ¨æ˜¯åŸºäº <a href="https://www.gatsbyjs.org/docs/" target="_blank" rel="noopener">GraphQL 1.0 ç‰ˆæœ¬</a> å¼€å‘ã€‚å®ƒä¸€çœ¼çœ‹ä¸Šå»åƒä¸ªå¥‡æ€ªçš„å¤§æ‚è„ï¼Œä½†å…¶å®å®ƒçš„åŠŸèƒ½ååˆ†å¼ºå¤§ã€‚Gatsby åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ä»å¤šä¸ª GraphQL API å–å¾—æ•°æ®ï¼Œç„¶åç”¨å®ƒä»¬åˆ›å»ºå‡ºä¸€ä¸ªå…¨é™æ€çš„æ— åç«¯ React appã€‚</p>
<h3 id="å…¶å®ƒçš„-GraphQL-å·¥å…·"><a href="#å…¶å®ƒçš„-GraphQL-å·¥å…·" class="headerlink" title="å…¶å®ƒçš„ GraphQL å·¥å…·"></a>å…¶å®ƒçš„ GraphQL å·¥å…·</h3><h4 id="GraphiQL"><a href="#GraphiQL" class="headerlink" title="GraphiQL"></a><a href="https://github.com/graphql/graphiql" target="_blank" rel="noopener">GraphiQL</a></h4><p>GraphiQL æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„åŸºäºæµè§ˆå™¨çš„ IDEï¼Œå®ƒå¯ä»¥æ–¹ä¾¿ä½ è¿›è¡Œ GraphQL ç«¯ç‚¹æŸ¥è¯¢ã€‚</p>
<p><img src="/images/pasted-135.png" alt="upload successful"></p>
<p>GraphiQL</p>
<h4 id="DataLoader"><a href="#DataLoader" class="headerlink" title="DataLoader"></a><a href="https://github.com/facebook/dataloader" target="_blank" rel="noopener">DataLoader</a></h4><p>ç”±äº GraphQL çš„æŸ¥è¯¢é€šå¸¸æ˜¯åµŒå¥—çš„ï¼Œä¸€ä¸ªæŸ¥è¯¢å¯èƒ½ä¼šè°ƒç”¨å¾ˆå¤šä¸ªæ•°æ®åº“è¯·æ±‚ã€‚ä¸ºäº†é¿å…å½±å“æ€§èƒ½ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€äº›æ‰¹é‡å‡ºå…¥åº“æ¡†æ¶å’Œç¼“å­˜åº“ï¼Œä¾‹å¦‚ Facebook å¼€å‘çš„ DataLoaderã€‚</p>
<h4 id="Create-GraphQL-Server"><a href="#Create-GraphQL-Server" class="headerlink" title="Create GraphQL Server"></a><a href="https://blog.hichroma.com/create-graphql-server-instantly-scaffold-a-graphql-server-1ebad1e71840" target="_blank" rel="noopener">Create GraphQL Server</a></h4><p>Create GraphQL Server æ˜¯ä¸€ä¸ªç®€å•çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒèƒ½å¿«é€Ÿåœ°å¸®ä½ æ­å»ºå¥½åŸºäº Node æœåŠ¡ç«¯ä¸ Mongo æ•°æ®åº“çš„ GraphQL æœåŠ¡ç«¯ã€‚</p>
<h3 id="GraphQL-æœåŠ¡"><a href="#GraphQL-æœåŠ¡" class="headerlink" title="GraphQL æœåŠ¡"></a>GraphQL æœåŠ¡</h3><p>æœ€åï¼Œè¿™å„¿åˆ—äº†ä¸€äº› GraphQL BAASï¼ˆåå°å³æœåŠ¡ï¼‰å…¬å¸ï¼Œå®ƒä»¬å·²ç»ä¸ºä½ å‡†å¤‡å¥½äº†æœåŠ¡ç«¯çš„æ‰€æœ‰ä¸œè¥¿ã€‚è¿™å¯èƒ½æ˜¯ä¸€ä¸ªè®©ä½ å°è¯•ä¸€ä¸‹ GraphQL ç”Ÿæ€ç³»ç»Ÿçš„å¾ˆå¥½çš„æ–¹å¼ã€‚</p>
<h4 id="GraphCool"><a href="#GraphCool" class="headerlink" title="GraphCool"></a><a href="http://graph.cool" target="_blank" rel="noopener">GraphCool</a></h4><p>ä¸€ä¸ªç”± GraphQL å’Œ AWS Lambda ç»„æˆçš„ä¸€ä¸ªå¼¹æ€§åç«¯å¹³å°æœåŠ¡ï¼Œå®ƒæä¾›äº†å¼€å‘è€…å…è´¹è®¡åˆ’ã€‚</p>
<h4 id="Scaphold"><a href="#Scaphold" class="headerlink" title="Scaphold"></a><a href="https://scaphold.io/" target="_blank" rel="noopener">Scaphold</a></h4><p>å¦ä¸€ä¸ª GraphQL BAAS å¹³å°ï¼Œå®ƒä¹Ÿæä¾›äº†å…è´¹è®¡åˆ’ã€‚ä¸ GraphCool ç›¸æ¯”ï¼Œå®ƒæä¾›äº†æ›´å¤šçš„åŠŸèƒ½ã€‚ï¼ˆä¾‹å¦‚å®šåˆ¶ç”¨æˆ·è§’è‰²ã€å¸¸è§„æ“ä½œçš„å›è°ƒé’©å­ç­‰ï¼‰</p>
<p><img src="/images/pasted-136.png" alt="upload successful"></p>
<p>ä¸‹é¢æ˜¯ä¸€äº›èƒ½è®©ä½ å­¦ä¹  GraphQL çš„èµ„æºã€‚</p>
<h4 id="GraphQL-org"><a href="#GraphQL-org" class="headerlink" title="GraphQL.org"></a><a href="http://graphql.org/learn/" target="_blank" rel="noopener">GraphQL.org</a></h4><p>GraphQL çš„å®˜æ–¹ç½‘ç«™ï¼Œæœ‰è®¸å¤šå¾ˆå¥½çš„æ–‡æ¡£ä¾›ä½ å­¦ä¹ ã€‚</p>
<h4 id="LearnGraphQL"><a href="#LearnGraphQL" class="headerlink" title="LearnGraphQL"></a><a href="https://learngraphql.com/" target="_blank" rel="noopener">LearnGraphQL</a></h4><p>LearnGraphQL æ˜¯ç”± <a href="https://kadira.io/" target="_blank" rel="noopener">Kadira</a> å‘˜å·¥å…±åŒåˆ¶ä½œçš„è¯¾ç¨‹ã€‚</p>
<h4 id="LearnApollo"><a href="#LearnApollo" class="headerlink" title="LearnApollo"></a><a href="https://www.learnapollo.com/" target="_blank" rel="noopener">LearnApollo</a></h4><p>LearnApollo æ˜¯ç”± GraphCool åˆ¶ä½œçš„å…è´¹è¯¾ç¨‹ï¼Œæ˜¯å¯¹äº LearnGraphQL è¯¾ç¨‹çš„ä¸€ä¸ªå¾ˆå¥½çš„è¡¥å……ã€‚</p>
<h4 id="Apollo-åšå®¢"><a href="#Apollo-åšå®¢" class="headerlink" title="Apollo åšå®¢"></a><a href="https://dev-blog.apollodata.com/" target="_blank" rel="noopener">Apollo åšå®¢</a></h4><p>Apollo çš„åšå®¢æœ‰æˆå¨çš„å¹²è´§ï¼Œæœ‰å¾ˆå¤šå…³äº Apollo å’Œ GraphQL çš„è¶…æ£’çš„æ–‡ç« ã€‚</p>
<h4 id="GraphQL-å‘¨æŠ¥"><a href="#GraphQL-å‘¨æŠ¥" class="headerlink" title="GraphQL å‘¨æŠ¥"></a><a href="https://graphqlweekly.com/" target="_blank" rel="noopener">GraphQL å‘¨æŠ¥</a></h4><p>ç”± Graphcool å›¢é˜Ÿç­–åˆ’çš„ä¸€ä¸ªç®€æŠ¥ï¼Œå…¶å†…å®¹åŒ…æ‹¬ä»»ä½•æœ‰å…³ GraphQL çš„ä¿¡æ¯ã€‚</p>
<h4 id="Hashbang-å‘¨æŠ¥"><a href="#Hashbang-å‘¨æŠ¥" class="headerlink" title="Hashbang å‘¨æŠ¥"></a><a href="http://hashbangweekly.okgrow.com/" target="_blank" rel="noopener">Hashbang å‘¨æŠ¥</a></h4><p>å¦ä¸€ä¸ªä¸é”™çš„ç®€æŠ¥ï¼Œé™¤äº† GraphQL çš„å†…å®¹å¤–ï¼Œè¿˜æ¶µç›–äº† Reactã€Meteorã€‚</p>
<h4 id="Awesome-GraphQL"><a href="#Awesome-GraphQL" class="headerlink" title="Awesome GraphQL"></a><a href="https://github.com/chentsulin/awesome-graphql" target="_blank" rel="noopener">Awesome GraphQL</a></h4><p>ä¸€ä¸ªå…³äº GraphQL çš„é“¾æ¥å’Œèµ„æºçš„å¾ˆå…¨é¢çš„æ¸…å•ã€‚</p>
<p><img src="/images/pasted-137.png" alt="upload successful"></p>
<p>ä½ å¦‚ä½•å®è·µä½ åˆšå­¦åˆ°çš„ GraphQL çš„çŸ¥è¯†å‘¢ï¼Ÿä½ å¯ä»¥å°è¯•ä¸‹é¢è¿™äº›æ–¹å¼ï¼š</p>
<h4 id="Apollo-Graphcool-Next-js"><a href="#Apollo-Graphcool-Next-js" class="headerlink" title="Apollo + Graphcool + Next.js"></a><a href="https://github.com/zeit/next.js/tree/master/examples/with-apollo" target="_blank" rel="noopener">Apollo + Graphcool + Next.js</a></h4><p>å¦‚æœä½ å¯¹ Next.js ä¸ React å¾ˆç†Ÿæ‚‰ï¼Œ<a href="https://github.com/zeit/next.js/tree/master/examples/with-apollo" target="_blank" rel="noopener">è¿™ä¸ªä¾‹å­</a>å°†ä¼šå¸®åŠ©ä½ ä½¿ç”¨ Graphcool å¾ˆå¿«çš„æ­å»ºå¥½ä½ çš„ GraphQL ç«¯ç‚¹ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ Apollo è¿›è¡ŒæŸ¥è¯¢ã€‚</p>
<h4 id="VulcanJS-1"><a href="#VulcanJS-1" class="headerlink" title="VulcanJS"></a><a href="http://docs.vulcanjs.org/" target="_blank" rel="noopener">VulcanJS</a></h4><p><a href="http://docs.vulcanjs.org/" target="_blank" rel="noopener">Vulcan æ•™ç¨‹</a>å°†ä¼šå¼•å¯¼ä½ åˆ›å»ºä¸€ä¸ªç®€å•çš„ GraphQL æ•°æ®å±‚ï¼Œæ—¢æœ‰æœåŠ¡ç«¯éƒ¨åˆ†ä¹Ÿæœ‰å®¢æˆ·ç«¯éƒ¨åˆ†ã€‚å› ä¸º Vulcan æ˜¯ä¸€ä¸ªä¸€ç«™å¼å¹³å°ï¼Œæ‰€ä»¥è¿™ç§æ— éœ€ä»»ä½•é…ç½®çš„æ–¹å¼æ˜¯ä¸€ç§å¾ˆå¥½çš„ä¸Šæ‰‹é€”å¾„ã€‚å¦‚æœä½ éœ€è¦å¸®åŠ©ï¼Œè¯·è®¿é—®<a href="http://slack.vulcanjs.org/" target="_blank" rel="noopener">æˆ‘ä»¬çš„ Slack æ ç›®</a>ï¼</p>
<h4 id="GraphQL-amp-React-æ•™ç¨‹"><a href="#GraphQL-amp-React-æ•™ç¨‹" class="headerlink" title="GraphQL &amp; React æ•™ç¨‹"></a><a href="https://blog.hichroma.com/graphql-react-tutorial-part-1-6-d0691af25858#.o54ygcruh" target="_blank" rel="noopener">GraphQL &amp; React æ•™ç¨‹</a></h4><p>Chroma åšå®¢æœ‰ä¸€ç¯‡<a href="https://blog.hichroma.com/graphql-react-tutorial-part-1-6-d0691af25858#.o54ygcruh" target="_blank" rel="noopener">ã€Šåˆ†ä¸ºå…­éƒ¨çš„æ•™ç¨‹ã€‹</a>ï¼Œè®²è¿°äº†å¦‚ä½•æŒ‰ç…§ç»„ä»¶é©±åŠ¨çš„å¼€å‘æ–¹å¼æ¥æ„å»ºä¸€ä¸ª React/GraphQL appã€‚</p>
<p><img src="/images/pasted-138.png" alt="upload successful"></p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å½“ä½ åˆšå¼€å§‹æ¥è§¦ GraphQL å¯èƒ½ä¼šè§‰å¾—å®ƒéå¸¸å¤æ‚ï¼Œå› ä¸ºå®ƒæ¨ªè·¨äº†ç°ä»£è½¯ä»¶å¼€å‘çš„ä¼—å¤šé¢†åŸŸã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ ç¨å¾®èŠ±ç‚¹æ—¶é—´å»æ˜ç™½å®ƒçš„åŸç†ï¼Œæˆ‘è®¤ä¸ºä½ å¯ä»¥æ‰¾åˆ°å®ƒå¾ˆå¤šçš„å¯å–ä¹‹å¤„ã€‚</p>
<p>æ‰€ä»¥ä¸ç®¡ä½ æœ€åä¼šä¸ä¼šç”¨ä¸Šå®ƒï¼Œæˆ‘ç›¸ä¿¡å¤šäº†è§£äº†è§£ GraphQL æ˜¯å€¼å¾—çš„ã€‚è¶Šæ¥è¶Šå¤šçš„å…¬å¸ä¸æ¡†æ¶å¼€å§‹æ¥å—å®ƒï¼Œè¿‡å‡ å¹´å®ƒå¯èƒ½ä¼šæˆä¸º web å¼€å‘çš„åˆä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p>
<p>èµåŒï¼Ÿä¸èµåŒï¼Ÿæœ‰ç–‘é—®ï¼Ÿè¯·ç•™ä¸‹è¯„è®ºè®©æˆ‘ä»¬çŸ¥é“ä½ çš„çœ‹æ³•ã€‚å¦‚æœä½ è¿˜æ¯”è¾ƒå–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç‚¹äº®ğŸ’šæˆ–è€…åˆ†äº«ç»™ä»–äººã€‚</p>
<blockquote>
<p>å‘å¸ƒäºæ˜é‡‘ <a href="https://juejin.im/post/58fd6d121b69e600589ec740" target="_blank" rel="noopener">https://juejin.im/post/58fd6d121b69e600589ec740</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="default">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2017/04/12/%E5%90%8C%E4%B8%AD%E6%9C%89%E5%BC%82%E7%9A%84-Webpack-%E4%B8%8E-Rollup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/04/12/%E5%90%8C%E4%B8%AD%E6%9C%89%E5%BC%82%E7%9A%84-Webpack-%E4%B8%8E-Rollup/" class="post-title-link" itemprop="url">åŒä¸­æœ‰å¼‚çš„ Webpack ä¸ Rollup</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-12 13:24:00" itemprop="dateCreated datePublished" datetime="2017-04-12T13:24:00+08:00">2017-04-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Translate/" itemprop="url" rel="index">
                    <span itemprop="name">Translate</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="/images/pasted-120.png" alt="upload successful"></p>
<p>æœ¬å‘¨ï¼ŒFacebook å°†ä¸€ä¸ª<a href="https://github.com/facebook/react/pull/9327" target="_blank" rel="noopener">éå¸¸å¤§çš„ pull request</a> åˆå¹¶åˆ°äº† React ä¸»åˆ†æ”¯ã€‚è¿™ä¸ª PR å°† React å½“å‰ä½¿ç”¨çš„æ„å»ºå·¥å…·æ›¿æ¢æˆäº† <a href="https://rollupjs.org/" target="_blank" rel="noopener">Rollup</a>ã€‚è¿™è®©è®¸å¤šäººæ„Ÿåˆ°ä¸è§£ï¼Œçº·çº·åœ¨æ¨ç‰¹ä¸Šæé—®ï¼šâ€œä¸ºä»€ä¹ˆä½ ä»¬é€‰æ‹© Rollup è€Œä¸é€‰æ‹© Webpack å‘¢ï¼Ÿâ€<sub><a href="https://twitter.com/stanlemon/status/849366789825994752" target="_blank" rel="noopener">1</a></sub> <sub><a href="https://twitter.com/MrMohtas/status/849362334988595201" target="_blank" rel="noopener">2</a></sub> <sub><a href="https://twitter.com/kyleholzinger/status/849683292760797184" target="_blank" rel="noopener">3</a></sub></p>
<p>æœ‰äººé—®è¿™ä¸ªé—®é¢˜æ˜¯å¾ˆæ­£å¸¸çš„ã€‚<a href="https://webpack.js.org/" target="_blank" rel="noopener">Webpack</a> æ˜¯ç°åœ¨ JavaScript ç¤¾åŒºä¸­æœ€ä¼Ÿå¤§çš„æˆåŠŸä¼ å¥‡ä¹‹ä¸€ï¼Œå®ƒæœ‰ç€æ•°ç™¾ä¸‡/æœˆçš„ä¸‹è½½é‡ï¼Œé©±åŠ¨äº†æˆåƒä¸Šä¸‡çš„ç½‘ç«™ä¸åº”ç”¨ã€‚å®ƒæœ‰ç€å·¨å¤§çš„ç”Ÿæ€ç³»ç»Ÿã€ä¼—å¤šçš„è´¡çŒ®è€…ï¼Œå¹¶ä¸”å®ƒä¸ä¸€èˆ¬çš„ç¤¾åŒºå¼€æºé¡¹ç›®ä¸åŒâ€”â€”å®ƒæœ‰ç€<a href="https://opencollective.com/webpack" target="_blank" rel="noopener">æ„ä¹‰éå‡¡çš„ç»æµæ”¯æŒ</a>ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒRollup æ˜¯é‚£ä¹ˆçš„å¾®ä¸è¶³é“ã€‚ä½†æ˜¯ï¼Œé™¤äº† React ä¹‹å¤–ï¼ŒVueã€Emberã€Preactã€D3ã€Three.jsã€Moment ç­‰ä¼—å¤šçŸ¥åé¡¹ç›®éƒ½ä½¿ç”¨äº† Rollupã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿä¸ºä»€ä¹ˆè¿™äº›é¡¹ç›®ä¸ä½¿ç”¨å¤§å®¶ä¸€è‡´è®¤å¯çš„ JavaScript æ¨¡å—æ‰“åŒ…å·¥å…·å‘¢ï¼Ÿ</p>
<h3 id="è¿™ä¸¤ä¸ªæ‰“åŒ…å·¥å…·çš„ä¼˜ç¼ºç‚¹"><a href="#è¿™ä¸¤ä¸ªæ‰“åŒ…å·¥å…·çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="è¿™ä¸¤ä¸ªæ‰“åŒ…å·¥å…·çš„ä¼˜ç¼ºç‚¹"></a>è¿™ä¸¤ä¸ªæ‰“åŒ…å·¥å…·çš„ä¼˜ç¼ºç‚¹</h3><p>Webpack ç”± <a href="https://medium.com/@sokra" target="_blank" rel="noopener">Tobias Koppers</a> åœ¨ 2012 å¹´åˆ›å»ºï¼Œç”¨äºè§£å†³å½“æ—¶çš„å·¥å…·ä¸èƒ½å¤„ç†çš„é—®é¢˜ï¼šæ„å»ºå¤æ‚çš„å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ã€‚å°¤å…¶æ˜¯å®ƒçš„ä¸¤ä¸ªç‰¹ç‚¹æ”¹å˜äº†ä¸€åˆ‡ï¼š</p>
<ol>
<li><strong>ä»£ç åˆ†å‰²</strong>å¯ä»¥å°†ä½ çš„ app åˆ†å‰²æˆè®¸å¤šä¸ªå®¹æ˜“ç®¡ç†çš„åˆ†å—ï¼Œè¿™äº›åˆ†å—èƒ½å¤Ÿåœ¨ç”¨æˆ·ä½¿ç”¨ä½ çš„ app æ—¶æŒ‰éœ€åŠ è½½ã€‚è¿™æ„å‘³ç€ä½ çš„ç”¨æˆ·å¯ä»¥æœ‰æ›´å¿«çš„äº¤äº’ä½“éªŒã€‚å› ä¸ºè®¿é—®é‚£äº›æ²¡æœ‰ä½¿ç”¨ä»£ç åˆ†å‰²çš„åº”ç”¨æ—¶ï¼Œå¿…é¡»è¦ç­‰å¾…æ•´ä¸ªåº”ç”¨éƒ½è¢«ä¸‹è½½å¹¶è§£æå®Œæˆã€‚å½“ç„¶ï¼Œä½ <strong>ä¹Ÿå¯ä»¥</strong>è‡ªå·±æ‰‹åŠ¨å»è¿›è¡Œä»£ç åˆ†å‰²ï¼Œä½†æ˜¯â€¦â€¦æ€»ä¹‹ï¼Œç¥ä½ å¥½è¿ã€‚</li>
<li><strong>é™æ€èµ„æº</strong>çš„å¯¼å…¥ï¼šå›¾ç‰‡ã€CSS ç­‰é™æ€èµ„æºå¯ä»¥ç›´æ¥å¯¼å…¥åˆ°ä½ çš„ app ä¸­ï¼Œå°±å’Œå…¶å®ƒçš„æ¨¡å—ã€èŠ‚ç‚¹ä¸€æ ·èƒ½å¤Ÿè¿›è¡Œä¾èµ–ç®¡ç†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å†ä¹Ÿä¸ç”¨å°å¿ƒç¿¼ç¿¼åœ°å°†å„ä¸ªé™æ€æ–‡ä»¶æ”¾åœ¨ç‰¹å®šçš„æ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åå†å»ç”¨è„šæœ¬ç»™æ–‡ä»¶ URL åŠ ä¸Šå“ˆå¸Œä¸²äº†ã€‚Webpack å·²ç»å¸®ä½ å®Œæˆäº†è¿™ä¸€åˆ‡ã€‚</li>
</ol>
<p>è€Œ Rollup çš„å¼€å‘ç†å¿µåˆ™ä¸åŒï¼šå®ƒåˆ©ç”¨ ES2015 æ¨¡å—çš„å·§å¦™è®¾è®¡ï¼Œå°½å¯èƒ½é«˜æ•ˆåœ°æ„å»ºç²¾ç®€ä¸”æ˜“åˆ†å‘çš„ JavaScript åº“ã€‚è€Œå…¶å®ƒçš„æ¨¡å—æ‰“åŒ…å™¨ï¼ˆåŒ…æ‹¬ Webpackåœ¨å†…ï¼‰éƒ½æ˜¯é€šè¿‡å°†æ¨¡å—åˆ†åˆ«å°è£…è¿›å‡½æ•°ä¸­ï¼Œç„¶å°†è¿™äº›å‡½æ•°é€šè¿‡èƒ½åœ¨æµè§ˆå™¨ä¸­å®ç°çš„ <code>require</code> æ–¹æ³•æ‰“åŒ…ï¼Œæœ€åä¾æ¬¡å¤„ç†è¿™äº›å‡½æ•°ã€‚åœ¨ä½ éœ€è¦å®ç°æŒ‰éœ€åŠ è½½çš„æ—¶å€™ï¼Œè¿™ç§åšæ³•éå¸¸çš„æ–¹ä¾¿ï¼Œä½†æ˜¯è¿™æ ·åšå¼•å…¥äº†å¾ˆå¤šæ— å…³ä»£ç ï¼Œæ¯”è¾ƒæµªè´¹èµ„æºã€‚å½“<a href="https://nolanlawson.com/2016/08/15/the-cost-of-small-modules/" target="_blank" rel="noopener">ä½ æœ‰å¾ˆå¤šæ¨¡å—è¦æ‰“åŒ…çš„æ—¶å€™ï¼Œè¿™ç§æƒ…å†µä¼šå˜å¾—æ›´ç³Ÿç³•</a>ã€‚</p>
<p>ES2015 æ¨¡å—åˆ™å¯ç”¨äº†ä¸€ç§ä¸åŒçš„å®ç°æ–¹æ³•ï¼ŒRollup ç”¨çš„ä¹Ÿå°±æ˜¯è¿™ç§æ–¹æ³•ã€‚æ‰€æœ‰ä»£ç éƒ½å°†è¢«æ”¾ç½®åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œå¹¶ä¸”ä¼šåœ¨ä¸€èµ·è¿›è¡Œå¤„ç†ã€‚å› æ­¤å¾—åˆ°çš„æœ€ç»ˆä»£ç ç›¸è¾ƒè€Œè¨€ä¼šæ›´åŠ çš„ç²¾ç®€ï¼Œè¿è¡Œèµ·æ¥è‡ªç„¶ä¹Ÿå°±æ›´å¿«ã€‚ä½ å¯ä»¥<a href="https://rollupjs.org/repl" target="_blank" rel="noopener">ç‚¹å‡»è¿™å„¿äº²è‡ªè¯•è¯• Rollup äº¤äº’å¼è§£é‡Šå™¨ï¼ˆREPLï¼‰</a>ã€‚</p>
<p>ä½†è¿™å„¿ä¹Ÿå­˜åœ¨ä¸€äº›éœ€è¦æƒè¡¡çš„ç‚¹ï¼šä»£ç åˆ†å‰²æ˜¯ä¸€ä¸ªå¾ˆæ£˜æ‰‹çš„é—®é¢˜ï¼Œè€Œ Rollup å¹¶ä¸èƒ½åšåˆ°è¿™ä¸€ç‚¹ã€‚åŒæ ·çš„ï¼ŒRollup ä¹Ÿä¸æ”¯æŒæ¨¡å—çƒ­æ›¿æ¢ï¼ˆHMRï¼‰ã€‚è€Œä¸”å¯¹äºæ‰“ç®—ä½¿ç”¨ Rollup çš„äººæ¥è¯´ï¼Œè¿˜æœ‰ä¸€ä¸ªæœ€å¤§çš„ç—›ç‚¹ï¼šå®ƒé€šè¿‡<a href="https://github.com/rollup/rollup-plugin-commonjs" target="_blank" rel="noopener">æ’ä»¶</a>å¤„ç†å¤§å¤šæ•° CommonJS æ–‡ä»¶çš„æ—¶å€™ï¼Œä¸€äº›ä»£ç å°†æ— æ³•è¢«ç¿»è¯‘ä¸º ES2015ã€‚è€Œä¸ä¹‹ç›¸åï¼Œä½ å¯ä»¥æŠŠè¿™ä¸€åˆ‡çš„äº‹å…¨éƒ¨æ”¾å¿ƒäº¤ç»™ Webpack å»å¤„ç†ã€‚</p>
<h3 id="é‚£ä¹ˆæˆ‘åˆ°åº•åº”è¯¥é€‰ç”¨å“ªä¸€ä¸ªå‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆæˆ‘åˆ°åº•åº”è¯¥é€‰ç”¨å“ªä¸€ä¸ªå‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆæˆ‘åˆ°åº•åº”è¯¥é€‰ç”¨å“ªä¸€ä¸ªå‘¢ï¼Ÿ"></a>é‚£ä¹ˆæˆ‘åˆ°åº•åº”è¯¥é€‰ç”¨å“ªä¸€ä¸ªå‘¢ï¼Ÿ</h3><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»æ¸…æ™°åœ°äº†è§£äº†è¿™ä¸¤ä¸ªå·¥å…·å…±å­˜å¹¶ä¸”ç›¸äº’æ”¯æ’‘çš„åŸå›  â€” å®ƒä»¬åº”ç”¨äºä¸åŒçš„åœºæ™¯ã€‚é‚£ä¹ˆï¼Œç°åœ¨è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆç®€å•æ¥è¯´å°±æ˜¯ï¼š</p>
<blockquote>
<p>åœ¨å¼€å‘åº”ç”¨æ—¶ä½¿ç”¨ Webpackï¼Œå¼€å‘åº“æ—¶ä½¿ç”¨ Rollup</p>
</blockquote>
<p>å½“ç„¶è¿™ä¸æ˜¯ä»€ä¹ˆä¸¥æ ¼çš„è§„å®šâ€”â€”æœ‰å¾ˆå¤šçš„ç½‘ç«™å’Œ app ä¸€æ ·æ˜¯ä½¿ç”¨ Rollup æ„å»ºçš„ï¼ŒåŒæ—¶ä¹Ÿæœ‰å¾ˆå¤šçš„åº“ä½¿ç”¨ Webpackã€‚ä¸è¿‡ï¼Œè¿™æ˜¯ä¸ªå¾ˆå€¼å¾—å‚è€ƒçš„ç»éªŒä¹‹è°ˆã€‚</p>
<p>å¦‚æœä½ éœ€è¦è¿›è¡Œä»£ç åˆ†å‰²ï¼Œæˆ–è€…ä½ æœ‰å¾ˆå¤šçš„é™æ€èµ„æºï¼Œå†æˆ–è€…ä½ åšçš„ä¸œè¥¿æ·±åº¦ä¾èµ– CommonJSï¼Œæ¯«æ— ç–‘é—® Webpack æ˜¯ä½ çš„æœ€ä½³é€‰æ‹©ã€‚å¦‚æœä½ çš„ä»£ç åŸºäº ES2015 æ¨¡å—ç¼–å†™ï¼Œå¹¶ä¸”ä½ åšçš„ä¸œè¥¿æ˜¯å‡†å¤‡ç»™ä»–äººä½¿ç”¨çš„ï¼Œä½ æˆ–è®¸å¯ä»¥è€ƒè™‘ä½¿ç”¨ Rollupã€‚</p>
<h3 id="å¯¹äºåŒ…ä½œè€…çš„å»ºè®®ï¼šè¯·ä½¿ç”¨-pkg-moduleï¼"><a href="#å¯¹äºåŒ…ä½œè€…çš„å»ºè®®ï¼šè¯·ä½¿ç”¨-pkg-moduleï¼" class="headerlink" title="å¯¹äºåŒ…ä½œè€…çš„å»ºè®®ï¼šè¯·ä½¿ç”¨ pkg.moduleï¼"></a>å¯¹äºåŒ…ä½œè€…çš„å»ºè®®ï¼šè¯·ä½¿ç”¨ <code>pkg.module</code>ï¼</h3><p>åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œä½¿ç”¨ JavaScript åº“æ˜¯ä¸€ä»¶æœ‰ç‚¹é£é™©çš„äº‹ï¼Œå› ä¸ºè¿™æ„å‘³ç€ä½ å¿…é¡»å’Œåº“çš„ä½œè€…åœ¨æ¨¡å—ç³»ç»Ÿä¸Šçš„æ„è§ä¿æŒä¸€è‡´ã€‚å¦‚æœä½ ä½¿ç”¨ Browserify è€Œä»–æ›´å–œæ¬¢ AMDï¼Œä½ å°±ä¸å¾—ä¸åœ¨ build ä¹‹å‰å…ˆå¼ºè¡Œå°†ä¸¤è€…ç²˜èµ·æ¥ã€‚<a href="https://github.com/umdjs/umd" target="_blank" rel="noopener">é€šç”¨æ¨¡å—å®šä¹‰ï¼ˆUMDï¼‰</a>æ ¼å¼å¯¹è¿™ä¸ªé—®é¢˜è¿›è¡Œäº† <strong>éƒ¨åˆ†</strong> çš„ä¿®å¤ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰å¼ºåˆ¶è¦æ±‚åœ¨ä»»ä½•åœºæ™¯ä¸‹éƒ½ä½¿ç”¨å®ƒï¼Œå› æ­¤ä½ æ— æ³•é¢„æ–™ä½ å°†ä¼šé‡åˆ°ä»€ä¹ˆå‘ã€‚</p>
<p>ES2015 æ”¹å˜äº†è¿™ä¸€åˆ‡ï¼Œå› ä¸º <code>import</code> ä¸ <code>export</code> å°±æ˜¯è¯­è¨€è§„èŒƒæœ¬èº«çš„ä¸€éƒ¨åˆ†ã€‚åœ¨æœªæ¥ï¼Œä¸å†ä¼šæœ‰ç°åœ¨è¿™ç§æ¨¡æ£±ä¸¤å¯çš„æƒ…å†µï¼Œæ‰€æœ‰ä¸œè¥¿éƒ½å°†æ›´åŠ æ— ç¼åœ°é…åˆå·¥ä½œã€‚ä¸å¹¸çš„æ˜¯ï¼Œç”±äºå¤§å¤šæ•°æµè§ˆå™¨å’Œ Node è¿˜ä¸æ”¯æŒ <code>import</code> å’Œ <code>export</code>ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ä¾é  UMD è§„èŒƒï¼ˆå¦‚æœä½ åªå†™ Node çš„è¯ä¹Ÿå¯ä»¥ç”¨ CommonJSï¼‰ã€‚</p>
<p>ç°åœ¨ç»™ä½ çš„åº“çš„ package.json æ–‡ä»¶å¢åŠ ä¸€ä¸ª <code>&quot;module&quot;: &quot;dist/my-library.es.js&quot;</code> å…¥å£ï¼Œå¯ä»¥è®©ä½ çš„åº“åŒæ—¶æ”¯æŒ UMD ä¸ ES2015ã€‚<strong>è¿™å¾ˆé‡è¦ï¼Œå› ä¸º Webpack å’Œ Rollup éƒ½ä½¿ç”¨äº† <code>pkg.module</code> æ¥å°½å¯èƒ½çš„ç”Ÿæˆæ•ˆç‡æ›´é«˜çš„ä»£ç </strong>â€”â€”åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œå®ƒä»¬éƒ½èƒ½ä½¿ç”¨ <a href="https://webpack.js.org/guides/tree-shaking/" target="_blank" rel="noopener">tree-shake</a> æ¥ç²¾ç®€æ‰ä½ çš„åº“ä¸­æœªä½¿ç”¨çš„éƒ¨åˆ†ã€‚</p>
<p>*äº†è§£æ›´å¤šæœ‰å…³ <code>pkg.module</code> çš„å†…å®¹è¯·è®¿é—® <a href="https://github.com/rollup/rollup/wiki/pkg.module" target="_blank" rel="noopener">Rollup wiki</a> ã€‚*</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½è®©ä½ ç†æ¸…è¿™ä¸¤ä¸ªå¼€æºé¡¹ç›®ä¹‹é—´çš„å…³ç³»ã€‚å¦‚æœä½ è¿˜æœ‰é—®é¢˜ï¼Œå¯ä»¥åœ¨æ¨ç‰¹è”ç³»<a href="https://twitter.com/rich_harris" target="_blank" rel="noopener">rich_harris</a>ã€<a href="https://twitter.com/rollupjs" target="_blank" rel="noopener">rollupjs</a>ã€<a href="https://twitter.com/thelarkinn" target="_blank" rel="noopener">thelarkinn</a>ã€‚ç¥ä½ æ‰“åŒ…å¿«ä¹ï¼</p>
<p>æ„Ÿè°¢ Rich Harris å†™äº†è¿™ç¯‡æ–‡ç« ã€‚æˆ‘ä»¬åšä¿¡å¼€æºåä½œæ˜¯å…±åŒä¿ƒè¿› web æŠ€æœ¯å‰è¿›çš„é‡è¦åŠ¨åŠ›ã€‚</p>
<p>æ²¡æœ‰æ—¶é—´ä¸ºå¼€æºé¡¹ç›®åšè´¡çŒ®ï¼Ÿæƒ³è¦ä»¥å…¶å®ƒæ–¹å¼å›é¦ˆå—ï¼Ÿæ¬¢è¿é€šè¿‡ <a href="https://opencollective.com/webpack" target="_blank" rel="noopener">Open Collective è¿›è¡Œæèµ </a>ï¼Œæˆä¸º Webpack çš„æ”¯æŒè€…æˆ–èµåŠ©å•†ã€‚Open Collective ä¸ä»…ä¼šèµ„åŠ©æ ¸å¿ƒå›¢é˜Ÿï¼Œè€Œä¸”è¿˜ä¼šèµ„åŠ©é‚£äº›è´¡çŒ®å‡ºç©ºé—²æ—¶é—´å¸®åŠ©æˆ‘ä»¬æ”¹è¿›é¡¹ç›®çš„è´¡çŒ®è€…ä»¬ã€‚</p>
<blockquote>
<p>å‘å¸ƒäºæ˜é‡‘ <a href="https://juejin.im/post/58edb865570c350057f199a7" target="_blank" rel="noopener">https://juejin.im/post/58edb865570c350057f199a7</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="default">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2017/04/10/%E6%A8%A1%E5%9D%97%E5%8C%96-vs-%E5%BE%AE%E6%9C%8D%E5%8A%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/04/10/%E6%A8%A1%E5%9D%97%E5%8C%96-vs-%E5%BE%AE%E6%9C%8D%E5%8A%A1/" class="post-title-link" itemprop="url">æ¨¡å—åŒ– vs. å¾®æœåŠ¡</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-10 14:50:00" itemprop="dateCreated datePublished" datetime="2017-04-10T14:50:00+08:00">2017-04-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Translate/" itemprop="url" rel="index">
                    <span itemprop="name">Translate</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ä½¿ç”¨æ¨¡å—åŒ–ç³»ç»Ÿè®¾è®¡åŸåˆ™æ¥é¿å…å¾®æœåŠ¡çš„å¤æ‚æ€§ã€‚</p>
<p><img src="/images/pasted-118.png" alt="upload successful"></p>
<p>ä»å•ä½“å¼åº”ç”¨å‘å¾®æœåŠ¡æ¶æ„è¿ç§»å·²ç»æ˜¯è€ç”Ÿå¸¸è°ˆçš„è¯é¢˜äº†ã€‚é™¤äº†è¿‡è¿‡å˜´ç˜¾ï¼Œä¼¼ä¹çœŸçš„åŠ¨æ‰‹å°†å•ä½“å¼åº”ç”¨æ‹†åˆ†æˆå¾®æœåŠ¡ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¾ˆå›°éš¾çš„äº‹ã€‚ä½†æ˜¯è¿™ç§åšæ³•çœŸçš„æ˜¯ä½ ä»¬å›¢é˜Ÿçš„æœ€ä½³é€‰æ‹©å—ï¼Ÿç»´æŠ¤ä¸€ä¸ªå‡Œä¹±çš„å•ä½“å¼åº”ç”¨çš„ç¡®å¾ˆä¼¤è„‘ç­‹ï¼Œä½†æ˜¯è¿˜æœ‰å¦ä¸€ç§ä¼˜ç§€ä½†å¸¸å¸¸è¢«äººå¿½è§†çš„æ›¿ä»£æ–¹æ¡ˆï¼šæ¨¡å—åŒ–åº”ç”¨å¼€å‘ã€‚æœ¬æ–‡å°†æ¢è®¨è¿™ç§æ›¿ä»£æ–¹æ¡ˆï¼Œå¹¶å±•ç°å…¶ä¸æ„å»ºå¾®æœåŠ¡çš„å…³ç³»ã€‚</p>
<h2 id="æ¨¡å—åŒ–å¾®æœåŠ¡"><a href="#æ¨¡å—åŒ–å¾®æœåŠ¡" class="headerlink" title="æ¨¡å—åŒ–å¾®æœåŠ¡"></a>æ¨¡å—åŒ–å¾®æœåŠ¡</h2><p>â€œé€šè¿‡å¾®æœåŠ¡ï¼Œæˆ‘ä»¬ç»ˆäºèƒ½å¤Ÿè®©å›¢é˜Ÿç‹¬ç«‹å·¥ä½œäº†â€æˆ–è€…â€œæˆ‘ä»¬çš„å•ä½“å¼åº”ç”¨å®åœ¨å¤ªå¤æ‚äº†ï¼Œå®ƒé™ä½äº†æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡â€ä¹‹ç±»çš„è¯ï¼Œåªæ˜¯è®©å›¢é˜Ÿæ”¹ç”¨å¾®æœåŠ¡æ¶æ„çš„è¯¸å¤šåŸå› ä¸­çš„ä¸€å°éƒ¨åˆ†ï¼›è¿˜æœ‰ä¸€ç§è¯´æ³•æ˜¯éœ€è¦å¯æ‹“å±•æ€§ä¸å¼¹æ€§ã€‚æ‰€æœ‰å¼€å‘äººå‘˜ä¼¼ä¹éƒ½æ¸´æœ›ç³»ç»Ÿè®¾è®¡å’Œå¼€å‘çš„æ¨¡å—åŒ–ã€‚è½¯ä»¶å¼€å‘ä¸­çš„æ¨¡å—åŒ–å¯ä»¥æ€»ç»“ä¸ºä»¥ä¸‹ä¸‰ä¸ªåŸåˆ™ï¼š</p>
<ul>
<li><strong>å¼ºå¤§çš„å°è£…æ€§</strong>ï¼šéšè—äº†å„ä¸ªç»„ä»¶å†…éƒ¨å®ç°çš„ç»†èŠ‚ï¼Œå‡å°‘äº†ä¸åŒç»„ä»¶ä¹‹é—´çš„è€¦åˆæ€§ã€‚å›¢é˜Ÿå¯ä»¥åœ¨ç³»ç»Ÿçš„å„ä¸ªéè€¦åˆéƒ¨åˆ†ä¸­ç‹¬ç«‹åœ°å·¥ä½œã€‚</li>
<li><strong>å®šä¹‰è‰¯å¥½çš„æ¥å£</strong>ï¼šä½ ä¸å¯èƒ½éšè—ç»„ä»¶å†…çš„æ‰€æœ‰ä¸œè¥¿ï¼ˆå¦åˆ™ä½ çš„ç³»ç»Ÿå°†æ¯«æ— æ„ä¹‰ï¼‰ï¼Œå› æ­¤æœ‰å¿…è¦åœ¨ç»„ä»¶ä¹‹é—´å®šä¹‰è‰¯å¥½ä¸”å¯é çš„ APIã€‚ä»»æ„ä¸€ä¸ªç»„ä»¶éƒ½å¯ä»¥è¢«ç¬¦åˆæ¥å£è§„èŒƒçš„å…¶å®ƒç»„ä»¶æ›¿æ¢ã€‚</li>
<li><strong>æ˜¾å¼ä¾èµ–</strong>ï¼šæ¨¡å—åŒ–ç³»ç»Ÿæ„å‘³ç€ä¸åŒçš„ç»„ä»¶éœ€è¦åœ¨ä¸€èµ·å·¥ä½œã€‚å› æ­¤ä½ æœ€å¥½èƒ½æœ‰ä¸€ç§é€”å¾„æ¥è¡¨è¾¾ï¼ˆä¸éªŒè¯ï¼‰å®ƒä»¬ä¹‹é—´å…³ç³»ã€‚</li>
</ul>
<p>è¿™äº›åŸåˆ™éƒ½å¯ä»¥ç”¨å¾®æœåŠ¡æ¶æ„æ¥å®ç°ã€‚åªè¦åšåˆ°å¯¹å…¶å®ƒæœåŠ¡æš´éœ²å®šä¹‰æ˜ç¡®çš„æ¥å£ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ª REST APIï¼‰ï¼Œå°±èƒ½ä»¥ä»»æ„æ–¹å¼æ¥å®ç°ä¸€ä¸ªå¾®æœåŠ¡ã€‚å®ƒçš„å®ç°ç»†èŠ‚æ˜¯è¿™ä¸ªæœåŠ¡å†…éƒ¨çš„äº‹æƒ…ï¼Œä½ å¯ä»¥æ”¹å˜è¿™äº›å®ç°ç»†èŠ‚è€Œä¸å½±å“æ•´ä¸ªç³»ç»Ÿã€‚å¾®æœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»é€šå¸¸åœ¨å¼€å‘æ—¶æ˜¯ä¸æ˜ç¡®çš„ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´åœ¨è¿è¡Œæ—¶æœåŠ¡ç¼–æ’å¤±è´¥ã€‚åªèƒ½è¯´åœ¨å¤§å¤šæ•°å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œå®ç°æœ€åä¸€æ¡æ¨¡å—åŒ–åŸåˆ™è¿˜éœ€è¦å†æ¥å†å‰ã€‚</p>
<p>å› æ­¤ï¼Œå¾®æœåŠ¡æ¶æ„å®ç°äº†é‡è¦çš„æ¨¡å—åŒ–åŸåˆ™ï¼Œå¹¶å¸¦æ¥äº†ä»¥ä¸‹ä¸‰ç‚¹å®å®åœ¨åœ¨çš„å¥½å¤„ï¼š</p>
<ul>
<li>å›¢é˜Ÿèƒ½å¤Ÿç‹¬ç«‹åœ°å·¥ä½œä¸æ‰©å¼ ã€‚</li>
<li>å¾®æœåŠ¡å°å·§ã€ä¸“ä¸€ï¼Œé™ä½äº†å¤æ‚åº¦ã€‚</li>
<li>æœåŠ¡å¯ä»¥åœ¨ä¸ä¼šå½±å“å…¨å±€çš„æƒ…å†µä¸‹å†…éƒ¨è¿›è¡Œæ›´æ”¹æˆ–è€…æ›¿æ¢ã€‚</li>
</ul>
<p>é‚£ä¹ˆå¾®æœåŠ¡æ¶æ„çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå½“ä½ ä»ä¸€ä¸ªå•ä½“å¼ï¼ˆè™½ç„¶æœ‰ç‚¹è‡ƒè‚¿ï¼‰åº”ç”¨åˆ‡æ¢æˆå¾®æœåŠ¡åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ—¶å€™ï¼Œç»™è¡¨æ“ä½œå¸¦æ¥äº†å·¨å¤§çš„å¤æ‚æ€§ã€‚çªç„¶é—´ï¼Œä½ å‘ç°ä½ è¦ä¸æ–­åœ°éƒ¨ç½²å„ç§ä¸åŒçš„ï¼ˆå¯èƒ½æ˜¯ç”±å®¹å™¨åŒ…è£…çš„ï¼‰æœåŠ¡ã€‚è¿™æ—¶ï¼ŒæœåŠ¡å‘ç°ã€åˆ†å¸ƒå¼æ—¥å¿—è®°å½•ã€è·Ÿè¸ªç­‰æ–°çš„é—®é¢˜å‡ºç°äº†ã€‚ç°åœ¨ï¼Œä½ æ›´åŠ å®¹æ˜“å‡ºç°<a href="https://en.wikipedia.org/wiki/Fallacies_of_distributed_computing" target="_blank" rel="noopener">åˆ†å¸ƒå¼è®¡ç®—çš„è°¬è®º</a>é€ æˆçš„é”™è¯¯ã€‚æ¥å£çš„ç‰ˆæœ¬ç®¡ç†ä¸é…ç½®ç®¡ç†æˆä¸ºä½ é¢å¯¹çš„ä¸»è¦é—®é¢˜ã€‚å„ç§é—®é¢˜å°†æ•°ä¸èƒœæ•°å‘ä½ æ¶Œæ¥ã€‚</p>
<p>äº‹å®è¯æ˜ï¼Œç”±äºæ‰€æœ‰çš„å¾®æœåŠ¡ä¸ªä½“éƒ½éœ€è¦è”åˆèµ·æ¥å®ç°ä¸šåŠ¡é€»è¾‘ï¼Œå¾®æœåŠ¡ä¹‹é—´çš„è¿æ¥å°†å˜å¾—æ— æ¯”å¤æ‚ã€‚çœ‹åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥æ„è¯†åˆ°ä¸èƒ½ç®€å•åœ°å°†å•ä½“å¼åº”ç”¨æ‹†åˆ†æˆå¾®æœåŠ¡äº†ã€‚å•ä½“å¼åº”ç”¨ä¸­çš„â€œæ„å¤§åˆ©é¢æ¡å¼ä»£ç â€é—®é¢˜é‡é‡ï¼Œåœ¨å…¶ä¸­å†åŠ ä¸Šç½‘ç»œè¾¹ç•Œä¼šå°†è¿™äº›çº ç¼ åœ¨ä¸€èµ·çš„é—®é¢˜å‡çº§æˆå½»å¤´å½»å°¾çš„ç—›è‹¦ã€‚</p>
<ul>
<li>è¯‘æ³¨ï¼š<a href="http://www.ituring.com.cn/article/10311" target="_blank" rel="noopener">ä»€ä¹ˆæ˜¯æ„å¤§åˆ©é¢å¼ä»£ç </a></li>
</ul>
<h2 id="æ¨¡å—åŒ–çš„æ›¿ä»£æ–¹æ¡ˆ"><a href="#æ¨¡å—åŒ–çš„æ›¿ä»£æ–¹æ¡ˆ" class="headerlink" title="æ¨¡å—åŒ–çš„æ›¿ä»£æ–¹æ¡ˆ"></a>æ¨¡å—åŒ–çš„æ›¿ä»£æ–¹æ¡ˆ</h2><p>è¿™æ˜¯å¦æ„å‘³ç€æˆ‘ä»¬è¦ä¹ˆæ²‰æ²¡åœ¨æ··ä¹±çš„å•ä½“å¼åº”ç”¨ä¸­ï¼Œè¦ä¹ˆæ·¹æ²¡åœ¨ä»¤äººæŠ“ç‹‚çš„å¾®æœåŠ¡å¤æ‚æ€§ä¸­å‘¢ï¼Ÿå…¶å®ï¼Œæ¨¡å—åŒ–ä¹Ÿå¯ä»¥é€šè¿‡å…¶å®ƒæ–¹å¼å®ç°ã€‚åœ¨å¼€å‘æ—¶æœ€é‡è¦çš„æ˜¯æ­£ç¡®åœ°è§„åˆ’é¡¹ç›®è¾¹ç•Œå¹¶å®æ–½æ–¹æ¡ˆï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªç»“æ„è‰¯å¥½çš„å•ä½“å¼åº”ç”¨æ¥å®ç°è¿™ä¸€ç‚¹ã€‚å½“ç„¶ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å°†å°½å¯èƒ½åˆ©ç”¨ç¼–ç¨‹è¯­è¨€ä¸å¼€å‘å·¥å…·çš„ååŠ©æ¥å®ç°æ¨¡å—åŒ–åŸåˆ™ã€‚</p>
<p>ä¾‹å¦‚åœ¨ Java ä¸­ï¼Œæœ‰å‡ ä¸ªå¯ä»¥å¸®åŠ©ä½ æ„å»ºåº”ç”¨çš„æ¨¡å—ç³»ç»Ÿã€‚OSGi æ˜¯å…¶ä¸­æœ€è‘—åçš„ä¸€ä¸ªï¼Œä¸è¿‡éšç€ Java 9 çš„å‘å¸ƒï¼ŒJava å¹³å°å°†åŠ å…¥ä¸€ä¸ªåŸç”Ÿçš„æ¨¡å—ç³»ç»Ÿã€‚ç°åœ¨æ¨¡å—ä½œä¸ºä¸€ç­‰ç»“æ„ï¼ˆfirst-class constructï¼‰ï¼Œæˆä¸ºäº†è¯­è¨€å’Œå¹³å°çš„ä¸€éƒ¨åˆ†ã€‚Java æ¨¡å—å¯ä»¥è¡¨æ˜å¯¹å…¶å®ƒæ¨¡å—çš„ä¾èµ–ï¼Œä»¥åŠåœ¨å¼ºå°è£…å®ç°ç±»çš„æ—¶å€™å…¬å¼€æš´éœ²æ¥å£ã€‚ç”šè‡³ Java å¹³å°æœ¬èº«ï¼ˆä¸€ä¸ªåºå¤§çš„ä»£ç åº“ï¼‰å·²ç»ä½¿ç”¨äº†æ–°çš„ Java æ¨¡å—ç³»ç»Ÿè¿›è¡Œæ¨¡å—åŒ–ã€‚ä½ å¯ä»¥åœ¨æˆ‘å³å°†å‡ºç‰ˆçš„ä¹¦<a href="https://www.safaribooksonline.com/library/view/java-9-modularity/9781491954157/?utm_source=newsite&amp;utm_medium=content&amp;utm_campaign=lgen&amp;utm_content=modules-vs-microservices-inline" target="_blank" rel="noopener">Java 9 Modularity</a>ä¸­äº†è§£æœ‰å…³ Java 9 æ¨¡å—åŒ–å¼€å‘çš„æ›´å¤šä¿¡æ¯ã€‚ï¼ˆç°æ—©æœŸç‰ˆæœ¬å·²ç»å‘å¸ƒï¼‰</p>
<p>å…¶å®ƒçš„è¯­è¨€ä¹Ÿæä¾›äº†ç±»ä¼¼çš„æœºåˆ¶ã€‚ä¾‹å¦‚ï¼ŒJavaScript åœ¨ ES2015 è§„èŒƒä¸­æä¾›äº†ä¸€ä¸ª<a href="http://exploringjs.com/es6/ch_modules.html" target="_blank" rel="noopener">æ¨¡å—ç³»ç»Ÿ</a>ã€‚åœ¨æ­¤ä¹‹å‰ï¼ŒNode.js ä¹Ÿä¸º JavaScript åç«¯æä¾›äº†ä¸€ä¸ªéæ ‡å‡†çš„æ¨¡å—ç³»ç»Ÿã€‚ç„¶è€Œ JavaScript ä½œä¸ºä¸€ç§åŠ¨æ€è¯­è¨€ï¼Œå¯¹äºå¼ºåˆ¶æ¥å£ï¼ˆç±»å‹ï¼‰ä¸æ¨¡å—å°è£…çš„æ”¯æŒè¿˜æ˜¯è¾ƒå¼±ã€‚ä½ å¯ä»¥è€ƒè™‘åœ¨ JavaScript çš„åŸºç¡€ä¸Šä½¿ç”¨ TypeScript æ¥é‡æ–°è·å¾—è¿™äº›ä¼˜ç‚¹ã€‚å¾®è½¯çš„ .Net æ¡†æ¶ä¸ Java ä¸€æ ·éƒ½æœ‰ç€å¼ºç±»å‹ï¼Œä½†å°±å¼ºå°è£…ä»¥åŠç¨‹åºé›†ï¼ˆAssembliesï¼‰é—´çš„æ˜¾å¼ä¾èµ–è€Œè¨€ï¼Œå®ƒä¸ Java å³å°†æ¨å‡ºçš„æ¨¡å—ç³»ç»Ÿå¹¶ä¸ç›¸åŒã€‚å°½ç®¡å¦‚æ­¤ï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ <a href="https://msdn.microsoft.com/en-us/magazine/mt707534.aspx" target="_blank" rel="noopener">.Net Core</a> ä¸­æ ‡å‡†åŒ–çš„åè½¬æ§åˆ¶æ¨¡å¼ï¼ˆIOCï¼‰ä»¥åŠåˆ›å»ºé€»è¾‘ç›¸å…³çš„ç¨‹åºé›†æ¥å®ç°è‰¯å¥½çš„æ¨¡å—åŒ–æ¶æ„ã€‚å³ä½¿æ˜¯ C++ ä¹Ÿåœ¨ä»¥åçš„ç‰ˆæœ¬ä¸­<a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/n4610.pdf" target="_blank" rel="noopener">è€ƒè™‘æ·»åŠ </a>æ¨¡å—ç³»ç»Ÿã€‚è®¸å¤šè¯­è¨€éƒ½åœ¨å‘æ¨¡å—åŒ–é è¿‘ï¼Œè¿™æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ˜¾è‘—çš„è¿›æ­¥ã€‚</p>
<p>å½“ä½ æœ‰æ„è¯†åœ°ä½¿ç”¨ä½ çš„å¼€å‘å¹³å°çš„æ¨¡å—åŒ–ç‰¹æ€§æ—¶ï¼Œä½ å°±å¯ä»¥å®ç°ä¹‹å‰æåŠçš„å¾®æœåŠ¡çš„æ¨¡å—åŒ–ä¼˜åŠ¿ã€‚åŸºæœ¬ä¸Šæ¨¡å—ç³»ç»Ÿè¶Šå¥½ï¼Œä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­è·å¾—çš„å¸®åŠ©å°±è¶Šå¤šã€‚åªè¦åœ¨ä¸åŒå›¢é˜Ÿé—´çš„æ¥è§¦ç‚¹å®šä¹‰å¥½æ˜ç¡®çš„æ¥å£ï¼Œä¸åŒçš„å›¢é˜Ÿä¹Ÿå¯ä»¥ç‹¬ç«‹è¿›è¡Œä¸åŒéƒ¨åˆ†çš„å·¥ä½œã€‚å½“ç„¶ï¼Œåœ¨éƒ¨ç½²æ—¶è¿˜æ˜¯è¦å°†æ¨¡å—åœ¨ä¸€ä¸ªå•ç‹¬çš„éƒ¨ç½²å•å…ƒä¸­ç»„åˆèµ·æ¥ã€‚è¿™æ ·å¯ä»¥é˜²æ­¢è¿‡äºå¤æ‚ï¼Œä»¥åŠå‡å°‘è¿ç§»åˆ°å¾®æœåŠ¡æ‰€éœ€è¦çš„å¼€å‘ä¸ç®¡ç†æˆæœ¬ã€‚è¯šç„¶ï¼Œè¿™ä¹Ÿæ„å‘³ç€ä½ ä¸èƒ½ä½¿ç”¨ä¸åŒçš„æŠ€æœ¯æ ˆæ¥æ„å»ºä¸åŒçš„æ¨¡å—ï¼Œä½†ä½ çš„å›¢é˜Ÿåº”è¯¥ä¸ä¼šçœŸçš„è¿™ä¹ˆåšå§ï¼Ÿ</p>
<h2 id="æ¨¡å—è®¾è®¡"><a href="#æ¨¡å—è®¾è®¡" class="headerlink" title="æ¨¡å—è®¾è®¡"></a>æ¨¡å—è®¾è®¡</h2><p>åˆ›å»ºå¥½çš„æ¨¡å—å’Œåˆ›å»ºå¥½çš„å¾®æœåŠ¡ä¸€æ ·ï¼Œéƒ½éœ€è¦ä¸¥è°¨çš„è®¾è®¡ã€‚ä¸€ä¸ªæ¨¡å—åº”è¯¥åŸºäºå…¶åŸŸçš„æœ‰ç•Œä¸Šä¸‹æ–‡å»ºæ¨¡ï¼ˆDDDï¼‰ã€‚é€‰æ‹©å¾®æœåŠ¡çš„è¾¹ç•Œæ˜¯æ¶æ„ä¸Šé‡è¦çš„å†³ç­–ï¼Œä¸€æ—¦å‡ºé”™å°±å¯èƒ½è¦ä»˜å‡ºæ²‰é‡çš„ä»£ä»·ã€‚ç›¸è¾ƒè€Œè¨€ï¼Œæ¨¡å—åŒ–åº”ç”¨ç¨‹åºæ¨¡å—çš„è¾¹ç•Œæ›´å®¹æ˜“ä¿®æ”¹ä¸€äº›ã€‚æ¨¡å—é—´çš„é‡æ„é€šå¸¸ç”±ç±»å‹ç³»ç»Ÿå’Œç¼–è¯‘å™¨æ”¯æŒã€‚å¾®æœåŠ¡è¾¹ç•Œçš„é‡æ–°åˆ’åˆ†åˆ™æ¶‰åŠå¤§é‡çš„è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰ï¼Œä»¥ç¡®ä¿è¿è¡Œæ—¶ç¨³å®šæ€§ã€‚è€å®è¯´ï¼Œä½ çœŸçš„åªç”¨ä¸€æ¬¡ä¸¤æ¬¡å°±èƒ½æ­£ç¡®çš„åˆ’åˆ†å¥½è¾¹ç•Œï¼Ÿ</p>
<p>åœ¨è®¸å¤šæ–¹é¢ï¼Œé™æ€è¯­è¨€çš„æ¨¡å—ä¸ºäº†å®šä¹‰æ˜ç¡®çš„æ¥å£è€Œæä¾›äº†æ›´å¥½çš„ç»“æ„ã€‚é€šè¿‡è°ƒç”¨å¦ä¸€ä¸ªæ¨¡å—æš´éœ²çš„æ¥å£æä¾›çš„æ–¹æ³•ï¼Œæ¯”å»è°ƒç”¨å¦ä¸€ä¸ªå¾®æœåŠ¡çš„ REST ç«¯ç‚¹å¥å£®æ€§è¦å¼ºçš„å¤šã€‚REST+JSON ç°åœ¨æ— å¤„ä¸åœ¨ï¼Œä½†åœ¨æ²¡æœ‰ç¼–è¯‘å™¨æ£€æŸ¥çš„æƒ…å†µä¸‹ï¼Œå®ƒå¹¶æ²¡æœ‰â€ç±»å‹è‰¯å¥½çš„äº’é€šæ€§â€œè¿™ä¸ªç‰¹ç‚¹ã€‚è€Œäº‹å®ä¸Šï¼Œé€šè¿‡ç½‘ç»œåºåˆ—åŒ–ï¼ˆæˆ–è€…ååºåˆ—åŒ–ï¼‰æ•°æ®å¹¶ä¸æ˜¯æ— å¼€é”€çš„ï¼Œç”šè‡³è¿™ç§ä¼ è¾“æ–¹å¼æ›´åŠ é€Šè‰²ã€‚æ­¤å¤–ï¼Œè®¸å¤šæ¨¡å—åŒ–ç³»ç»Ÿå…è®¸ä½ è¡¨æ˜æ­¤æ¨¡å—å¯¹äºå…¶å®ƒæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œæ¨¡å—ç³»ç»Ÿå°†ä¸å…è®¸è¿èƒŒè¿™äº›ä¾èµ–å…³ç³»çš„æƒ…å†µå‡ºç°ã€‚è€Œå¾®æœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»åªåœ¨è¿è¡Œæ—¶å®ç°ï¼Œå¯¼è‡´ç³»ç»Ÿéš¾ä»¥è°ƒè¯•ã€‚</p>
<p>æ¨¡å—ä¹Ÿæ˜¯ä»£ç æ‰€æœ‰æƒä¸­çš„è‡ªç„¶å•ä½ã€‚ä¸€ä¸ªå›¢é˜Ÿå¯ä»¥è´Ÿè´£ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ¨¡å—ï¼Œè€Œåªéœ€è¦ç»™å…¶å®ƒå›¢é˜Ÿæä¾›æ¨¡å—çš„å…¬å…± APIã€‚åœ¨è¿è¡Œæ—¶ï¼Œæ¨¡å—ä¹‹é—´çš„éš”ç¦»æ¯”å¾®æœåŠ¡å°‘ï¼Œæ¯•ç«Ÿæ¨¡å—åŒ–å•ä½“å¼åº”ç”¨çš„æ‰€æœ‰æ¨¡å—éƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­ã€‚</p>
<ul>
<li>è¯‘æ³¨ï¼š<a href="http://blog.csdn.net/mfowler/article/details/974251" target="_blank" rel="noopener">ä»€ä¹ˆæ˜¯ä»£ç æ‰€æœ‰æƒ</a></li>
</ul>
<p>æ¯«æ— ç–‘é—®ï¼Œå•ä½“å¼åº”ç”¨çš„æ¨¡å—ä¸å¯èƒ½åƒå¾®æœåŠ¡ä¸€æ ·æœ‰è‡ªå·±çš„æ•°æ®ã€‚æ¨¡å—åŒ–åº”ç”¨å†…éƒ¨çš„æ•°æ®äº¤æµæ˜¯é€šè¿‡å®šä¹‰è‰¯å¥½çš„æ¥å£æˆ–è€…æ¨¡å—é—´çš„æ¶ˆæ¯è¿›è¡Œçš„ï¼Œè€Œä¸æ˜¯é€šè¿‡å…±äº«æ•°æ®å­˜å‚¨è¿›è¡Œã€‚å®ƒä¸å¾®æœåŠ¡æœ€å¤§çš„å·®åˆ«å°±æ˜¯å®ƒçš„ä¸€åˆ‡éƒ½å‘ç”Ÿåœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œå› æ­¤åŒæ ·ä¸èƒ½ä½ä¼°æœ€ç»ˆçš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚å¯¹äºæ¨¡å—æ¥è¯´ï¼Œæœ€ç»ˆçš„ä¸€è‡´æ€§é—®é¢˜å¯ä»¥æ˜¯ä¸€ä¸ªç­–ç•¥é—®é¢˜ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥ä»…å°†æ•°æ®â€é€»è¾‘åœ°â€œåˆ†å¼€å­˜å‚¨åœ¨åŒä¸€æ•°æ®åº“å†…å¹¶ä»ç„¶ä½¿ç”¨è·¨åŸŸäº‹åŠ¡ã€‚è€Œå¯¹äºå¾®æœåŠ¡æ¥è¯´ï¼Œè¿™ä¸ªé—®é¢˜åˆ«æ— é€‰æ‹©ï¼šå¿…é¡»ä¿è¯æœ€ç»ˆçš„ä¸€è‡´æ€§ã€‚</p>
<h2 id="ä½•æ—¶å¾®æœåŠ¡æ‰é€‚ç”¨äºä½ çš„å›¢é˜Ÿï¼Ÿ"><a href="#ä½•æ—¶å¾®æœåŠ¡æ‰é€‚ç”¨äºä½ çš„å›¢é˜Ÿï¼Ÿ" class="headerlink" title="ä½•æ—¶å¾®æœåŠ¡æ‰é€‚ç”¨äºä½ çš„å›¢é˜Ÿï¼Ÿ"></a>ä½•æ—¶å¾®æœåŠ¡æ‰é€‚ç”¨äºä½ çš„å›¢é˜Ÿï¼Ÿ</h2><p>é‚£ä¹ˆä½•æ—¶è¿ç§»åˆ°å¾®æœåŠ¡æ¶æ„æ‰åˆé€‚å‘¢ï¼Ÿåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä¸»è¦å…³æ³¨çš„æ˜¯å¦‚ä½•é€šè¿‡æ¨¡å—åŒ–æ¥è§£å†³å¤æ‚æ€§é—®é¢˜ã€‚å¯¹äºè¿™ä¸€ç‚¹ï¼Œå¾®æœåŠ¡ä¸æ¨¡å—åŒ–åº”ç”¨éƒ½å¯ä»¥åšåˆ°ï¼Œåªä¸è¿‡å„æœ‰æ‰€éš¾ã€‚</p>
<p>å½“ä½ çš„å›¢é˜Ÿæœ‰å¦‚åŒ Google æˆ–è€… Netflix èˆ¬çš„è§„æ¨¡çš„æ—¶å€™ï¼Œæ‹¥æŠ±å¾®æœåŠ¡æ˜¯æ¯‹åº¸ç½®ç–‘çš„ã€‚ä½ æœ‰èƒ½åŠ›å»å»ºç«‹ä½ è‡ªå·±çš„å¹³å°ä¸å·¥å…·åº“ï¼Œå¹¶ä¸”å·¥ç¨‹å¸ˆçš„æ•°é‡æ’é™¤äº†ä»»ä½•ä½¿ç”¨å•ä½“å¼è§£å†³æ–¹æ¡ˆçš„å¯èƒ½ã€‚ä½†æ˜¯å¤§å¤šæ•°çš„ç»„ç»‡éƒ½è¾¾ä¸åˆ°è¿™ä¸ªè§„æ¨¡ã€‚å³ä½¿ä½ è®¤ä¸ºä½ çš„å…¬å¸æœ‰æœä¸€æ—¥å°†æˆä¸ºä¸€ä¸ªå¸‚å€¼åäº¿ç¾å…ƒçš„ç‹¬è§’å…½ï¼Œåœ¨åˆšèµ·æ­¥æ—¶ä½¿ç”¨æ¨¡å—åŒ–çš„å•ä½“å¼åº”ç”¨ä¹Ÿæ— ä¼¤å¤§é›…ã€‚</p>
<p>å¦ä¸€ä¸ªæ‹†åˆ†å¾®æœåŠ¡çš„ç†ç”±æ˜¯ï¼šä¸åŒçš„æœåŠ¡åœ¨å®ç°ä¸Šæ›´é€‚åˆä½¿ç”¨ä¸åŒçš„æŠ€æœ¯æ ˆã€‚é‚£ä¹ˆï¼Œä½ å¿…é¡»æœ‰è¶³å¤Ÿçš„è§„æ¨¡æ¥å¸å¼•äººæ‰ä»¥è§£å†³è¿™äº›è¿¥ç„¶ä¸åŒçš„æŠ€æœ¯æ ˆï¼Œå¹¶æ”¯æŒè¿™äº›å¹³å°çš„è¿è¡Œã€‚</p>
<p>å¾®æœåŠ¡è¿˜å¯ä»¥åšåˆ°ç‹¬ç«‹éƒ¨ç½²ç³»ç»Ÿçš„ä¸åŒéƒ¨åˆ†ï¼Œè¿™åœ¨å¤§å¤šæ•°æ¨¡å—åŒ–å¹³å°ä¸­å¾ˆéš¾ï¼ˆç”šè‡³ä¸å¯èƒ½ï¼‰å®ç°ã€‚éš”ç¦»éƒ¨ç½²å¢åŠ äº†ç³»ç»Ÿçš„å¼¹æ€§ä¸å®¹é”™èƒ½åŠ›ã€‚æ­¤å¤–ï¼Œæ¯ä¸ªå¾®æœåŠ¡çš„ç¼©æ”¾ç‰¹æ€§å¯ä»¥æ˜¯ä¸åŒçš„ï¼Œå¯ä»¥éƒ¨ç½²ä¸åŒçš„å¾®æœåŠ¡ä»¥åŒ¹é…ç¡¬ä»¶ã€‚æ¨¡å—åŒ–çš„å•ä½“å¼åº”ç”¨å¯ä»¥è¿›è¡Œæ°´å¹³ç¼©æ”¾ï¼Œä½†æ˜¯åªèƒ½å°†æ‰€æœ‰æ¨¡å—æ†ç»‘åœ¨ä¸€èµ·åŒæ—¶è¿›è¡Œæ‹“å±•ã€‚è™½ç„¶ä½ å¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•å¾—åˆ°å¾ˆå¤šå¥½å¤„ï¼Œä½†è¿™å¯èƒ½å¹¶ä¸æ˜¯æœ€å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»ä¹‹ï¼Œæœ€å¥½çš„æ–¹æ¡ˆå°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªæŠ˜ä¸­çš„ç‚¹ã€‚è¿™ä¸¤ç§æ–¹æ¡ˆéƒ½æœ‰å¯å–ä¹‹å¤„ï¼Œéœ€è¦æ ¹æ®å®é™…ç¯å¢ƒã€ç»„ç»‡å’Œåº”ç”¨æœ¬èº«è¿›è¡Œé€‰æ‹©ã€‚æ—¢ç„¶ä½ å¯ä»¥åœ¨ä¹‹åè¿ç§»æˆå¾®æœåŠ¡æ¶æ„ï¼Œé‚£ä¸ºä»€ä¹ˆæœ€å¼€å§‹ä¸ç›´æ¥ä½¿ç”¨æ¨¡å—åŒ–åº”ç”¨å‘¢ï¼Ÿå¦‚æœä½ ä¹‹å‰å°±å·²ç»åˆ’åˆ†å¥½äº†æ¨¡å—è¾¹ç•Œï¼Œé‚£ä¹Ÿå°±ä¸éœ€è¦å†å»æ‹†åˆ†ä½ çš„å•ä½“å¼åº”ç”¨äº†ã€‚ç”šè‡³ä½ è¿˜å¯ä»¥åœ¨æ¨¡å—å†…éƒ¨æ­å»ºå¾®æœåŠ¡æ¶æ„ã€‚é‚£ä¹ˆé—®é¢˜å°±å˜æˆäº†ï¼šä¸ºä»€ä¹ˆå¾®æœåŠ¡ä¸€å®šè¦æ˜¯â€œå¾®â€çš„å‘¢ï¼Ÿ</p>
<p>å³ä½¿ä½ çš„åº”ç”¨åˆšä»æ¨¡å—åŒ–åº”ç”¨è½¬æˆå¾®æœåŠ¡æ¶æ„ï¼ŒæœåŠ¡ä¹Ÿä¸å¿…éå¾—å¾ˆâ€œå¾®â€æ‰å…·å¤‡å¯ç»´æŠ¤æ€§ã€‚åœ¨æœåŠ¡ä¸­åº”ç”¨æ¨¡å—åŒ–åŸåˆ™èƒ½è®©å®ƒä»¬åœ¨å¤æ‚åº¦çš„å¯æ‰©å±•æ€§ä¸Šè¶…è¶Šé€šå¸¸çš„å¾®æœåŠ¡ã€‚ç°åœ¨è¿™ä»½è“å›¾ä¸­æ—¢æœ‰å¾®æœåŠ¡ä¹Ÿæœ‰æ¨¡å—ï¼Œå‡å°‘æ¶æ„ä¸­çš„æœåŠ¡çš„æ•°é‡å¯ä»¥èŠ‚çº¦æˆæœ¬ï¼›è€Œå…¶ä¸­çš„æ¨¡å—å¯ä»¥åƒæ„å»ºå•ä½“å¼åº”ç”¨ä¸€æ ·ï¼Œæ„å»ºå’Œæ‰©å±•æœåŠ¡ã€‚</p>
<p>å¦‚æœä½ è¿½æ±‚æ¨¡å—åŒ–çš„å¥½å¤„ï¼Œè¯·ç¡®ä¿è‡ªå·±ä¸è¦è‡ªå—¨è¿›å…¥ä¸€ç§â€œéå¾®æœåŠ¡ä¸å¯â€çš„å¿ƒæ€ã€‚æ¢ç´¢ä½ å–œçˆ±çš„æŠ€æœ¯æ ˆä¸­çš„åŒè¿›ç¨‹æ¨¡å—åŒ–åŠŸèƒ½æˆ–æ¡†æ¶ï¼Œä½ å°†ä¼šå¾—åˆ°æ”¯æŒå»çœŸæ­£çš„æ‰§è¡Œæ¨¡å—åŒ–è®¾è®¡ï¼Œè€Œä¸æ˜¯ä»…é ç€çº¦å®šæ¥é¿å…â€œæ„å¤§åˆ©é¢æ¡å¼ä»£ç â€ã€‚æœ€åï¼Œè¯·æ·±æ€ç†Ÿè™‘åå†é€‰æ‹©ï¼šä½ æ˜¯å¦æ„¿æ„æ¥å—å¼•å…¥å¾®æœåŠ¡é€ æˆçš„å¤æ‚åº¦æˆæœ¬ã€‚æœ‰çš„æ—¶å€™ä½ åˆ«æ— é€‰æ‹©ï¼Œä½†æ›´å¤šçš„æ—¶å€™å…¶å®ä½ å¯ä»¥æ‰¾åˆ°æ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<blockquote>
<p>å‘å¸ƒäºæ˜é‡‘ <a href="https://juejin.im/post/58eb2627da2f60005f0b2d60" target="_blank" rel="noopener">https://juejin.im/post/58eb2627da2f60005f0b2d60</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="default">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2017/04/01/%E4%B8%80%E5%90%8D-iOS-%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-React-Native-%E5%BC%80%E5%8F%91%E7%BB%8F%E5%8E%86-md/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/04/01/%E4%B8%80%E5%90%8D-iOS-%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84-React-Native-%E5%BC%80%E5%8F%91%E7%BB%8F%E5%8E%86-md/" class="post-title-link" itemprop="url">ä¸€å iOS å¼€å‘è€…çš„ React Native å¼€å‘ç»å†.md</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-01 15:12:00" itemprop="dateCreated datePublished" datetime="2017-04-01T15:12:00+08:00">2017-04-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Translate/" itemprop="url" rel="index">
                    <span itemprop="name">Translate</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>å¦‚æœä½ æ˜¯ä¸€å iOS å¼€å‘è€…ï¼Œä½ åº”è¯¥å¬è¯´è¿‡ React Nativeã€‚å®ƒç»™å‡ºäº†ç®€å•è€Œå¸å¼•äººçš„æ‰¿è¯ºï¼šä¸€æ¬¡ç¼–å†™ï¼Œä¸¤å¤„éƒ¨ç½²ï¼ŒåŒæ—¶æå®š iOS ä¸å®‰å“ç‰ˆæœ¬çš„ appã€‚æˆ‘æ˜¯ä¸€åèµ„æ·±çš„ iOS å¼€å‘è€…ï¼ˆè¿˜æ˜¯ä¸€åæ›´èµ„æ·±çš„ macOS å¼€å‘è€…ï¼‰ï¼Œæˆ‘æƒ³åˆ†äº«æˆ‘åº”ç”¨è¿™é—¨ç¥å¥‡æŠ€æœ¯çš„ç»å†ã€‚</p>
<p>å»å¹´ï¼Œæˆ‘ä»¬å’Œä¸€ä¸ªå®¢æˆ·è¿›è¡Œè¿‡äº¤è°ˆã€‚ä»–ä»¬æ¥æ‰¾æˆ‘ä»¬æ˜¯å› ä¸ºä»–ä»¬æƒ³å°½å¿«å®Œæˆä»–ä»¬çš„ iOS appã€‚åœ¨è®¨è®ºçš„è¿‡ç¨‹ä¸­ï¼Œä»–ä»¬æåˆ°äº†è¿™ä¸ªå«åš React Native çš„ä¸œè¥¿ã€‚ä»–ä»¬æœ‰ä¸ªå–„äºä½¿ç”¨ Javascript çš„ web å¼€å‘äººå‘˜ï¼Œé‚£ä¸ªäººæŒ‡å‡ºä½¿ç”¨ RN å¯ä»¥è®©å¼€å‘é€Ÿåº¦å¿«å¾ˆå¤šã€‚è¿™åœºè°ˆåˆ¤æœ€ç»ˆæˆ‘ä»¬æ²¡æœ‰è¾¾æˆå…±è¯†è€Œæ˜¯ä»¥å¤±è´¥å‘Šç»ˆï¼Œä½†è¿™ä»¶äº‹ä¹Ÿè®©æˆ‘å¼€å§‹æ€è€ƒæ˜¯å¦åº”è¯¥å°† RN çº³å…¥æˆ‘ä»¬çš„æŠ€æœ¯æ ˆä¸­</p>
<p>å‡ å‘¨åä¸€ä½è€å‹æ¥è®¿ï¼Œè®©æˆ‘ä¸ºä»–å‡ºç‰ˆçš„ä¸€æœ¬ä¹¦åˆ¶ä½œä¸€ä¸ª app ä½œä¸ºè¡¥å……å‚è€ƒèµ„æ–™ã€‚å› ä¸ºè¿™ä¸ªå·¥ä½œæˆ‘æ‰¾åˆ°äº†ä¸€çº¿æœºä¼šï¼šè¿™æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„æ—¶æœºæ¥è¯•ä¸€è¯• React Nativeã€‚ç”±äºä»–çš„è¯»è€…å¤§å¤šæ•°ä½¿ç”¨å®‰å“ç³»ç»Ÿï¼Œå› æ­¤ã€Œä¸€æ¬¡ç¼–å†™ï¼Œä¸¤å¤„éƒ¨ç½²ã€çš„ç†å¿µåœ¨æ­¤æ·±å¾—æˆ‘å¿ƒã€‚</p>
<p>æˆ‘ä¸ä¼šå¸¦ä½ äº²å†ä¸€éæˆ‘çš„å„ç§å°è¯•å’Œé‡åˆ°çš„é—®é¢˜ã€‚ä½†æˆ‘è¦è¯´çš„æ˜¯ï¼Œå°±è¿™ä¹ˆä¸€ä¸ªç®€å•çš„ appï¼Œå¹¶ä¸èƒ½ä½¿ç”¨ RN å¾ˆå¥½çš„è¿›è¡Œå¼€å‘ã€‚ä»¥ä¸‹æ˜¯åŸå› ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘å¿…é¡»è¯´ä¸€ä¸‹é™¤å¼€ã€Œä¸€æ¬¡ç¼–å†™ï¼Œä¸¤å¤„éƒ¨ç½²ã€çš„æ‰¿è¯ºï¼Œæˆ‘å–œæ¬¢ React Native çš„åœ°æ–¹ã€‚</p>
<ul>
<li>React.jsï¼ŒRN ç”±å®ƒè€Œç”Ÿã€‚å®ƒæ˜¯ä¸€ç§æè¿°ä¸æ›´æ–° UI çš„ä¼˜é›…æ–¹æ³•ã€‚å®ƒçš„åŸºæœ¬åŸç†æ˜¯ç»„ä»¶ä½¿ç”¨ä¸€ç»„ä¼ é€’ç»™å®ƒçš„å±æ€§ç”±ä¸Šåˆ°ä¸‹æ¸²æŸ“å…¶ UIã€‚æ„Ÿè°¢ React çš„è™šæ‹Ÿ DOMï¼Œå½“å±æ€§å˜åŒ–æ—¶ UI ä¼šç«‹å³æ›´æ–°ï¼Œä½¿å¾— model ä¸ view èƒ½å¤Ÿè‡ªåŠ¨ä¸”æ— ç¼åœ°åŒæ­¥ã€‚æˆ‘å¤šä¹ˆå¸Œæœ› iOS çš„ UIKit ä¹Ÿè¿™æ ·è®¾è®¡å•Šï¼</li>
<li>æ›´æ–° JSX ä»£ç å°±å¯ä»¥åœ¨æ¨¡æ‹Ÿå™¨ä¸­æ›´æ–° app è€Œä¸éœ€è¦é‡æ–°ç¼–è¯‘ä¸é‡æ–°è¿è¡Œï¼Œè¿™ç‚¹çœŸçš„å¾ˆæ£’ã€‚</li>
<li>è“¬å‹ƒå‘å±•çš„ RN ç¤¾åŒºæä¾›äº†æ•°ä»¥ç™¾è®¡çš„é¢„åˆ¶ç»„ä»¶ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ app ä¸­ä½¿ç”¨å®ƒä»¬ã€‚ï¼ˆå®é™…ä¸Šæˆ‘éå¸¸è®¨åŒè¿™ç§çœ‹ä¼¼ä¸“ä¸šçš„ã€Œè„šæœ¬å°å­ã€çš„ç¼–ç¨‹æ–¹æ³•ã€‚æ„å»ºä¸€ä¸ªå¤§éƒ¨åˆ†éƒ½ä¸æ˜¯ä½ è‡ªå·±å†™çš„ï¼Œå¹¶ä¸”å¼„ä¸æ˜ç™½çš„ appï¼Œå°†ä¼šå¯¼è‡´ä¹‹åçš„ç»´æŠ¤å¦‚åŒé™·å…¥æ³¥æ½­ä¸€èˆ¬å›°éš¾ï¼‰</li>
<li>æˆ‘å¾ˆæ‹…å¿ƒ RN çš„æ€§èƒ½ï¼Œä½†æ˜¯åœ¨æˆ‘çš„ç»å†ä¸­å®ƒå¹¶æ²¡æœ‰å‡ºç°é—®é¢˜ã€‚æ»šåŠ¨å’ŒåŠ¨ç”»éƒ½å¾ˆæµç•…ã€‚æ¯•ç«Ÿ RN app å¤§éƒ¨åˆ†ä½¿ç”¨çš„æ˜¯å¹³å°åŸç”Ÿçš„ UI æ§ä»¶ï¼ŒRN çš„å·¥ç¨‹å¸ˆä»¬ä¹Ÿå¯¹å®ƒä»¬è¿›è¡Œäº†å¾ˆå¥½çš„ä¼˜åŒ–ã€‚</li>
</ul>
<p>é‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä¸å–œæ¬¢å®ƒå‘¢ï¼Ÿè€å®è¯´ï¼Œæˆ‘å¹¶ä¸æ˜¯ React Native çš„ç›®æ ‡ç”¨æˆ·ã€‚æˆ‘ç†Ÿæ‚‰ Javascript ä½†æˆ‘å¹¶ä¸ç²¾é€šå®ƒï¼Œæˆ‘ç²¾é€šçš„æ˜¯ Swift/Objective-Cã€‚æˆ‘å¾ˆå¿«å°±æ„è¯†åˆ°ï¼Œå¦‚æœæˆ‘ä½¿ç”¨ RN æ¥å®Œæˆè¿™ä¸ª appï¼Œå°†ä¼šæ¯”æˆ‘ç”¨ Swift æ…¢ 10-20 å€ã€‚å½“ç„¶ï¼Œå®‰å“ç‰ˆæœ¬è¿˜è¦å•ç‹¬å†™ï¼Œä½†æ˜¯è€ƒè™‘åˆ°æˆ‘å­¦ä¹  RN çš„å­¦ä¹ æ›²çº¿ï¼Œæˆ‘è¿˜ä¸å¦‚å»å­¦ä¹  Javaã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘è®¤ä¸ºé‡‡ç”¨ RN çš„è§£å†³æ–¹æ¡ˆè¿˜æœ‰ä¸€äº›ä¸¥é‡çš„é—®é¢˜ã€‚</p>
<h3 id="è„†å¼±çš„ä¾èµ–é“¾"><a href="#è„†å¼±çš„ä¾èµ–é“¾" class="headerlink" title="è„†å¼±çš„ä¾èµ–é“¾"></a>è„†å¼±çš„ä¾èµ–é“¾</h3><p>React Native å¹¶ä¸æ˜¯ä¸€ä¸ªä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚æˆ‘åˆ¶ä½œäº†ä¸€ä¸ªç²—ç•¥çš„å¿…è¦ç»„ä»¶ä¾èµ–å›¾ï¼š</p>
<p><img src="/images/pasted-117.png" alt="upload successful"></p>
<p>React Native çš„ä¾èµ–é“¾</p>
<p>å¦‚æœä½ æ¥è‡ª web å¼€å‘çš„ä¸–ç•Œï¼Œè¿™å¯èƒ½å¯¹ä½ æ¥è¯´å¾ˆæ­£å¸¸ï¼›ä½†æ˜¯å¯¹æˆ‘æ¥è¯´ï¼Œè¿™å¾ˆä¸æ­£å¸¸ã€‚æˆ‘çš„ä¸–ç•Œä¸­æœ‰ Xcodeï¼Œä»»ä½•åˆ›å»º Swift/Obj-C/iOS/Mac/Apple TV ç­‰ app æ‰€éœ€è¦çš„ä¸œè¥¿éƒ½å·²ç»å°è£…å¥½å¹¶ç”± Xcode ç®¡ç†ã€‚ä¾èµ–é“¾å’Œå‰é¢çš„å›¾ä¸€æ ·ï¼ˆç”šè‡³æ›´é•¿ï¼‰ï¼Œ<strong>ä½†æ˜¯ä¾èµ–é“¾ä¸­çš„ä¸œè¥¿éƒ½ä¿è¯æ˜¯åŒæ­¥ä¸”å…¼å®¹çš„ã€‚</strong></p>
<p>æˆ‘ç°åœ¨è‚¯å®š RN ä¾èµ–é“¾ä¸­çš„å¤§å¤šæ•°ç»„ä»¶éƒ½æ˜¯äº’ç›¸å…¼å®¹çš„ã€‚ä½†æˆ‘é‡åˆ°äº†å››äº”ä¸ªéœ€è¦åœ¨ StackOverflow ä¸ŠèŠ±å‡ å°æ—¶å¯»æ±‚è§£å†³æ–¹æ¡ˆçš„é—®é¢˜ã€‚åœ¨æˆ‘å¿ƒä¸­æ›´é‡è¦çš„æ˜¯ä¹‹åä¼šå‘ç”Ÿçš„äº‹æƒ…ã€‚ä¾‹å¦‚ï¼Œå‡çº§ Nuclideï¼ˆIDE çš„ RN æ‹“å±•ï¼‰å¯èƒ½éœ€è¦æ–°ç‰ˆçš„ Atomã€‚æˆ‘ç³»ç»Ÿä¸­çš„å¦ä¸€ä¸ªå·¥å…·éœ€è¦æ–°ç‰ˆçš„ <code>winston</code>ï¼Œå¦‚æœé‚£ä¸ªç‰ˆæœ¬ä¸å…¼å®¹ RN æ€ä¹ˆåŠï¼Ÿåæœå¯æƒ³è€ŒçŸ¥ã€‚</p>
<h3 id="è¢«æ‰“ç ´çš„æ‰¿è¯º"><a href="#è¢«æ‰“ç ´çš„æ‰¿è¯º" class="headerlink" title="è¢«æ‰“ç ´çš„æ‰¿è¯º"></a>è¢«æ‰“ç ´çš„æ‰¿è¯º</h3><p>äº‹å®è¯æ˜ã€Œä¸€æ¬¡ç¼–å†™ï¼Œä¸¤å¤„éƒ¨ç½²ã€çš„æ‰¿è¯ºåªæœ‰éƒ¨åˆ†å®ç°äº†ã€‚æˆ‘é‡åˆ°äº†å¿…é¡»è¦æŠŠæˆ‘çš„ RN app æ ¹æ®ç›®æ ‡å¹³å°ï¼ˆiOS æˆ–å®‰å“ï¼‰è¿›è¡Œã€Œåˆ†æ”¯ã€çš„é—®é¢˜ã€‚ä¾‹å¦‚ tab barï¼Œä½ å¯èƒ½è®¤ä¸ºåƒå®ƒè¿™ä¹ˆéšå¤„å¯è§çš„ç»„ä»¶ä¼šè¢« RN åˆ—ä¸ºã€Œä¸€ç­‰å…¬æ°‘ã€ï¼Œä½†äº‹å®ä¸æ˜¯è¿™æ ·çš„ã€‚RN ä¸º iOS æ”¶å½•äº† <code>TabBarIOS</code> ç»„ä»¶ï¼Œä½†æ˜¯å› ä¸ºæŸäº›åŸå› å®ƒåœ¨å®‰å“ä¸Šå¹¶ä¸ç›¸åŒã€‚ç›¸åï¼Œåœ¨ GitHub ä¸Šæœ‰ä¸€å †çš„æ•™ç¨‹å’Œè§£å†³æ–¹æ¡ˆæ•™ä½ å¦‚ä½•ä»å¤´åšèµ·ã€‚åˆä¾‹å¦‚ nav barï¼ŒiOS çš„ <code>NavigatorIOS</code> ä¸å®‰å“çš„ <code>Navigator</code> å·¥ä½œæ–¹å¼å·®åˆ«å·¨å¤§ã€‚è¿™äº›æ ¸å¿ƒçš„å¯¼èˆªåŠŸèƒ½ç»“æ„åœ¨ä¸¤ä¸ªå¹³å°ä¸Šçš„å·®å¼‚ä¼šå¯¼è‡´è¦ä¸ºæ¯ä¸ªå¹³å°åˆ†åˆ«ç¼–å†™å¤§é‡çš„ä¸åŒçš„æ–‡ä»¶ä¸ç»„ä»¶ã€‚æˆ‘å¼€å§‹æ„Ÿè§‰åˆ°ï¼Œå°½ç®¡æ‰¿è¯ºå¾ˆç¥å¥‡ï¼Œå°½ç®¡æˆ‘åœ¨ç”¨åŒä¸€ç§è¯­è¨€ï¼Œä½†å…¶å®æˆ‘ä»ç„¶åœ¨å†™ä¸¤ä¸ªä¸åŒçš„ appã€‚</p>
<ul>
<li>å®é™…ä¸Šï¼Œè¿™ä¸ªã€Œæ‰¿è¯ºã€å…¶å®æ˜¯åˆ«äººæ¨æ–­çš„ï¼Œå¹¶ä¸æ˜¯å®˜æ–¹å®£ç§°çš„ï¼ˆè‡³å°‘ Facebook/RN çš„äººæ²¡æœ‰è¿™ä¹ˆå®£ç§°è¿‡ï¼‰ã€‚å®˜æ–¹å®£ä¼ çš„æ˜¯ã€Œä¸€æ¬¡å­¦ä¹ ï¼Œéšå¤„ç¼–å†™ã€ã€‚</li>
</ul>
<h3 id="ä»¤äººæƒŠè®¶çš„æŠ€æœ¯é™åˆ¶"><a href="#ä»¤äººæƒŠè®¶çš„æŠ€æœ¯é™åˆ¶" class="headerlink" title="ä»¤äººæƒŠè®¶çš„æŠ€æœ¯é™åˆ¶"></a>ä»¤äººæƒŠè®¶çš„æŠ€æœ¯é™åˆ¶</h3><p>æˆ‘åœ¨åšçš„è¿™ä¸ªé¡¹ç›®å…¶å®æ˜¯ä¸€ä¸ªå±‚çº§åŒ–çš„å‚è€ƒæŒ‡å—ã€‚ä¹¦ä½œè€…å’Œæˆ‘ä¸ºç›®å½•ä¸æ–‡ç« ç”¨æˆ‘ä»¬è®¾è®¡çš„ UI èŒƒå¼è§„åˆ’äº†ä¸€å¥—æŒºåˆç†çš„å¸ƒå±€ã€‚æ ¹æ®æˆ‘ä»¬çš„æƒ³æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é“¾æ¥æˆ–å¯¼èˆªè·³è½¬åˆ°æ•°ç™¾ä¸ªä½¿ç”¨é™æ€å†…å®¹çš„è¯¦æƒ…é¡µä¸­ã€‚æˆ‘å†™å¥½äº†ä»£ç ï¼Œä½†å¥‡æ€ªçš„æ˜¯æˆ‘è°ƒç”¨ <code>require()</code> ä¸€ç›´ä¸æˆåŠŸã€‚æˆ‘ç»è¿‡ä¸€æ®µæ—¶é—´çš„ç ”ç©¶ï¼Œäº†è§£åˆ° RN é™åˆ¶<strong>æ‚¨æ— æ³•ä»ä»»æ„è·¯å¾„è¯»å–æ–‡ä»¶</strong>ã€‚æ˜¾ç„¶ä½ çš„ RN app åœ¨ç¼–è¯‘æ—¶æ”¶é›†äº†æ‰€æœ‰å¯èƒ½ç”¨åˆ°çš„è·¯å¾„ï¼Œä»»ä½•ç¼–è¯‘å™¨æ— æ³•æ‰¾åˆ°çš„è·¯å¾„éƒ½å°†ä¸èƒ½è¯»å–ã€‚æ‰€ä»¥ä½ å¯ä»¥ç”¨ <code>require(â€˜../file1.jsonâ€™)</code> ä½†ä¸èƒ½ç”¨ <code>require(â€˜../fileâ€™ + â€˜1â€™ + â€˜.jsonâ€™)</code>ã€‚è¿™ä¸ªè®©äººæƒŠè®¶çš„é™åˆ¶ä½¿å¾—æˆ‘ä»¬çš„æ¶æ„æ— æ³•å®ç°ã€‚</p>
<h3 id="å†’ç‰Œè´§èˆ¬çš„-UI"><a href="#å†’ç‰Œè´§èˆ¬çš„-UI" class="headerlink" title="å†’ç‰Œè´§èˆ¬çš„ UI"></a>å†’ç‰Œè´§èˆ¬çš„ UI</h3><p>ä½ æœ€ç»ˆå®Œæˆçš„ RN app å¯èƒ½æ—¢ä¸åƒåŸç”Ÿçš„ iOS app ä¹Ÿä¸åƒåŸç”Ÿçš„å®‰å“ appã€‚å¤§å¤šæ•°ç”¨æˆ·å¯èƒ½ä¸ä¼šå¯Ÿè§‰è¿™ä¸ªé—®é¢˜ï¼Œä½†æœ‰äº›äººä¼šå‘ç°æ›´å¤§çš„é—®é¢˜ã€‚ä½ æœ‰å¯èƒ½ä¼šä¸¢å¤±ä¸€äº›ç”¨æˆ·ä¼šæ³¨æ„åˆ°çš„å¹³å°ç‰¹æœ‰çš„ç»†èŠ‚ï¼Œä¾‹å¦‚ä¸èƒ½ä»å·¦ä¾§å³æ»‘æ¥è¿”å›ã€‚ï¼ˆå½“ä½ ç”¨ <code>NavigatorIOS</code> å®Œæˆä¸¤ä¸ªå¹³å°çš„å¯¼èˆªæ—¶ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼‰</p>
<p>æ€»è€Œè¨€ä¹‹ï¼ŒiOS å¼€å‘è€…ä¸åº”è¯¥å°† React Native è§†ä¸ºä¸¤ä¸ªå¹³å°çš„è·¨å¹³å°è§£å†³æ–¹æ¡ˆã€‚å†™ä¸€ä¸ªåŸç”Ÿçš„ iOS app å°†ä¼šèŠ±è´¹<strong>æ›´å°‘</strong>çš„æ—¶é—´å¹¶å¯èƒ½å¾—åˆ°æ›´æ£’çš„ UXã€‚å¯¹äºå®‰å“ app ä¹Ÿä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºå¤§å®¶åº”è¯¥æ›´å¤šçš„å»ä¸“æ³¨äºå¹³å°åŸç”Ÿè§£å†³æ–¹æ¡ˆã€‚</p>
<p>ä»€ä¹ˆæ—¶å€™ç”¨ RN æ‰æ˜¯æ­£ç¡®çš„å‘¢ï¼Ÿå¦‚æœä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ Javascript ç¨‹åºå‘˜æˆ–è€…ä½ æœ‰è¿™ä¹ˆä¸€ä¸ªå‘˜å·¥ï¼Œå¹¶ä¸”ä½ <strong>ä¸æ‰“ç®—</strong>é…ç½® iOS å¼€å‘æˆ–å®‰å“å¼€å‘äººå‘˜ï¼Œé‚£ä¹ˆä½ <strong>å¯èƒ½</strong>ä¼šä»ä¸­è·ç›Šã€‚è¿˜è®°å¾—é‚£ä¸ªæƒ³è¦å°½å¿«åšå¥½è·¨å¹³å° app çš„é‚£ä¸ªå®¢æˆ·å—ï¼Ÿä»–ä»¬<strong>æ›¾</strong>æœ‰ä¸€å Javascript å·¥ç¨‹å¸ˆï¼Œä»–ä»¬ app çš„ v1.0 ç‰ˆæœ¬æœ€è¿‘æ‰å‡ºç°åœ¨åº”ç”¨å•†åº—ä¸­ã€‚æ­¤æ—¶ï¼Œè·ä»–ä»¬è”ç³»æˆ‘ä»¬å·²ç»è¿‡å»äº† 8 ä¸ªæœˆã€‚</p>
<blockquote>
<p>å‘å¸ƒäºæ˜é‡‘ <a href="https://juejin.im/post/58df4c3fa0bb9f0069e2f2bd" target="_blank" rel="noopener">https://juejin.im/post/58df4c3fa0bb9f0069e2f2bd</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="default">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2017/03/23/EM-algorithm-in-python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/23/EM-algorithm-in-python/" class="post-title-link" itemprop="url">EM algorithm in python</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-03-23 01:15:00" itemprop="dateCreated datePublished" datetime="2017-03-23T01:15:00+08:00">2017-03-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ç”±<a href="http://lsvih.com/?p=515">ä¹‹å‰çš„å­¦ä¹ ç¬”è®°</a> ä½¿ç”¨pythonå®ç°EMç®—æ³•ã€‚</p>
<p><a href="https://github.com/lsvih/algorithm-practice/tree/master/em" target="_blank" rel="noopener">ä»£ç åœ°å€</a></p>
<h2 id="EM-algorithm"><a href="#EM-algorithm" class="headerlink" title="EM algorithm"></a>EM algorithm</h2><script type="math/tex; mode=display">\text{Repeat until convergence}\{\\
\text{(E-step) For each i,set}\\
 Q_i(z^{(i)}):=p(x^{(i)},z^{(i)};\theta)\\
 \text{(M-step) set}\\
 \theta:=\arg \max_\theta \sum^m_{i=1} \sum_{z^{(i)}} Q_i(z^{(i)}) \ln \frac{p(x^{(i)},z^{(i)};\theta)}{Q_i(z^{(i)})}\}</script><h2 id="å‡†å¤‡æ•°æ®"><a href="#å‡†å¤‡æ•°æ®" class="headerlink" title="å‡†å¤‡æ•°æ®"></a>å‡†å¤‡æ•°æ®</h2><p>å’Œä¸Šä¸€ç¯‡k-meansä¸€æ ·ï¼Œä»å‡†å¤‡æ•°æ®å¼€å§‹ã€‚EMç®—æ³•å¯ä»¥ç”¨æ¥å¯¹æ•°æ®é›†ä¸­æ•°æ®çš„åˆ†å¸ƒå‚æ•°è¿›è¡Œæå¤§ä¼¼ç„¶ä¼°è®¡ã€‚å› æ­¤ï¼Œä¸ºå®ƒå‡†å¤‡ä¸¤ç»„ä¸€ç»´é«˜æ–¯åˆ†å¸ƒæ•°æ®ã€‚</p>
<p>ä½¿ç”¨numpyçš„randnå‡½æ•°æ¥ç”Ÿæˆæ­£æ€åˆ†å¸ƒæ•°æ®ï¼Œä½¿ç”¨matplotlibæ¥å¯¹å…¶è¿›è¡Œå¯è§†åŒ–ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span></pre></td></tr></table></figure>
<p><a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.random.randn.html#numpy.random.randn" target="_blank" rel="noopener">å‚è€ƒnumpyçš„æ–‡æ¡£</a>ï¼Œç”Ÿæˆä¸€ä¸ª[latex]N(mu,sigma^2)[/latex]çš„æ­£æ€åˆ†å¸ƒï¼Œéœ€è¦ä½¿ç”¨</p>
<p>mu + sigma * np.random.randn(..)</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generateDataAndShow</span><span class="params">()</span>:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    x1,x2 = mu1 + sigma * np.random.randn(<span class="number">500</span>),mu2 + sigma * np.random.randn(<span class="number">500</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    x = np.append(x1,x2)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    plt.hist(x,<span class="number">50</span>,normed=<span class="keyword">True</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    plt.show()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> x</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    data = generateDataAndShow()</span></pre></td></tr></table></figure>
<p>è¿™æ ·ï¼Œå°±å¾—åˆ°äº†ä¸¤ç»„åˆ†åˆ«ä»¥[latex]N(mu_1,sigma^2)[/latex]ä¸[latex]N(mu_2,sigma^2)[/latex]åˆ†å¸ƒçš„æ•°æ®é›†ã€‚é€šè¿‡matplotlibå¯ä»¥çœ‹åˆ°å®ƒä»¬çš„åˆ†å¸ƒæ¦‚ç‡å›¾å¤§è‡´å¦‚ä¸‹ï¼š</p>
<p><img src="/images/pasted-115.png" alt="upload successful"></p>
<h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><p>ç®—æ³•çš„æ¨å¯¼ä¸åˆ†æåœ¨<a href="http://lsvih.com/?p=515">http://lsvih.com/?p=515</a> è¿›è¡Œè¿‡äº†ã€‚æ€»ä½“æ¥è¯´æ˜¯ä¸€ä¸ªè¿­ä»£æ¸è¿›çš„è¿‡ç¨‹ã€‚æ¸è¿›çš„å˜é‡æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯å®ç°åˆ†ç±»çš„éšè—å˜é‡zï¼Œå¦ä¸€ä¸ªæ˜¯å†³å®šåˆ†å¸ƒå‡½æ•°çš„å‚æ•°[latex]theta[/latex]ã€‚</p>
<h3 id="E-step"><a href="#E-step" class="headerlink" title="E-step"></a>E-step</h3><p>å·²çŸ¥é«˜æ–¯å‡½æ•°çš„æ¦‚ç‡å¯†åº¦å‡½æ•°(PDF)ä¸º</p>
<script type="math/tex; mode=display">f(x,\sigma,\mu)=\frac{1}{\sigma \sqrt{2\pi}}e^{-\frac{(x-\mu)^2}{2\sigma^2}}</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i,X <span class="keyword">in</span> enumerate(data):</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    p1 = np.exp(-(X-mu1)**<span class="number">2</span>/(<span class="number">2</span>*sigma**<span class="number">2</span>))/(sigma*(np.sqrt(<span class="number">2</span>*np.pi)))</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    p2 = np.exp(-(X-mu2)**<span class="number">2</span>/(<span class="number">2</span>*sigma**<span class="number">2</span>))/(sigma*(np.sqrt(<span class="number">2</span>*np.pi)))</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    Z[i,<span class="number">0</span>],Z[i,<span class="number">1</span>] = p1/(p1+p2),p2/(p1+p2)</span></pre></td></tr></table></figure>
<p>å³å®ç°$Q_i(z^{(i)}):=p(x^{(i)},z^{(i)};\theta)$</p>
<h3 id="M-step"><a href="#M-step" class="headerlink" title="M-step"></a>M-step</h3><p>dataä¸ºçŸ©é˜µ</p>
<script type="math/tex; mode=display">\begin{bmatrix}x_1\\x_2\\...\\x_n\end{bmatrix}</script><p>è€ŒZä¸ºçŸ©é˜µ</p>
<script type="math/tex; mode=display">\begin{bmatrix}Z^{(1)}_1&Z^{(1)}_2\\Z^{(2)}_1&Z^{(2)}_2\\...\\Z^{(n)}_1&Z^{(n)}_2\end{bmatrix}</script><p>å› æ­¤å®Œæˆ$\theta:=\arg \max_\theta \sum^m_{i=1} \sum_{z^{(i)}} Q_i(z^{(i)}) \ln \frac{p(x^{(i)},z^{(i)};\theta)}{Q_i(z^{(i)})}$è¿ç®—å¯ä»¥ä½¿ç”¨çŸ©é˜µçš„ç‚¹ä¹˜å®ç°ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">mu1,mu2 = np.dot(np.array(data),np.array(Z))/np.sum(Z,axis=<span class="number">0</span>)</span></pre></td></tr></table></figure>
<h3 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h3><p>åœ¨å¯¹äºE-stepä¸M-stepä¸åœçš„è¿­ä»£ä¼˜åŒ–åï¼Œè¾¾åˆ°ä¸€ä¸ªæœŸæœ›ç²¾åº¦å€¼åœæ­¢è¿ç®—ã€‚å› æ­¤main()å¯ä»¥å†™æˆ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    o_mu1,o_mu2 = mu1,mu2</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    Z = np.zeros([len(data),<span class="number">2</span>])</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">#E-Step</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">#M-Step</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span> abs(o_mu1-mu1)+abs(o_mu2-mu2) &lt;= <span class="number">0.001</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">print</span> mu1,mu2</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">break</span></span></pre></td></tr></table></figure>
<p>åœ¨è¿­ä»£è‡³æŒ‡å®šç²¾åº¦åï¼Œå°†å¾—åˆ°çš„mu1ä¸mu2ä¸sigmaå†³å®šçš„æ­£æ€åˆ†æ­¥æ›²çº¿ç”»å‡ºæ¥ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#Darw Gaussian function</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.mlab <span class="keyword">as</span> mlab</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">n,bins,p = ax.hist(data,<span class="number">50</span>,normed=<span class="keyword">True</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">y1,y2 = mlab.normpdf(bins, mu1, sigma), mlab.normpdf(bins, mu2, sigma)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">ax.plot(bins, y1/<span class="number">2</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">ax.plot(bins, y2/<span class="number">2</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">plt.show()</span></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæœ€åˆçš„generateDataå‡½æ•°ä¸­ç”»å‡ºçš„å›¾å½¢ä¸º</p>
<p><img src="/images/pasted-115.png" alt="upload successful"></p>
<p>å¾—åˆ°ç»“æœåç”»å‡ºçš„æ›²çº¿ä¸º</p>
<p><img src="/images/pasted-116.png" alt="upload successful"></p>
<p>åŸºæœ¬èƒ½åŒ¹é…ä¹‹å‰ç”Ÿæˆçš„æ•°æ®ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="default">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2017/03/22/python%E5%AE%9E%E7%8E%B0k-means%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/22/python%E5%AE%9E%E7%8E%B0k-means%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">pythonå®ç°k-meansåˆ†ç±»ç®—æ³•</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-03-22 01:51:00" itemprop="dateCreated datePublished" datetime="2017-03-22T01:51:00+08:00">2017-03-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>å‡†å¤‡å®ç°ä¸€äº›ç®—æ³•ï¼Œé¡ºå¸¦å¤ä¹ numpyï¼Œå› æ­¤å°†æ¯”è¾ƒç®€å•çš„k-meansç®—æ³•ç”¨pythonå®ç°ä¸€æ¬¡ã€‚</p>
<h2 id="k-meansç®—æ³•"><a href="#k-meansç®—æ³•" class="headerlink" title="k-meansç®—æ³•"></a>k-meansç®—æ³•</h2><p><img src="/images/pasted-109.png" alt="upload successful"></p>
<h2 id="å‡†å¤‡æ•°æ®é›†"><a href="#å‡†å¤‡æ•°æ®é›†" class="headerlink" title="å‡†å¤‡æ•°æ®é›†"></a>å‡†å¤‡æ•°æ®é›†</h2><p>é¦–å…ˆï¼Œè€ƒè™‘æ•°æ®é›†æ¥æºã€‚æ‡’å¾—å»æ‰¾æ•°æ®ï¼Œå› æ­¤ç›´æ¥ç”¨scikitçš„datasetæ¨¡å—éšæœºç”Ÿæˆä¸€ç»„èšç±»æ•°æ®ã€‚æ—¢ç„¶è¦ç”Ÿæˆèšç±»æ•°æ®ï¼Œç”¨make_blobsæ˜¯å†å¥½ä¸è¿‡äº†ã€‚<a href="http://scikit-learn.org/stable/modules/generated/sklearn.datasets.make_blobs.html#sklearn.datasets.make_blobs" target="_blank" rel="noopener">sklearn.dataset.make_blobsæ–‡æ¡£</a></p>
<p>ä¸ºäº†ç›´è§‚åœ°å±•ç¤ºæ•°æ®ï¼Œç”¨matplotlibæ¥è¿›è¡Œæ•°æ®å¯è§†åŒ–ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_blobs</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generateDataAndShow</span><span class="params">()</span>:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    plt.figure(figsize=(<span class="number">8</span>,<span class="number">5</span>))</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    plt.title(<span class="string">"Dataset"</span>, fontsize=<span class="string">'small'</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    datas, class_info = make_blobs(n_samples=<span class="number">200</span> ,n_features=<span class="number">2</span>, centers=<span class="number">3</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    plt.scatter(datas[:, <span class="number">0</span>], datas[:, <span class="number">1</span>], marker=<span class="string">'o'</span>, c=class_info)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    plt.show()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> datas</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    data = generateDataAndShow()</span></pre></td></tr></table></figure>
<p>å¯ä»¥å¾—åˆ°ä¸€ä¸ªæœ‰ä¸‰ä¸ªèšç±»ï¼Œå…±200ä¸ªç‚¹çš„æ•°æ®é›†ã€‚å¦‚å›¾æ‰€ç¤º</p>
<p><img src="/images/pasted-110.png" alt="upload successful"></p>
<p>ä¸”æ¯æ¬¡è¿è¡Œéƒ½ä¼šç”Ÿæˆä¸åŒçš„æ•°æ®ã€‚</p>
<p>æ­¤æ—¶ï¼Œå¾—åˆ°200å¯¹åæ ‡æ•°æ®ä»¥åŠç›¸åº”çš„åˆ†ç±»æ•°æ®ã€‚ä»…å°†åæ ‡æ•°æ®æ‹¿å‡ºæ¥è¿›è¡Œè®¡ç®—ã€‚</p>
<h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><p>1ã€éšæœºç”Ÿæˆ3ä¸ªç‚¹ï¼Œä½œä¸ºåˆå§‹èšç±»ä¸­å¿ƒã€‚ä¸ºäº†å‡å°‘è®¡ç®—é‡ï¼Œæ‰€ä»¥å°†3ä¸ªç‚¹ç”Ÿæˆåœ¨æ‰€æœ‰ç‚¹çš„å€¼åŸŸä¸­ã€‚æ­¤æ—¶dataçš„æ•°æ®ç»“æ„æ˜¯Float[][]ï¼Œç¬¬ä¸€é‡æ•°ç»„ä¸ºä¸€ä¸ªç‚¹ï¼Œç¬¬äºŒé‡æ•°ç»„ä¸ºç‚¹çš„ä¸¤ä¸ªåæ ‡ã€‚å› æ­¤éœ€è¦ç”¨åˆ°numpyçš„amaxå‡½æ•°ä¸aminå‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">[x_max, y_max], [x_min, y_min] = np.amax(data,axis=<span class="number">0</span>),np.amin(data,axis=<span class="number">0</span>)</span></pre></td></tr></table></figure>
<p>ä½¿ç”¨numpy.randomçš„randç”Ÿæˆä¸€ç»„ç‚¹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">centers = np.random.rand(<span class="number">3</span>,<span class="number">2</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">centers[<span class="number">0</span>:,<span class="number">0</span>] = (x_max-x_min)*centers[<span class="number">0</span>:,<span class="number">0</span>]+x_min</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">centers[<span class="number">0</span>:,<span class="number">1</span>] = (y_max-y_min)*centers[<span class="number">0</span>:,<span class="number">1</span>]+y_min</span></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å¾—åˆ°äº†åœ¨å€¼åŸŸå†…çš„3ä¸ªéšæœºç‚¹ã€‚</p>
<p>2ã€è®¡ç®—è·ç¦»ã€‚äºŒç»´å¹³é¢å†…ä¸¤ä¸ªç‚¹çš„è·ç¦»å…¬å¼ä¸º</p>
<script type="math/tex; mode=display">d=\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}</script><p>å› æ­¤å¯ä»¥è®¡ç®—å‡ºæ¯ä¸ªç‚¹åˆ†åˆ«åˆ°ä¸‰ä¸ªèšç±»ä¸­å¿ƒçš„è·ç¦»ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">distance</span><span class="params">(data, dots)</span>:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    rs = []</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">for</span> d <span class="keyword">in</span> data:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">        rs.append([])</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">for</span> dot <span class="keyword">in</span> dots:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">            rs[<span class="number">-1</span>].append(((d[<span class="number">0</span>]-dot[<span class="number">0</span>])**<span class="number">2</span>+(d[<span class="number">1</span>]-dot[<span class="number">1</span>])**<span class="number">2</span>)**<span class="number">0.5</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> rs</span></pre></td></tr></table></figure>
<p>3ã€åˆ†ç»„ã€‚æ ¹æ®è®¡ç®—å¾—åˆ°çš„å„ä¸ªç‚¹è·ç¦»èšç±»ä¸­å¿ƒçš„è·ç¦»ï¼Œå¯ä»¥åˆ¤æ–­è¿™ä¸ªç‚¹æ˜¯å±äºå“ªä¸€ä¸ªèšç±»çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">classify</span><span class="params">(dis)</span>:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> [i.index(min(i)) <span class="keyword">for</span> i <span class="keyword">in</span> dis]</span></pre></td></tr></table></figure>
<p>è¿”å›ä¸€ä¸ªåˆ†ç±»ç´¢å¼•æ•°ç»„ã€‚è¿™ä¸ªæ—¶å€™ä¹Ÿå¯ä»¥ç”¨pltå°†æ­¤æ—¶çš„åˆ†ç±»æ‰“å°å‡ºæ¥ï¼Œå’Œæœ€å¼€å§‹çš„æ­£ç¡®èšç±»å¯¹æ¯”ä¸€ä¸‹ï¼š</p>
<p><img src="/images/pasted-111.png" alt="upload successful"></p>
<p><img src="/images/pasted-112.png" alt="upload successful"> </p>
<p>è€ƒè™‘ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼šåªåˆ†å‡ºä¸¤ä¸ªèšç±»ã€‚è¿™æ—¶å€™å°†æ— æ³•ç»§ç»­è®¡ç®—ä¸‹å»ï¼Œåº”å½“é‡æ–°éšæœºç”Ÿæˆä¸­å¿ƒã€‚</p>
<p>4ã€ç§»åŠ¨èšç±»ä¸­å¿ƒã€‚æ ¹æ®éšæœºå¾—åˆ°çš„åˆå§‹èšç±»ï¼Œé‡æ–°è®¡ç®—æ¯ä¸ªèšç±»çš„è´¨å¿ƒä½œä¸ºå…¶æ–°çš„èšç±»ä¸­å¿ƒã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calCenters</span><span class="params">(data, clazz)</span>:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    clz = [[] <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>)]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">for</span> index,dot <span class="keyword">in</span> enumerate(data):</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">        clz[clazz[index]].append(dot)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> [sum(x)/len(x) <span class="keyword">for</span> x <span class="keyword">in</span> clz]</span></pre></td></tr></table></figure>
<p>å¾—åˆ°äº†æ–°çš„èšç±»ä¸­å¿ƒ</p>
<p>5ã€å¾ªç¯ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ”¶æ•›ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    new_centers = calCenters(data, clazz)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">if</span> equal(new_centers,centers):<span class="keyword">break</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">else</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">        centers = new_centers</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">        clazz = classify(distance(data,centers))</span></pre></td></tr></table></figure>
<p>æ”¶æ•›æ¡ä»¶æ˜¯èšç±»ä¸­å¿ƒç‚¹ä¸å†å˜åŒ–ã€‚</p>
<p>æœ€ç»ˆä»£ç ï¼š<a href="https://github.com/lsvih/algorithm-practice/blob/master/k-means/k-means.py" target="_blank" rel="noopener">https://github.com/lsvih/algorithm-practice/blob/master/k-means/k-means.py</a> (_src=undefined)</p>
<h2 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h2><p>ç”Ÿæˆçš„èšç±»ï¼š</p>
<p><img src="/images/pasted-113.png" alt="upload successful"></p>
<p>k-meansè¿è¡Œåçš„èšç±»ï¼š</p>
<p><img src="/images/pasted-114.png" alt="upload successful"></p>
<p>å¯ä»¥çœ‹åˆ°åˆ†ç±»ç®—æ³•è¿è¡Œè‰¯å¥½ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="default">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2017/03/21/EM-algorithm%E6%9C%80%E5%A4%A7%E4%BC%BC%E7%84%B6%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/21/EM-algorithm%E6%9C%80%E5%A4%A7%E4%BC%BC%E7%84%B6%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">EM algorithmæœ€å¤§ä¼¼ç„¶ç®—æ³•å­¦ä¹ ç¬”è®°</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-03-21 12:55:00" itemprop="dateCreated datePublished" datetime="2017-03-21T12:55:00+08:00">2017-03-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Machine-Learning/" itemprop="url" rel="index">
                    <span itemprop="name">Machine Learning</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ç´ç”Ÿä¸ç­‰å¼-Jensenâ€™s-inequality"><a href="#ç´ç”Ÿä¸ç­‰å¼-Jensenâ€™s-inequality" class="headerlink" title="ç´ç”Ÿä¸ç­‰å¼(Jensenâ€™s inequality)"></a>ç´ç”Ÿä¸ç­‰å¼(Jensenâ€™s inequality)</h2><p>æœ€å¤§ä¼¼ç„¶å‡½æ•°åº”ç”¨åˆ°äº†ç´ç”Ÿä¸ç­‰å¼ã€‚ç´ç”Ÿä¸ç­‰å¼ç»™å‡ºäº†ç§¯åˆ†çš„å‡¸å‡½æ•°å€¼å’Œå‡¸å‡½æ•°çš„ç§¯åˆ†å€¼é—´çš„å…³ç³»ã€‚å®ƒç”±ä»¥ä¸‹ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>
<p>å½“$f(x)$æ˜¯(a,b)åŒºé—´ä¸Šçš„å‡¸å‡½æ•°æ—¶ï¼Œåˆ™å¯¹ä»»æ„çš„ç‚¹$x_1,x_2,â€¦,x_n \in (a,b)$æœ‰</p>
<script type="math/tex; mode=display">f(\frac{x_1+x_2+...+x_n}{n}) \geq \frac{1}{n}[f(x_1)+f(x_2)+...+f(x_n)]</script><p>å½“$x_1=x_2=â€¦=x_n$æ—¶å–ç­‰å·ã€‚</p>
<p>å½“$f(x)$æ˜¯(a,b)åŒºé—´ä¸Šçš„å‡¹å‡½æ•°æ—¶ï¼Œåˆ™å¯¹ä»»æ„çš„ç‚¹$x_1,x_2,â€¦,x_n in (a,b)$æœ‰</p>
<script type="math/tex; mode=display">f(\frac{x_1+x_2+...+x_n}{n}) \leq \frac{1}{n}[f(x_1)+f(x_2)+...+f(x_n)]</script><p>å½“$x_1=x_2=â€¦=x_n$æ—¶å–ç­‰å·ã€‚</p>
<p>å°†ç´ç”Ÿä¸ç­‰å¼åº”ç”¨åˆ°æ¦‚ç‡è®ºï¼Œæœ‰</p>
<p>å½“$f(x)$æ˜¯å‡¸å‡½æ•°æ—¶</p>
<script type="math/tex; mode=display">E[f(X)]\geq f(EX)</script><p>å½“$f(x)$æ˜¯å‡¹å‡½æ•°æ—¶</p>
<script type="math/tex; mode=display">E[f(X)]\leq f(EX)</script><p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/images/pasted-108.png" alt="upload successful"></p>
<h2 id="æœ€å¤§ä¼¼ç„¶ç®—æ³•-EM-algorithm-çš„æ¨å¯¼"><a href="#æœ€å¤§ä¼¼ç„¶ç®—æ³•-EM-algorithm-çš„æ¨å¯¼" class="headerlink" title="æœ€å¤§ä¼¼ç„¶ç®—æ³•(EM algorithm)çš„æ¨å¯¼"></a>æœ€å¤§ä¼¼ç„¶ç®—æ³•(EM algorithm)çš„æ¨å¯¼</h2><h3 id="ä¼¼ç„¶å‡½æ•°-likelihood-function"><a href="#ä¼¼ç„¶å‡½æ•°-likelihood-function" class="headerlink" title="ä¼¼ç„¶å‡½æ•°(likelihood function)"></a>ä¼¼ç„¶å‡½æ•°(likelihood function)</h3><p>å½“æœ‰ä¸€ç»„æ•°æ®${ x^{(1)},â€¦,x^{(m)} }$ï¼Œè¿™ä¸€ç»„æ•°æ®æ˜¯ä»æ›´å¤§çš„æœªçŸ¥æ•°æ®ä¸­æŠ½æ ·å‡ºæ¥çš„ï¼Œæ¯ä¸€ä¸ªxå¯¹æŠ½æ ·è€Œè¨€éƒ½æ˜¯ç‹¬ç«‹äº‹ä»¶ã€‚å› æ­¤ï¼ŒæŠ½æ ·å‡ºæ¯ä¸ªæ•°æ®çš„æ¦‚ç‡ä¸º$p(x)$ï¼ŒæŠ½æ ·å‡ºè¿™ä¸€ç»„æ•°æ®é›†çš„æ¦‚ç‡åˆ™ä¸º$\prod^m_{i=1} p(x)$ã€‚è€Œæ‰€æœ‰çš„æ•°æ®éƒ½æ»¡è¶³æŸä¸€ä¸ªåˆ†å¸ƒè§„å¾‹ï¼ˆæ±‚çš„æ­£æ˜¯è¿™ä¸ªè§„å¾‹ï¼‰ï¼Œä¾‹å¦‚é«˜æ–¯åˆ†å¸ƒç­‰ã€‚è¿™ä¸ªåˆ†å¸ƒè§„å¾‹å«æœ‰ä¸€ä¸ªåˆ†å¸ƒå‚æ•°$\theta$ï¼Œè¿™ä¸ªå‚æ•°å†³å®šäº†è¿™ä¸ªåˆ†å¸ƒè§„å¾‹ã€‚æ­¤æ—¶æŠ½æ ·å‡ºæ•°æ®é›†çš„æ¦‚ç‡ä¸º$\prod^m_{i=1} p(x_i;\theta)$ï¼Œå°†è¿™ä¸ªå¼å­è®°ä¸º$L(\theta)$ï¼Œå³</p>
<script type="math/tex; mode=display">L(\theta)=\prod^m_{i=1} p(x_i;\theta)</script><p>å½“$L(\theta)$æœ€å¤§æ—¶ï¼Œæœ‰æœ€å¤§çš„å¯èƒ½æŠ½å‡ºè¿™ç»„æ•°æ®ï¼Œå°±èƒ½çŒœæµ‹$\theta$æ˜¯åˆ†å¸ƒæ¦‚ç‡çš„å‚æ•°ã€‚è¿™ä¸ªå¼å­è¢«ç§°ä¸ºä¼¼ç„¶å‡½æ•°ã€‚</p>
<blockquote>
<p>p(x;y)è¡¨ç¤ºå½“å‚æ•°ä¸ºyæ—¶xçš„æ¦‚ç‡</p>
</blockquote>
<p>ä¸ºäº†è®©è®¡ç®—æ›´æ–¹ä¾¿ï¼Œå°†ä¹˜æ³•è¿ç®—é€šè¿‡æ±‚lnå€¼å˜åŒ–ä¸ºåŠ æ³•è¿ç®—</p>
<script type="math/tex; mode=display">l(\theta)=\sum^m_{i=1} \ln p(x_i;\theta)</script><p>è¿™ä¸ªlç§°ä¸ºloglikelihood function</p>
<h3 id="æœ€å¤§ä¼¼ç„¶å‡½æ•°"><a href="#æœ€å¤§ä¼¼ç„¶å‡½æ•°" class="headerlink" title="æœ€å¤§ä¼¼ç„¶å‡½æ•°"></a>æœ€å¤§ä¼¼ç„¶å‡½æ•°</h3><p>å½“æœ‰å¤šç»„æ•°æ®æ—¶ï¼Œæ¯ç»„æ•°æ®çš„åˆ†å¸ƒè§„å¾‹éƒ½ä¸åŒï¼Œå¯¹äºæ¯ç»„æ•°æ®æ¥è¯´éƒ½æœ‰ä¸€ä¸ªéšè—çš„å˜é‡zå°†ä¸åŒçš„ç»„åˆ«åˆ†å¼€ã€‚ä¾‹å¦‚å¯¹äº$x^{(i)}$æ¥è¯´ï¼Œæœ‰$p(z^{(1)})$çš„å¯èƒ½æ˜¯èšç±»1çš„ï¼Œæœ‰$p(z^{(2)})$çš„å¯èƒ½æ˜¯èšç±»2çš„ã€‚å› æ­¤å°†æ‰€æœ‰çš„å¯èƒ½åŠ èµ·æ¥ï¼Œæœ‰</p>
<script type="math/tex; mode=display">l(\theta)=\sum^m_{i=1} \ln p(x_i;\theta)=\sum^m_{i=1} ln\sum_{z^{(i)}}p(x^{(i)},z^{(i)};\theta)</script><p>ä¸ºäº†æ±‚å…¶æœ€å€¼ï¼Œåˆ™éœ€è¦å¯¹å…¶è¿›è¡Œæ±‚å¯¼ã€‚æ­¤æ—¶å‘ç°ï¼Œ$\sum \ln \sum f(x,y,z)$ç›¸å½“éš¾è¿›è¡Œæ±‚å¯¼ï¼Œå› æ­¤å¯¹å…¶è¿›è¡ŒåŒ–ç®€ï¼š</p>
<p>å¯¹äº$x^{(i)}$ï¼Œå®ƒçš„æ‰€æœ‰zæ¦‚ç‡ä¹‹å’Œè®°ä¸º$\sum_{z^{(i)}} Q_i(z^{(i)})=1$ï¼Œå¯¹ä¸Šå¼åŠ å…¥è¿™ä¸ªå€¼ï¼Œå¾—åˆ°</p>
<script type="math/tex; mode=display">l(\theta)=\sum^m_{i=1} \ln p(x_i;\theta)=\sum^m_{i=1} \ln\sum_{z^{(i)}} Q_i(z^{(i)}) \frac{p(x^{(i)},z^{(i)};\theta)}{Q_i(z^{(i)})}</script><p>å¯¹äº$f(x)=\ln x$æ¥è¯´ï¼Œ$\frac{\mathrm{d}^2 f(x) }{\mathrm{d} x^2}=-\frac{1}{x^2}\leq0$ï¼Œå› æ­¤å®ƒä¸ºå‡¹å‡½æ•°ã€‚åº”ç”¨ç´ç”Ÿä¸ç­‰å¼ï¼Œ$E(f(x)) \leq f(EX)$ã€‚åŒç†ï¼Œä¸Šå¼è¿›è¡Œä¸ç­‰å˜æ¢ï¼š</p>
<script type="math/tex; mode=display">f(E_{z^{(i)~Q_i}}[\frac{p(x^{(i)},z^{(i)};\theta)}{Q_i(z^{(i)})}]) \geq E_{z^{(i)~Q_i}}[f(\frac{p(x^{(i)},z^{(i)};\theta)}{Q_i(z^{(i)})})]\Rightarrow
\\
\sum^m_{i=1} ln\sum_{z^{(i)}} Q_i(z^{(i)}) \frac{p(x^{(i)},z^{(i)};\theta)}{Q_i(z^{(i)})} \\
\geq \sum^m_{i=1} \sum_{z^{(i)}} Q_i(z^{(i)}) \ln \frac{p(x^{(i)},z^{(i)};\theta)}{Q_i(z^{(i)})}</script><p>æ­¤æ—¶å¾—åˆ°çš„å¼å­æ˜¯ä¸€ä¸ªä¸ç­‰å¼ï¼Œç¡®åˆ‡çš„è¯´æ˜¯ä¼¼ç„¶å‡½æ•°çš„ä¸‹ç•Œã€‚ä¸ºäº†è®©ä¼¼ç„¶å‡½æ•°è¾¾åˆ°æœ€å¤§ï¼Œåˆ™éœ€è¦å¾—åˆ°åˆé€‚çš„$z,\theta$è®©ä¸‹ç•Œæ›´é«˜ã€‚</p>
<p>æ­¤æ—¶åˆ†ä¸¤æ­¥æ¥è¿›è¡Œè®¡ç®—ï¼šç¬¬ä¸€æ­¥å›ºå®š$\theta$è°ƒæ•´$Q_i(z^i)$ï¼Œè®©ä¸‹ç•Œä¸Šå‡è‡³æœ€é«˜(å‰å¼çš„ä¸ç­‰å¼å–åˆ°ç­‰å·)ï¼Œç¬¬äºŒéƒ¨å›ºå®š$Q_i(z^i)$è°ƒæ•´$\theta$ï¼Œä½¿ä¼¼ç„¶å‡½æ•°çš„å€¼å‡é«˜ï¼Œä¸‹ç•Œè¾¾åˆ°æœ€é«˜ï¼Œå†é‡å¤ç¬¬ä¸€æ­¥ã€‚å¾ªç¯å¾€å¤ç›´åˆ°ç¬¬äºŒæ­¥æ”¶æ•›ã€‚</p>
<h4 id="E-step"><a href="#E-step" class="headerlink" title="E-step"></a>E-step</h4><p>æ ¹æ®ç´ç”Ÿä¸ç­‰å¼ï¼Œå½“Xä¸ºå¸¸æ•°æ—¶ï¼Œè‚¯å®šæœ‰$E[f(X)]= f(EX)$ï¼Œå³</p>
<script type="math/tex; mode=display">\frac{p(x^{(i)},z^{(i)};\theta)}{Q_i(z^{(i)})} = c</script><p>è€Œ$\sum_{z^{(i)}} Q_i(z^{(i)})=1$ï¼Œå› æ­¤</p>
<script type="math/tex; mode=display">Q_i(z^{(i)})=\frac{p(x^{(i)},z^{(i)};\theta)}{\sum_z p(x^{(i)},z,\theta)}=p(x^{(i)},z^{(i)};\theta)</script><p>è¿™å°±æ˜¯ç¬¬ä¸€æ­¥ï¼Œè®©ç´ç”Ÿä¸ç­‰å¼ä¸­çš„Xä¸ºå¸¸æ•°ï¼Œå–åˆ°f(x)çš„æœ€å¤§å€¼ã€‚è¿™ä¸€æ­¥è®°ä¸ºE-stepï¼š</p>
<script type="math/tex; mode=display">Q_i(z^{(i)}):=p(x^{(i)},z^{(i)};\theta)</script><h4 id="M-step"><a href="#M-step" class="headerlink" title="M-step"></a>M-step</h4><p>å›ºå®š$\theta$ï¼Œä¸‹ç•Œä¸º</p>
<script type="math/tex; mode=display">\sum^m_{i=1} \sum_{z^{(i)}} Q_i(z^{(i)}) \ln \frac{p(x^{(i)},z^{(i)};\theta)}{Q_i(z^{(i)})}</script><p>æ­¤æ—¶è¦è°ƒæ•´$Q_i(z^i)$ï¼Œè®©ä¸‹ç•Œå‡åˆ°æœ€é«˜ã€‚è®°ç¬¬tæ­¥ä¸º$l(\theta^{t})$ï¼Œç¬¬t+1æ­¥ä¸º$l(\theta^{t+1})$ã€‚ç”±äºä¸‹ç•Œåœ¨å‡é«˜ï¼Œæœ€å¤§ä¼¼ç„¶å‡½æ•°å€¼ä¹Ÿä¼šå‡é«˜ï¼Œ$Q_i(z^i)$éšä¹‹å‡é«˜ï¼Œç›´åˆ°æ”¶æ•›ã€‚å› æ­¤å¯ä»¥æ¨å¯¼</p>
<script type="math/tex; mode=display">l(\theta^{(t+1)})=\sum^m_{i=1} \sum_{z^{(i)}} Q_i^{(t+1)}(z^{(i)}) \ln \frac{p(x^{(i)},z^{(i)};\theta^{(t+1)})}{Q^{(t+1)}_i(z^{(i)})}\\
\geq \sum^m_{i=1} \sum_{z^{(i)}} Q_i^{t}(z^{(i)}) \ln \frac{p(x^{(i)},z^{(i)};\theta^{(t+1)})}{Q^{t}_i(z^{(i)})}\\
\geq \sum^m_{i=1} \sum_{z^{(i)}} Q_i^{t}(z^{(i)}) \ln \frac{p(x^{(i)},z^{(i)};\theta^{t})}{Q^{t}_i(z^{(i)})}=l(\theta^{t})</script><p>æœ€ç»ˆå¾—åˆ°</p>
<script type="math/tex; mode=display">l(\theta^{(t+1)}) \geq l(\theta^t)</script><p>å› æ­¤å¯å¾—çŸ¥M-stepä¸­ï¼Œ$Q_i(z^i)$çš„å€¼ä¼šä¸æ–­å¢åŠ ç›´åˆ°æ”¶æ•›ã€‚</p>
<p>M-stepè®°ä¸º</p>
<script type="math/tex; mode=display">\theta:=\arg \max_\theta \sum^m_{i=1} \sum_{z^{(i)}} Q_i(z^{(i)}) \ln \frac{p(x^{(i)},z^{(i)};\theta)}{Q_i(z^{(i)})}</script><p>æœ€ç»ˆå¾—åˆ°æœ€å¤§ä¼¼ç„¶ç®—æ³•ï¼š</p>
<script type="math/tex; mode=display">
\text{Repeat until convergence}\{ \\
\text{(E-step) For each i,set}\\
 Q_i(z^{(i)}):=p(x^{(i)},z^{(i)};\theta) \\
 \text{(M-step) set}\\
 \theta:=\arg \max_\theta \sum^m_{i=1} \sum_{z^{(i)}} Q_i(z^{(i)}) \ln \frac{p(x^{(i)},z^{(i)};\theta)}{Q_i(z^{(i)})}\\
 \}</script><hr>
<blockquote>
<p>Reference</p>
<p>Stanford CS229 <a href="http://cs229.stanford.edu/notes/cs229-notes8.pdf" target="_blank" rel="noopener">http://cs229.stanford.edu/notes/cs229-notes8.pdf</a><br><a href="https://lsvih.com/img/1490063106133851.pdf">cs229-notes8-EMç®—æ³•.pdf</a><br>ä»æœ€å¤§ä¼¼ç„¶åˆ°EMç®—æ³•æµ…è§£ <a href="http://blog.csdn.net/zouxy09/article/details/8537620/" target="_blank" rel="noopener">http://blog.csdn.net/zouxy09/article/details/8537620/</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/10/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">lsvih</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">160</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">201</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/lsvih" title="GitHub â†’ https://github.com/lsvih" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:lsvih@qq.com" title="E-Mail â†’ mailto:lsvih@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/null" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        
  <div class="beian"><a href="http://www.beian.miit.gov.cn" rel="noopener" target="_blank">äº¬ICPå¤‡18029472å·-1 </a>
  </div>

<div class="copyright">
  
  &copy; 2016 â€“ 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lsvih</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme â€“ <a href="https://pisces.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.6.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
<script src="/js/utils.js"></script>
<script src="/js/schemes/pisces.js"></script>
<script src="/js/next-boot.js"></script>



  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css">
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.js"></script><script src="/js/algolia-search.js"></script>













  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

</body>
</html>
