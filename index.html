<!DOCTYPE html>













<html class="theme-next pisces" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '6U6P1RGK4F',
      apiKey: 'b14e73cdd627eabe947b5decbe14850f',
      indexName: 'lsvih',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="My note">
<meta property="og:url" content="https://lsvih.com/index.html">
<meta property="og:site_name" content="My note">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="My note">



  <link rel="alternate" href="/atom.xml" title="My note" type="application/atom+xml">




  <link rel="canonical" href="https://lsvih.com/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>My note – lsvih</title>
  






  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?4de170e51b04cee02fbdb1b7cb7a8a60";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>







  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">My note</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <h1 class="site-subtitle" itemprop="description">lsvih</h1>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2019/02/16/ten-things-you-didnt-know-about-webpagetest-org/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/16/ten-things-you-didnt-know-about-webpagetest-org/" class="post-title-link" itemprop="url">十件你不知道的关于 WebPageTest.org 的事(译)</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-16 12:52:00" itemprop="dateCreated datePublished" datetime="2019-02-16T12:52:00+08:00">2019-02-16</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Translate/" itemprop="url" rel="index"><span itemprop="name">Translate</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>够标题党吧？既然你点进来了，那我也得说一些干货了！毫无疑问，WebPageTest 是我最喜欢的 Web 性能测试工具之一。它功能强大、完全免费，为世界各地的网页提供测试。</p>
<p>如果你曾经用过 WebPageTest，那你应该知道它是多么的好用：只需要几下点击就能得到你网站加载的详细信息。不过，它还有一些你可能闻所未闻的功能！</p>
<p>最近我在 Santa Clara 参加了 <a href="http://conferences.oreilly.com/velocity" target="_blank" rel="noopener">Velocity Conference</a>，偶遇了 <a href="https://github.com/pmeenan" target="_blank" rel="noopener">Pat Meenan</a>（WebPageTest 的创始人）并问了一些关于 WebPageTest 的问题。在本文中，我将列出 WebPageTest 的 10 个最酷的功能（我自己评的），<del>希望你还没有用过它们</del>。按照钓鱼文的标准套路，本文章节的标号会从 10 开始数。</p>
          <!--noindex-->
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2019/01/30/5-个可以立刻在你的-Ionic-App-中用上的动画包/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/30/5-个可以立刻在你的-Ionic-App-中用上的动画包/" class="post-title-link" itemprop="url">5 个可以立刻在你的 Ionic App 中用上的动画包</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-01-30 18:20:00" itemprop="dateCreated datePublished" datetime="2019-01-30T18:20:00+08:00">2019-01-30</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Translate/" itemprop="url" rel="index"><span itemprop="name">Translate</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p><img src="/images/1.png" alt="1"></p>
<p>使用 Ionic 与 Angular 有许多方法可以让你在你的 app 中制作动画。你可以直接使用 Angular Animations，也可以使用其它的包（仅需几分钟就能装好）来实现动画。</p>
<p>在本文中我们将介绍 <strong>5 个不同的动画包</strong>，可以轻松地将它们引入你的 APP，使用它们预设的动画或者利用这几个框架轻松自定义动画效果。</p>
          <!--noindex-->
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2019/01/23/DNS-over-TLS-端到端加密的 DNS/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/23/DNS-over-TLS-端到端加密的 DNS/" class="post-title-link" itemprop="url">DNS over TLS：端到端加密的 DNS</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-01-23 19:13:00" itemprop="dateCreated datePublished" datetime="2019-01-23T19:13:00+08:00">2019-01-23</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Translate/" itemprop="url" rel="index"><span itemprop="name">Translate</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p><img src="/images/1.jpeg" alt="1"></p>
<p>为了加密互联网流量中未被加密的最后一部分，我们与 <a href="https://www.cloudflare.com/dns/" target="_blank" rel="noopener">Cloudflare DNS</a> 合作进行了一个试点项目。这个试点项目利用安全传输层协议（即 <a href="https://code.fb.com/networking-traffic/deploying-tls-1-3-at-scale-with-fizz-a-performant-open-source-tls-library/" target="_blank" rel="noopener">TLS</a>，一种被广泛应用的、经过时间证明的机制，可用于双方在不安全信道上建立通讯时，为通讯提供身份认证及加密）与 DNS 进行结合。这个 DNS over TLS（DoT）方案能够加密并验证 Web 流量的最后一部分。在 DoT 测试中，人们可以在浏览 Facebook 时使用 Cloudflare DNS 享受完全加密的体验：不仅是在连接 Facebook 时用的 HTTPS 时进行了加密，而且在 DNS 级别，从用户计算机到 Cloudflare DNS、从 Cloudflare DNS 到 Facebook 域名服务器（NAMESERVER）中全程都采用了加密技术。</p>
          <!--noindex-->
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2018/12/15/Translation-of-DVBF/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/15/Translation-of-DVBF/" class="post-title-link" itemprop="url">Translation of 'Deep Variational Bayes Filters Unsupervised Learning of State Space Models from Raw Data'.</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-12-15 22:06:00" itemprop="dateCreated datePublished" datetime="2018-12-15T22:06:00+08:00">2018-12-15</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Paper/" itemprop="url" rel="index"><span itemprop="name">Paper</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><iframe src="https://lsvih.github.io/files/DVBF.pdf" scrolling="no" frameborder="0" align="" height="600px" width="100%"></iframe></p>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2018/11/26/Slide-of-ChineseOTE/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/11/26/Slide-of-ChineseOTE/" class="post-title-link" itemprop="url">Slide of 'Char-BiLSTM-CRF Incorporating POS and Dictionaries for Chinese OTE' used in ACML conference.</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-26 12:29:00" itemprop="dateCreated datePublished" datetime="2018-11-26T12:29:00+08:00">2018-11-26</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Paper/" itemprop="url" rel="index"><span itemprop="name">Paper</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><iframe src="https://lsvih.github.io/workshop/18-11-16/Char-BiLSTM-CRF%20Incorporating%20POS%20and%20Dictionaries%20for%20Chinese%20OTE.html" scrolling="no" frameborder="0" align="" height="600px" width="100%"></iframe></p>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2018/10/30/Slide-of-Algorithms-for-Non-negative-Matrix-Factorization/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/30/Slide-of-Algorithms-for-Non-negative-Matrix-Factorization/" class="post-title-link" itemprop="url">Slide of 'Algorithms for Non-negative Matrix Factorization' used in assignment.</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-10-30 16:00:00" itemprop="dateCreated datePublished" datetime="2018-10-30T16:00:00+08:00">2018-10-30</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Paper/" itemprop="url" rel="index"><span itemprop="name">Paper</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><iframe src="https://lsvih.github.io/workshop/18-10-30/Algorithms%20for%20Non-negative%20Matrix%20Factorization.html" scrolling="no" frameborder="0" align="" height="600px" width="100%"></iframe></p>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2018/10/30/Algorithms for Non-negative Matrix Factorization/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/30/Algorithms for Non-negative Matrix Factorization/" class="post-title-link" itemprop="url">Algorithms for Non-negative Matrix Factorization</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-10-30 03:08:00" itemprop="dateCreated datePublished" datetime="2018-10-30T03:08:00+08:00">2018-10-30</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Paper/" itemprop="url" rel="index"><span itemprop="name">Paper</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>NIPS 2000 经典论文 非负矩阵分解算法 翻译</p>
</blockquote>
<h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>非负矩阵分解（NMF）是一种可以有效处理多变量数据的方法。本文介绍、分析了两种不同的 NMF 算法，这两种算法仅在更新规则（update rule）中使用的乘性因子（multiplicative factor）有所区别。其中一种可以对传统的最小二乘误差进行最小化（minimize），而另一种可以对广义 Kullback-Leibler 散度（KL 散度）进行最小化。可以使用与证明最大化期望算法收敛性类似的辅助函数来证明这两种算法的单调收敛性。这两种算法均可理解为用斜向最陡下降法（diagonally rescaled gradient descent）对因子进行最优化，以保证算法收敛。</p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>PCA、矢量量化（Vector Quantization）等无监督学习算法可以理解为在不同约束条件下对数据矩阵进行分解。根据其约束的不同，分解所得的因子的会表现出大相径庭的性质。比如，PCA 仅使用了弱正交约束，从而得到非常分散的表示，对这些表示使用消去法来产生多样性；矢量量化使用一种严格的全局最优型约束，最终会得到互斥的数据聚类原型。</p>
<p>我们之前已经证明过，在矩阵分解用于学习数据的部分表示中，非负性（non-negative）是一种非常有用的约束。学习得到的非负基向量是分散的，但仍可通过稀疏的组合，在重建时得到效果良好的表达向量。在本文中，我们详细分析了这两种用于在数据中学习最优的非负因子的数值算法。</p>
<h2 id="非负矩阵分解"><a href="#非负矩阵分解" class="headerlink" title="非负矩阵分解"></a>非负矩阵分解</h2><p>下面我们正式开始分析如何用算法解决以下问题：</p>
<p><strong>在非负矩阵分解（NMF）中</strong>，给定非负矩阵V，找到非负矩阵因子W和H，使得：</p>
<script type="math/tex; mode=display">(1):  V\approx WH</script><p>NMF 可以应用下面的方法用于对多变量数据进行统计分析。给定一组多变量的 n 维数据向量，其向量位于一个 $n\times x$ 矩阵 V 的列中（m 表示数据集中的示例数）。然后将此矩阵近似分解为 $n\times r$ 的 W 矩阵与 $r\times m$的 H 矩阵。通常 r 要小于 n 或 m，以使 W 和 H 小于原始矩阵 V。最终得到的是原始数据矩阵的压缩形态。</p>
<p>公式(1)中约等于的意义在于它可以将公式逐列用 $v\approx Wh$ 来表示，其中 v 和 h 是矩阵 V 和矩阵 H 的对应的列。也就是说，每个数据向量 v 近似地由矩阵 W 的各列线性组合而成，同时用 h 的分量进行加权。因此可以被认为 W 包含了对 V 中的数据的线性近似优化的基向量。由于要使用少量的基向量来表示大量的数据向量，因此只有在基向量发现数据中的潜在结构时才能实现较好的近似。</p>
<p>本文不会涉及关于 NMF 的应用，而会侧重于在技术方面探讨非负矩阵分解的技术。当然，已经有许多其它的矩阵分解方式在数值线性代数中得到了广泛的研究，但是以前的大多数工作都不适用于非负性约束情况。</p>
<p>在此，我们讨论了基于迭代更新 W 和 H 的两种 NMF 算法。由于这两种算法易于实现，同时能保证其收敛性，因此它们在现实情况中非常实用。其他算法可能在总计算时间方面更有效率，但是更难实现，并且很难推广到不同的代价函数（cost function）。因子与我们类似的算法，已经被用于对发射断层扫描和天文图像进行反卷积（deconvolution）。</p>
<p>在我们算法的每次迭代中，会用当前值乘某些取决于公式(1)中的“近似程度”的因数，来找到 W 或 H 的新值。我们可以证明“近似程度”会随着不断应用这些乘法更新规则而单调减小。这正意味着更新规则的重复迭代可以保证矩阵分解算法收敛到局部最优。</p>
<h2 id="代价函数"><a href="#代价函数" class="headerlink" title="代价函数"></a>代价函数</h2><p>为了找到$ V\approx WH  $的近似解，我们首先需要定义一个代价函数，用以量化近似的程度。可以使用两个非负矩阵 A 和 B 的距离来构造此代价函数。一种使用的距离度量方法为：计算 A  和 B 之间的欧几里得距离（Euclidean distance）的平方值。</p>
<script type="math/tex; mode=display">(2): ||A-B||^2 = \sum_{ij}(A_{ij} - B_{ij})^2</script><p>此公式下界为 0，仅当 A=B 时距离消失。</p>
<p>另一种实用的度量方式为：</p>
<script type="math/tex; mode=display">(3): D(A||B) = \sum_{ij}(A_{ij} \log{\frac{A_{ij}}{B_{ij}}} - A_{ij}+B_{ij})</script><p>与欧几里得距离相同，它的下界也为 0，且在 A=B 时距离消失。但它不能被称为“距离”，因为这个式子在 A 与 B 中并不对称，因此我们将其称为 A 对于 B 的“散度”（divergence）。它可以归纳为 KL 散度或者相对熵，当 $\sum_{ij}A_{ij}=\sum_{ij}B_{ij}=1$ 时，A 与 B 可以看做是标准化的概率分布。</p>
<p>现在，我们可以按照以下两种公式来将 NMF 化为最优化问题：</p>
<p><strong>最优化问题1</strong>：在约束条件 $W, H \geq 0$ 下，以 W 和 H 作为参数，最小化 $||V - WH||^2$。</p>
<p><strong>最优化问题2</strong>：在约束条件 $W, H \geq 0$ 下，以 W 和 H 作为参数，最小化 $D(V||WH)$。</p>
<p>虽然方程 $||V - WH||^2$ 和 $D(V||WH)$ 在只考虑 W 或 H 之一时为凸，但在同时考虑 WH 两个变量时不为凸。因此，寻找一种可以找到全局最小值的算法去解决以上两个最优化问题是不切实际的。但是，还有许多数值优化方法可以用于寻找局部最小值。</p>
<p>虽然梯度下降法（Gradient descent）的收敛速度很慢，但它的实现最为简单。其它方法（比如共轭梯度法）可以更快地收敛（至少在局部最小值附近会更快），但是它们比梯度下降更复杂。此外，梯度下降方法的收敛对步长的选择非常敏感，这对于大规模应用十分不利。</p>
<h2 id="乘法更新规则"><a href="#乘法更新规则" class="headerlink" title="乘法更新规则"></a>乘法更新规则</h2><p>我们发现在解决上述两个最优化问题时，在速度与实现难度中权衡，“乘法更新规则”是一种综合性能很好方法。</p>
<p><strong>定理1</strong>：欧几里得距离 $||V-WH||$ 在下面的更新规则中呈非增：</p>
<script type="math/tex; mode=display">(4): H_{a\mu} \leftarrow H_{a\mu}\frac{(W^T V)_{a\mu}}{(W^T W H)_{a\mu}}</script><script type="math/tex; mode=display">(4): W_{ia} \leftarrow W_{ia}\frac{(V H^T)_{ia}}{(W H H^T)_{ia}}</script><p>在上述更新规则中，W 与 H 在距离公式的驻点上时，欧几里得距离将固定不动。</p>
<p><strong>定理2</strong>：散度 $D(V|WH)$ 在下面的更新规则中呈非增：</p>
<script type="math/tex; mode=display">(5): H_{a\mu} \leftarrow H_{a\mu}\frac{\frac{\sum_{i}W_{ia}V_{i\mu}}{WH_{i\mu}}}{\sum_k W_{ka}}</script><script type="math/tex; mode=display">(5): W_{ia} \leftarrow W_{ia}\frac{\frac{\sum_{\mu}H_{a\mu}V_{i\mu}}{WH_{i\mu}}}{\sum_v H_{av}}</script><p>在上述更新规则中，W 和 H 在散度公式的驻点上时，散度将不再更新。</p>
<p>上述定理的证明将在后面给出。我们可以发现，每次更新都是乘以一个因子。特别地，当V = WH时，可以直观地看出这个乘数因子是一样的，当更新规则固定时，才会得到完美的分解。</p>
<h2 id="乘法与加法更新规则"><a href="#乘法与加法更新规则" class="headerlink" title="乘法与加法更新规则"></a>乘法与加法更新规则</h2><p>可以将乘法更新与梯度下降更新进行对比。特别的，对 H 进行更新以减小平方距离可以记为：</p>
<script type="math/tex; mode=display">(6):H_{a\mu} \leftarrow H_{a\mu} + \eta_{a\mu}[(W^TV)_{a\mu} - (W^T WH)_{a\mu}]</script><p>如果将 $\eta_{a\mu}$ 设置为较小的正数，上式就和常规的梯度下降等价。只要数字充分小，就能在更新时减小 $||V-WH||$。</p>
<p>如果我们按照斜向最陡调整变量，并设置：</p>
<script type="math/tex; mode=display">(7): \eta_{a\mu}=\frac{H_{a\mu}}{(W^TWH)_{a\mu}}</script><p>就能得到定理 1 中给出的 H 更新规则。注意，该调整可得出乘性因子（分母中的梯度的正分量和因子的分子中的负分量的绝对值）。</p>
<p>对于散度公式，我们按照下述公式调整斜向最陡梯度下降：</p>
<script type="math/tex; mode=display">(8): H_{a\mu} \leftarrow H_{a\mu} + \eta_{a\mu}[\sum_{i}W_{ia}\frac{V_{i\mu}}{(WH)_{i\mu}}-\sum_{i}W_{ia}]</script><p>同样的，如果将 $\eta_{a\mu}$ 设置为较小的正数，上式就和常规的梯度下降等价。只要数字充分小，就能在更新时减小 $D(V||WH)$。如果设置：</p>
<script type="math/tex; mode=display">(9): \eta_{a\mu} = \frac{H_{a\mu}}{\sum_i W_{ia}}</script><p>那么就能得到定理 2 中给出的 H 更新规则。该调整可得出乘性因子（分母中的梯度的正分量和因子的分子中的负分量的绝对值）。</p>
<p>由于我们对 $\eta_{a\mu}$ 的取值并不够小，看起来不能保证这种调整过后的梯度下降的代价函数减小。不过让人惊讶的是，如下节所示，上述假设是事实。</p>
<h2 id="收敛证明"><a href="#收敛证明" class="headerlink" title="收敛证明"></a>收敛证明</h2><p>我们将使用一个类似于 EM 算法的辅助函数来证明定理 1 与定理 2。</p>
<p><strong>定义 1</strong>：$G(h,h’)$ 是 $F(h)$ 的辅助函数，满足以下条件成立：</p>
<script type="math/tex; mode=display">(10): G(h,h')\geq F(h), G(h,h)=F(h)</script><p>根据下面的引理，此辅助函数是一个有用的概念。（在图1中的插图也显示了这一点）</p>
<p><strong>引理 1</strong>：如果 G 为辅助函数，则 F 在下述更新时为非增：</p>
<script type="math/tex; mode=display">(11): h^{t+1} = \arg\min_{h}G(h,h^t)</script><p><strong>证明</strong>：$F(h^{t+1}) \leq G(h^{t+1}, h^t) \leq G(h^t,h^t) = F(h^t)$</p>
<p>请注意，只有在$h^t$为$G(h,h^t)$的全局最小值时满足$F(h^{t+1})=F(h^t)$。如果 F 的导数存在，且在$h^{t}$的邻域连续，也就是说$\nabla F(h^t) = 0 $。因此通过公式11反复更新，我们就能得到目标函数收敛的局部最小值 $h_{min} = \arg\min_h F(h)$</p>
<script type="math/tex; mode=display">(12): F(h_{min}) \leq ... F(h^{t+1})\leq F(h^t) ... \leq F(h_2) \leq F(h_1) \leq F(h_0)</script><p><img src="/images/15408401601646.jpg" alt="-w663"></p>
<p>下面，我们证明如何为$||V-WH||$与$D(V,WH)$定义适当的辅助函数$G(h,h^t)$。定理 1 与定理 2 可以直接遵循公式 11 的更新规则。</p>
<p><strong>引理 2</strong>：如果$K(h^t)$为对角矩阵，</p>
<script type="math/tex; mode=display">(13): K_{ab}(h^t) = \delta_{ab}\frac{W^T Wh^t}{h^t_a}</script><p>则</p>
<script type="math/tex; mode=display">(14): G(h,h^t)=F(h^t)+(h-h^t)^T \nabla F(h^t) + \frac{1}{2}(h-h^t)^T K(h^t)(h-h^t)</script><p>为</p>
<script type="math/tex; mode=display">(15): F(h)=\frac{1}{2} \sum_i(v_i- \sum_a W_{ia} h_a)^2</script><p>的辅助函数。</p>
<p><strong>证明</strong>：因为显然 $G(h,h)=F(h)$，因此只需证明 $G(h,h’) \geq F(h)$。为了证明此不等式，需要将</p>
<script type="math/tex; mode=display">(16): F(h) = F(h^t) + (h-h^t)^T \nabla F(h^t) + \frac{1}{2}(h-h^t)^T(W^TW)(h-h^t)</script><p>与公式 14 进行对比，发现 $G(h,h’) \geq F(h)$ 等价于</p>
<script type="math/tex; mode=display">(17): 0 \leq (h-h^t)^T[K(h^t) - W^TW](h-h^t)</script><p>为证明半正定情况，考虑矩阵：</p>
<script type="math/tex; mode=display">(18): M_{ab}(h^t)=h_a^t(K(h^t)-W^TW)_{ab}h_b^t</script><p>仅是$K-W^TW$的调整形式。因此，仅当 M 符合下列公式时，$K-W^TW$具有半正定性：</p>
<script type="math/tex; mode=display">(19):v^T Mv = \sum_{ab}v_a M_{ab} v_b \\
(20):=\sum_{ab}h^t_a(W^TW)_{ab}h^t_bv_a^2-v_ah^t_a(W^TW)_{ab}h_b^tv_b \\
(21):=\sum_{ab}(W^TW)_{ab}h_a^th_b^t[\frac{1}{2}v_a^2 + \frac{1}{2}v_b^2 - v_av_b] \\
(22):=\frac{1}{2}\sum_{ab}(W^TW)_{ab}h_a^th_b^t(v_a-v_b)^2 \\
(23):\geq 0</script><p>现在，我们可以证明定理 1 的收敛性。</p>
<p><strong>定理 1 证明</strong>：使用公式14的结果替换公式11中的$G(h,h^t)$，得到更新规则：</p>
<script type="math/tex; mode=display">(24): h^{t+1}=h^t - K(h^t)^{-1} \nabla F(h^t)</script><p>因为公式14为辅助函数，根据引理1，F 在更新规则中为非增。将上式完整的写下来，可以得到：</p>
<script type="math/tex; mode=display">(25): h^{t+1}_a= h^{t}_a \frac{(W^Tv)_a}{(W^TWh^t)_a}</script><p>反转引理 1 与引理 2 中 W 和 H 的角色，F 可以以类似的方法证明在 W 的更新规则下为非增。</p>
<p>接下来，我们为散度代价方程寻找辅助函数。</p>
<p><strong>引理 3</strong>：定义</p>
<script type="math/tex; mode=display">(26): G(h,h^t)=\sum_i(v_i \log{v_i} - v_i) + \sum_{ia} W_{ia}h_a \\
(27):-\sum_{ia}v_i\frac{W_{ia}h^t_a}{\sum_b W_{ib} h^t_b} (\log{W_{ia} h_a - \log{\frac{W_{ia}h^t_a}{\sum_b W_{ib} h^t_b}}})</script><p>为</p>
<script type="math/tex; mode=display">(28): F(h)=\sum_i v_i \log(\frac{v_i}{\sum_a W_{ia} h_a})- v_i + \sum_a W_{ia} h_a</script><p>的辅助函数。</p>
<p><strong>证明</strong>：因为显然 $G(h,h)=F(h)$，因此只需证明 $G(h,h’) \geq F(h)$。我们通过对数函数的凸性来推导此不等式：</p>
<script type="math/tex; mode=display">(29): -\log \sum_a W_{ia} h_a \leq -\sum_a a_a \log \frac{ W_{ia} h_a}{a_a}</script><p>上式对所有的联合求合数 $a_a$ 均成立。设</p>
<script type="math/tex; mode=display">(30): a_a =\frac{ W_{ia} h_a}{\sum_b W_{ib} h_b}</script><p>可以得到：</p>
<script type="math/tex; mode=display">(31): -\log \sum_a W_{ia} h_a \leq - \sum_a \frac{ W_{ia} h_a}{\sum_b W_{ib} h_b} (\log W_{ia} h_a - \log\frac{ W_{ia} h_a}{\sum_b W_{ib} h_b} )</script><p>上面的不等式遵循 $G(h,h’) \geq F(h)$。</p>
<p>定理 2 的证明遵循引理 1 及其应用：</p>
<p><strong>定理 2 证明</strong>：要令 $G(h,h^t)$ 最小化，则需要将梯度设为 0 来求出 h：</p>
<script type="math/tex; mode=display">(32): \frac{dG(h,h^t)}{dh_a} = - \sum_i v_i \frac{ W_{ia} h_a^t}{\sum_b W_{ib} h_b^t} \frac{1}{h_a} + \sum_i W_{ia} = 0</script><p>因此，公式 11 采取的更新规则应当如下所示：</p>
<script type="math/tex; mode=display">(33): h_a^{t+1} = \frac{h_a^t}{\sum_b W_{kb}} \sum_i \frac{v_i}{\sum_b W_{ib}h_b^t} W_{ia}</script><p>因为 G 为辅助函数，公式 28 中的 F 在更新规则中为非增。用矩阵形式重写上述公式，发现与 公式 5 的更新规则等价。反转 W 和 H 的角色，可以以类似的方法证明 F 在 W 的更新规则下为非增。</p>
<h2 id="讨论"><a href="#讨论" class="headerlink" title="讨论"></a>讨论</h2><p>我们已经证明了在公式 4 与公式 5 中应用更新规则，可以找到问题 1 与问题 2 的局部最优解。借助定义合适的辅助函数证明了函数的收敛性。我们将把这些证明推广到更复杂的约束条件下去。更新规则在计算上非常容易实现，有望进行广泛的应用。</p>
<p>感谢贝尔实验室的支持，以及 Carlos Brody, Ken Clarkson, Corinna Cortes, Roland Freund, Linda Kaufman, Yann Le Cun, Sam Roweis, Larry Saul, Margaret Wright 的帮助与讨论。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2018/10/29/关键词规则生成/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/10/29/关键词规则生成/" class="post-title-link" itemprop="url">关键词规则生成</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-10-29 11:25:00" itemprop="dateCreated datePublished" datetime="2018-10-29T11:25:00+08:00">2018-10-29</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>提取关键词将得到一系列的词库，要将这些词应用于文本筛查、分类则必须要对这些词进行拆分、组合，形成特定的规则，再应用这些规则对文本进行匹配，得到某文本所对应的模式。</p>
<p>要生成规则，即需要从系列关键词通过某些算法找出在不同样本文本下关键词的共有特征（或规律），再对多种特征（或规律）进行组合得到某种策略，最终通过策略对目标文本进行判定。因此关键词规则生成可以总结为以下几个主要步骤：</p>
<ol>
<li>关键词特征或规律查找</li>
<li>策略生成</li>
<li>策略优化与化简</li>
</ol>
<p>对于关键词特征与规律的查找，可以视为机器学习中的分类问题的反向过程。分类问题简要来说即给定标注样本，通过特征训练，得到一个可适用于同类样本的分类策略。常用的分类方法包括决策树、SVM、神经网络等方法。</p>
<p>决策树算法是常用的数据分类算法。决策树算法具有以下优点：</p>
<ol>
<li>决策树算法中学习简单的决策规则建立决策树模型的过程非常容易理解</li>
<li>决策树模型可以可视化，非常直观</li>
<li>应用范围广，可用于分类和回归，而且非常容易做多类别的分类</li>
<li>能够处理数值型和连续的样本特征</li>
</ol>
<p>由于它生成分类策略的可解释性，以及树状结构的可编辑性，在本步骤中可选用决策树算法作为样本分类策略。</p>
<p>下图为对某样本文本进行决策树（CART）生成的分类器策略可视化图像：</p>
<p><img src="/images/15407837052758.jpg" alt="-w889"></p>
<p>可以从图片中看出，决策树算法根据样本标注训练而成了对应的基于关键词的文本分类器。此分类器策略为清晰的树状结构，每个节点代表一个判断条件，每个树杈代表一个条件分支。为了得到在特定计算性能高、可解释性更好的策略，需要对其进行进一步的策略挖掘及精简。</p>
<p>由于决策树得到的策略为树状结构，因此在这种结构上的进一步策略挖掘可选用盲目搜索算法；又由于此模型为树状结构，最终分类落于叶子节点中，故采用深度优先搜索（DFS）对此树的路径进行检索，进一步优化策略。</p>
<p>在决策树得到的规则通过深度优先搜索之后，会得到一系列的组别，每个组别中包含各个关键词的“与”和“或”两种逻辑关系。在目标文本中使用时，即可通过这些逻辑关系的匹配找出对应的模式。</p>
<p>但由于决策树得到的策略叶子节点通常较多（如上图所示），通过深度优先搜索得到的策略也非常繁杂，最终生成得到的规则也会非常复杂，因此还可以进行进一步的策略化简。</p>
<p>在此步骤中，实质上是对多个逻辑代数运算及逻辑代数复合运算组合而成的逻辑函数进行化简。逻辑函数的化简方法一般有如下三种：</p>
<ol>
<li>公式化简法</li>
<li>卡诺图法</li>
<li>Q-M 法</li>
</ol>
<p>由于在此步骤实际应用时逻辑规则较为繁杂，且“与”—“或”逻辑对较多，比起公式化简法或卡诺图法，Q-M 算法在选取出可以覆盖逻辑规则真值的最小质蕴涵项时更能发挥优势。</p>
<p>最终，通过决策树算法生成树、对决策树进行深度优先搜索得到包含“与”、“或”的分类逻辑、对分类逻辑应用 Q-M 算法，最终得到了包含“与”、“或”、“非”三种逻辑关系的可解释性强、精简的规则。</p>
<h2 id="决策树"><a href="#决策树" class="headerlink" title="决策树"></a>决策树</h2><p>决策树是一个树结构，其每个非叶节点表示一个特征属性上的测试，每个分支代表这个特征属性在某个值域上的输出，而每个叶节点存放一个类别。运用决策树进行决策的过程就是从根节点开始，测试待分类项中相应的特征属性，并按照其值选择输出分支，直到到达叶子节点，将叶子节点存放的类别作为决策结果。</p>
<p>决策树算法是一种逼近离散函数值的方法。它是一种典型的分类方法，首先对数据进行处理，利用归纳算法生成可读的规则和决策树，然后使用决策对新数据进行分析。本质上决策树算法是通过一系列规则对数据进行分类的过程。</p>
<p>决策树算法构造决策树来发现数据中蕴涵的分类规则．如何构造精度高、规模小的决策树是决策树算法的核心内容。决策树构造可以分两步进行：</p>
<p>第一步，决策树的生成：由训练样本集生成决策树的过程。一般情况下，训练样本数据集是根据实际需要有历史的、有一定综合程度的，用于数据分析处理的数据集。</p>
<p>第二步，决策树的剪枝：决策树的剪枝是对上一阶段生成的决策树进行检验、校正和修下的过程，主要是用新的样本数据集（称为测试数据集）中的数据校验决策树生成过程中产生的初步规则，将那些影响预衡准确性的分枝剪除。</p>
<p>在第一步决策树的生成中，需要确定树杈的分裂属性（即在多个自变量中，优先选择哪个自变量进行分叉）。而采用何种计算方式选择树杈决定了决策树算法的类型，典型的分裂属性的选择的方法有 ID3 算法、C4.5 算法、CART 算法三种，三种决策树算法选择树杈的方式是不一样的。</p>
<h3 id="ID3-算法"><a href="#ID3-算法" class="headerlink" title="ID3 算法"></a>ID3 算法</h3><p>ID3 算法是目前决策树算法中较有影响力的算法，于 1986 年由 Quinlan 提出。该算法只是一个启发式算法。ID3 算法的核心是判断测试哪个属性为最佳的分类属性。ID3 算法选择分裂后信息增益最大的属性进行分裂，以信息增益度量属性选择。ID3 算法中常用到的两个概念是熵和信息增益。</p>
<p>熵是刻画任意样本例集的纯度，如果目标属性具有 m 个不同的值，那么 D 相对于 m 这个状态的分类的熵定义为：</p>
<script type="math/tex; mode=display">\text{inf}\ o(D) = -\sum^m_{i=1}p_i \log_2 (P_i)</script><p>其中 Pi 表示 Pi 是 m 类别的比例。</p>
<p>一个属性的信息增益就是由于使用这个属性分割样例而导致的期望熵降低，更精确来讲，一个属性A相对样本例集合S的信息增益 Gain(S，A) 被定义为：</p>
<script type="math/tex; mode=display">gain(A) = info(D) - infoA(D)</script><p>A 对 D 划分的期望信息为：</p>
<script type="math/tex; mode=display">\text{inf}\ o_A(D) = \sum^v_{j=1} \frac{|D_j|}{|D|} \text{inf}\ o(D_j)</script><p>ID3 算法不足之处是只能处理离散型数据，信息增益的选择分裂属性的方式会偏向选择具有大量值得属性。</p>
<h3 id="C4-5-算法"><a href="#C4-5-算法" class="headerlink" title="C4.5 算法"></a>C4.5 算法</h3><p>ID3 算法在实际应用中存在一些问题，于是 Quilan 在保留 ID3 算法优点基础上提出了 C4.5 算法，C4.5 算法只是 ID3 算法的改进算法。C4.5 算法采用最大信息增益率的属性被选为分裂属性。C4.5 算法中用到了“分裂信息”这一概念，该概念可以表示为：</p>
<script type="math/tex; mode=display">split\_ \text{inf}\ o_A(D) = -\sum^v_{j=1} \frac{|D_j|}{|D|} \log_2\frac{|D_j|}{|D|}</script><p>信息增益率的定义是：</p>
<script type="math/tex; mode=display">gain\_ratio(A) = \frac{gainA}{split\_\text{inf}\ o(A)}</script><p>C4.5 算法是对 ID3 算法的一种改进，改进后可以计算连续型属性的值。对于连续型属性的值，只需将连续型变量由小到大递增排序，取相邻连个值的中点作为分裂点，然后按照离散型变量计算信息增益的方法计算信息增益，取其中最大的信息增益作为最终的分裂点。</p>
<p>C4.5 算法继承了 ID3 算法的优点，并在以下几方面对 ID3 算法进行了改进：</p>
<ul>
<li><p>用信息增益率来选择属性，克服了用信息增益选择属性时偏向选择取值多的属性的不足；</p>
</li>
<li><p>在树构造过程中进行剪枝；</p>
</li>
<li><p>能够完成对连续属性的离散化处理；能够对不完整的数据进行处理。</p>
</li>
</ul>
<h3 id="CART-算法"><a href="#CART-算法" class="headerlink" title="CART 算法"></a>CART 算法</h3><p>CART 算法选择分裂属性的方式首先要计算不纯度，然后利用不纯度计算 Gini 指标，然后计算有效子集的不纯度和 Gini 指标，选择最小的 Gini 指标作为分裂属性。</p>
<script type="math/tex; mode=display">Gini(D) = 1 - \sum^n_{i=0}(\frac{Di}{D})^2</script><script type="math/tex; mode=display">Gini(D|A) = \sum^n_{i=0} \frac{Di}{D} Gini(D i)</script><p>由于 CART 算法在处理离散数据上具有优势，因此对于关键词规则的生成可选用此方法生成决策树。</p>
<h2 id="深度优先搜索算法"><a href="#深度优先搜索算法" class="headerlink" title="深度优先搜索算法"></a>深度优先搜索算法</h2><p>搜索算法可分为盲目搜索算法和启发式搜索算法两种，二者的区别在于：启发式搜索算法的每一步都试图向着目标状态方向进行搜索，而盲目搜索算法则是每一步按照固定的规则进行搜索，然后判断是否达到目标状态。相比之下，启发式搜索算法克服了盲目搜索算法的盲目性问题。</p>
<p>虽然启发式搜索算法可以解决盲目搜索算法的盲搜索问题，但是在实际问题求解中，缺少一些必要的信息来构建启发式搜索算法，此时采用盲目搜索算法仍然是解决问题的有效手段。盲目搜索算法有两种：一种按照广度优先展开搜索树的搜索算法，叫广度优先搜索法；另一种则是按照深度优先展开搜索的搜索算法，叫深度优先搜索法算法。</p>
<p>深度优先搜索算法是优先扩展尚未扩展的且具有最大深度的节点；广度优先搜索法是在扩展完第 K 层的节点后才扩展 K+1 层的节点。在此应用深度优先搜索算法。</p>
<p>假设初始状态是图中所有顶点未曾被访问，从图中某个顶点 i 出发，访问此顶点，然后依次从 i 的未被访问的邻接点出发深度优先遍历图，直至图中所有和 i 有路径的顶点都被访问为止。若此时图中尚有顶点未被访问，则另选图中未曾访问的顶点为起始点，重复上述过程，直至图中所有顶点都被访问为止。在节点遍历过程中，应该注意节点的回溯搜索以及避免节点被重复搜索。</p>
<p>在搜索过程中，如何避免被搜过的节点不被重复搜索以及节点的回溯是主要难点。根据关联矩阵以及深度优先搜索算法，从节点 i 搜索出节点 j，如果节点 j 已经被搜索过，那么修改关联矩阵中对应节点 i 和节点 j 的元素为 0，并返回节点 i 重新搜索与之相联的另一节点。当节点 j 是该条树枝的最后一个节点时，修改关联矩阵中相应的元素，并且返回节点 i 重新搜索与之相连的另一树枝。依此类推，直至遍历所有节点，也就是关联矩阵的所有元素都变为 0 时，停止搜索。在遍历各节点的同时，根据节点的先后顺序以及树枝集合，合理地安排各节点坐标。其搜索过程逻辑如下图所示：</p>
<p><img src="/images/15407837517781.jpg" alt="-w241"></p>
<h2 id="Q-M-算法"><a href="#Q-M-算法" class="headerlink" title="Q-M 算法"></a>Q-M 算法</h2><p>在得到只包含“与”、“或”的逻辑函数之后，可对逻辑进行更进一步的简化与合并，并加上“非”逻辑来使得逻辑函数更具解释性。</p>
<p>下图为一个简单逻辑函数的卡诺图，101 项被覆盖了 3 次，明显可对函数进行化简。</p>
<p><img src="/images/15407837648773.jpg" alt="-w386"></p>
<p>Q-M 算法是由 Quine 和 Mccluskey 提出的一种系统列表化简法。这种化简方法和卡诺图化简法的基本思想大致相同, 是通过找出函数 F 的全部质蕴涵项、必要质蕴涵项以及最简质蕴涵项集来求得最简表达式。</p>
<p>下面为蕴含项与质蕴涵项的定义：</p>
<p>蕴涵项：在函数的“与”—“或”表达式中，每个“与”项被称为该函数的蕴涵项。显然在函数卡诺图中，任何一个  1 方格所对应的最小项或者卡诺圈中的 $2^n$ 个 1 方格所对应的“与”项都是函数的蕴涵项。</p>
<p>质蕴涵项：若函数的一个蕴涵项不是该函数中其它蕴涵项的子集，则此蕴涵项称为质蕴涵项，简称为质项。显然在函数卡诺图中，按照最小项合并规律，如果某个卡诺圈不可能被其它更大的卡诺圈包含，那么该卡诺圈所对应的“与”项为质蕴涵项。</p>
<p>必要质蕴涵项：若函数的一个质蕴涵项所包含的某一个最小项不被函数的其它任何质蕴涵项包含，则此质蕴涵项被称为必要质蕴涵项，简称为必要质项。在函数卡诺图中，若某个卡诺圈包含了不可能被任何其它卡诺圈包含的 1 方格，那么该卡诺圈所对应的“与”项为必要质蕴涵项。</p>
<p>一般的化简步骤是：  </p>
<p>第一步：将函数表示成“最小项之和”形式，并用二进制码表示每—个最小项。</p>
<p>第二步：找出函数的全部质蕴涵项。先将 n 个变量函数中的相邻最小项合并，消去相异的—个变量，得到 (n-1) 个变量的“与”项，再将相邻的 (n-1) 个变量的“与”项合并，消去相异的变量，得到 (n-2) 个变量的“与”项。依此类推，直到不能再合并为止。所得到的全部不能再合并的“与”项（包括不能合并的最小项），即所要求的全部质蕴涵项。</p>
<p>第三步：找出函数的必要质蕴涵项。 </p>
<p>第四步：找出函数的最小覆盖。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2018/08/28/Python-的多线程与多进程/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/08/28/Python-的多线程与多进程/" class="post-title-link" itemprop="url">Python 的多线程与多进程</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-08-28 15:04:00" itemprop="dateCreated datePublished" datetime="2018-08-28T15:04:00+08:00">2018-08-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Translate/" itemprop="url" rel="index"><span itemprop="name">Translate</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="初学者的并行编程指南"><a href="#初学者的并行编程指南" class="headerlink" title="初学者的并行编程指南"></a>初学者的并行编程指南</h2><p><img src="/images/pasted-322.png" alt="upload successful"></p>
<p>在参加 Kaggle 的 <a href="https://www.kaggle.com/c/planet-understanding-the-amazon-from-space" target="_blank" rel="noopener">Understanding the Amazon from Space</a> 比赛时，我试图对自己代码的各个部分进行加速。速度在 Kaggle 比赛中至关重要。高排名常常需要尝试数百种模型结构与超参组合，能在一个持续一分钟的 epoch 中省出 10 秒都是一个巨大的胜利。</p>
<p>让我吃惊的是，数据处理是最大的瓶颈。我用了 Numpy 的矩阵旋转、矩阵翻转、缩放及裁切等操作，在 CPU 上进行运算。Numpy 和 Pytorch 的 DataLoader 在某些情况中使用了并行处理。我同时会运行 3 到 5 个实验，每个实验都各自进行数据处理。但这种处理方式看起来效率不高，我希望知道我是否能用并行处理来加快所有实验的运行速度。</p>
          <!--noindex-->
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://lsvih.com/2018/07/23/使用-PhpFastCache-提升网站性能/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="lsvih">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My note">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/07/23/使用-PhpFastCache-提升网站性能/" class="post-title-link" itemprop="url">使用 PhpFastCache 提升网站性能</a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-07-23 02:48:00" itemprop="dateCreated datePublished" datetime="2018-07-23T02:48:00+08:00">2018-07-23</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/Translate/" itemprop="url" rel="index"><span itemprop="name">Translate</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本文将与你一同探索 PhpFastCache 库，来为你的 PHP 应用实现缓存功能。通过缓存功能，能够提升网站的整体性能与页面加载速度。</p>
<h2 id="什么是-PhpFastCache？"><a href="#什么是-PhpFastCache？" class="headerlink" title="什么是 PhpFastCache？"></a>什么是 PhpFastCache？</h2><p>PhpFastCache 是一个能让你轻松在 PHP 应用中实现缓存功能的库。它的功能强大，且简单易用，提供了一些 API 以无痛实现缓存策略。</p>
<p>PhpFastCache 不是一个纯粹的传统文件系统式缓存。它支持各种各样的文件适配器（Files Adapter），可以让你选择 Memcache、Redis、MongoDB、CouchDB 等高性能的后端服务。</p>
<p>让我们先总览一遍最流行的适配器：</p>
<ul>
<li>文件系统</li>
<li>Memcache、Redis 和 APC</li>
<li>CouchDB 和 MongoDB</li>
<li>Zend Disk Cache 和 Zend Memory Cache</li>
</ul>
<p>如果你用的文件适配器不在上面的列表中，也可以简单地开发一个自定义驱动，插入到系统中，同样也能高效地运行。</p>
<p>除了基本功能外，PhpFastCache 还提供了事件机制，可以让你对预定义好的事件进行响应。例如，当某个事物从缓存中被删除时，你可以接收到这个事件，并去刷新或删除相关的数据。</p>
<p>在下面的章节中，我们将通过一些示例来了解如何安装及配置 PhpFastCache。</p>
<h2 id="安装与配置"><a href="#安装与配置" class="headerlink" title="安装与配置"></a>安装与配置</h2><p>在本节中，我们将了解如何安装及配置 PhpFastCache。下面是几种将它集成进项目的方法。</p>
<p>如果你嫌麻烦，仅准备下载这个库的 <strong>.zip</strong> 或者 <strong>.tar.gz</strong> 文件，可以去<a href="https://www.phpfastcache.com/" target="_blank" rel="noopener">官方网站</a>直接下载。</p>
<p>或者你也可以用 Composer 包的方式来安装它。这种方式更好，因为在之后的维护和升级时会更方便。如果你还没有安装 Composer，需要先去安装它。</p>
<p>当你安装好 Composer 之后，可以用以下命令下载 PhpFastCache：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$composer</span> require phpfastcache/phpfastcache</span><br></pre></td></tr></table></figure>
<p>命令完成后，你会得到一个 vendor 目录，在此目录中包括了全部 PhpFastCache 所需的文件。另外，如果你缺失了 PhpFastCache 依赖的库或插件，Composer 会提醒你先去安装依赖。</p>
<p>你需要找到 <code>composer.json</code> 文件，它类似于下面这样：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"require"</span>: &#123;</span><br><span class="line">        <span class="attr">"phpfastcache/phpfastcache"</span>: <span class="string">"^6.1"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>无论你通过什么方式来安装的 PhpFastCache，都要在应用中 include <strong>autoload.php</strong> 文件。</p>
<p>如果你用的是基于 Composer 的工作流，<strong>autoload.php</strong> 文件会在 <strong>vendor</strong> 目录中。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Include composer autoloader</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'&#123;YOUR_APP_PATH&#125;/vendor/autoload.php'</span>;</span><br></pre></td></tr></table></figure>
<p>另外，如果你是直接下载的 <strong>.zip</strong> 和 <strong>.tar.gz</strong>，<strong>autoload.php</strong> 的路径会在 <strong>src/autoload.php</strong>。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Include autoloader</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'&#123;YOUR_APP_PATH&#125;/src/autoload.php'</span>;</span><br></pre></td></tr></table></figure>
<p>只要完成上面的操作，就能开始进行缓存，享受 PhpFastCache 带来的好处了。在下一章节中，我们将以一个简单的示例来介绍如何在你的应用中使用 PhpFastCache。</p>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>前面我提到过，PhpFastCache 支持多种文件适配器进行缓存。在本节中，我会以文件系统和 Redis 这两种文件适配器为例进行介绍。</p>
<h3 id="使用文件适配器进行缓存"><a href="#使用文件适配器进行缓存" class="headerlink" title="使用文件适配器进行缓存"></a>使用文件适配器进行缓存</h3><p>创建 <strong>file_cache_example.php</strong> 文件并写入下面的代码。在此我假设你使用的是 Composer workflow，因此 <strong>vendor</strong> 目录会与 <strong>file_cache_example.php</strong> 文件同级。如果你是手动安装的 PhpFastCache，需要根据实际情况修改文件结构。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * file_cache_example.php</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Demonstrates usage of phpFastCache with "file system" adapter</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Include composer autoloader</span></span><br><span class="line"><span class="keyword">require</span> <span class="keyword">__DIR__</span> . <span class="string">'/vendor/autoload.php'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">use</span> <span class="title">phpFastCache</span>\<span class="title">CacheManager</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Init default configuration for "files" adapter</span></span><br><span class="line">CacheManager::setDefaultConfig([</span><br><span class="line">  <span class="string">"path"</span> =&gt; <span class="keyword">__DIR__</span> . <span class="string">"/cache"</span></span><br><span class="line">]);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Get instance of files cache</span></span><br><span class="line">$objFilesCache = CacheManager::getInstance(<span class="string">'files'</span>);</span><br><span class="line"> </span><br><span class="line">$key = <span class="string">"welcome_message"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Try to fetch cached item with "welcome_message" key</span></span><br><span class="line">$CachedString = $objFilesCache-&gt;getItem($key);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (is_null($CachedString-&gt;get()))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// The cached entry doesn't exist</span></span><br><span class="line">    $numberOfSeconds = <span class="number">60</span>;</span><br><span class="line">    $CachedString-&gt;set(<span class="string">"This website uses PhpFastCache!"</span>)-&gt;expiresAfter($numberOfSeconds);</span><br><span class="line">    $objFilesCache-&gt;save($CachedString);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Not in cache yet, we set it in cache and try to get it from cache!&lt;/br&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"The value of welcome_message:"</span> . $CachedString-&gt;get();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// The cached entry exists</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Already in cache!&lt;/br&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"The value of welcome_message:"</span> . $CachedString-&gt;get();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>现在，我们一块一块地来理解代码。首先看到的是将 <strong>autoload.php</strong> 文件引入，然后导入要用到的 namespace：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Include composer autoloader</span></span><br><span class="line"><span class="keyword">require</span> <span class="keyword">__DIR__</span> . <span class="string">'/vendor/autoload.php'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">use</span> <span class="title">phpFastCache</span>\<span class="title">CacheManager</span>;</span><br></pre></td></tr></table></figure>
<p>当你使用文件缓存的时候，最好提供一个目录路径来存放缓存系统生成的文件。下面的代码就是做的这件事：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Init default configuration for "files" adapter</span></span><br><span class="line">CacheManager::setDefaultConfig([</span><br><span class="line">  <span class="string">"path"</span> =&gt; <span class="keyword">__DIR__</span> . <span class="string">"/cache"</span></span><br><span class="line">]);</span><br></pre></td></tr></table></figure>
<p>当然，你需要确保 <strong>cache</strong> 目录存在且 web server 有写入权限。</p>
<p>接下来，我们将缓存对象实例化，用 <strong>welcome_message</strong> 加载对应的缓存对象。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Get instance of files cache</span></span><br><span class="line">$objFilesCache = CacheManager::getInstance(<span class="string">'files'</span>);</span><br><span class="line"> </span><br><span class="line">$key = <span class="string">"welcome_message"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Try to fetch cached item with "welcome_message" key</span></span><br><span class="line">$CachedString = $objFilesCache-&gt;getItem($key);</span><br></pre></td></tr></table></figure>
<p>如果缓存中不存在此对象，就将它以 60s 过期时间加入缓存，并从缓存中读取与展示它。如果它存在于缓存中，则直接获取：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (is_null($CachedString-&gt;get()))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// The cached entry doesn't exist</span></span><br><span class="line">    $numberOfSeconds = <span class="number">60</span>;</span><br><span class="line">    $CachedString-&gt;set(<span class="string">"This website uses PhpFastCache!"</span>)-&gt;expiresAfter($numberOfSeconds);</span><br><span class="line">    $objFilesCache-&gt;save($CachedString);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Not in cache yet, we set it in cache and try to get it from cache!&lt;/br&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"The value of welcome_message:"</span> . $CachedString-&gt;get();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// The cached entry exists</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Already in cache!&lt;/br&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"The value of welcome_message:"</span> . $CachedString-&gt;get();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>非常容易上手对吧！你可以试着自己去运行一下这个程序来查看结果。</p>
<p>当你第一次运行这个程序时，应该会看到以下输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Not in cache yet, we set it in cache and try to get it from cache!</span><br><span class="line">The value of welcome_message: This website uses PhpFastCache!</span><br></pre></td></tr></table></figure>
<p>之后再运行的时候，输出会是这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Already in cache!</span><br><span class="line">The value of welcome_message: This website uses PhpFastCache!</span><br></pre></td></tr></table></figure>
<p>现在就能随手实现文件系统缓存了。在下一章节中，我们将模仿这个例子来使用 Redis Adapter 实现缓存。</p>
<h3 id="使用-Redis-Adapter-进行缓存"><a href="#使用-Redis-Adapter-进行缓存" class="headerlink" title="使用 Redis Adapter 进行缓存"></a>使用 Redis Adapter 进行缓存</h3><p>假定你在阅读本节前已经安装好了 Redis 服务，并让它运行在 6379 默认端口上。</p>
<p>下面进行配置。创建 <strong>redis_cache_example.php</strong> 文件并写入以下代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * redis_cache_example.php</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Demonstrates usage of phpFastCache with "redis" adapter</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Make sure php-redis extension is installed along with Redis server.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Include composer autoloader</span></span><br><span class="line"><span class="keyword">require</span> <span class="keyword">__DIR__</span> . <span class="string">'/vendor/autoload.php'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">use</span> <span class="title">phpFastCache</span>\<span class="title">CacheManager</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Init default configuration for "redis" adapter</span></span><br><span class="line">CacheManager::setDefaultConfig([</span><br><span class="line">  <span class="string">"host"</span> =&gt; <span class="string">'127.0.0.1'</span>,</span><br><span class="line">  <span class="string">"port"</span> =&gt; <span class="number">6379</span></span><br><span class="line">]);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Get instance of files cache</span></span><br><span class="line">$objRedisCache = CacheManager::getInstance(<span class="string">'redis'</span>);</span><br><span class="line"> </span><br><span class="line">$key = <span class="string">"welcome_message"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Try to fetch cached item with "welcome_message" key</span></span><br><span class="line">$CachedString = $objRedisCache-&gt;getItem($key);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (is_null($CachedString-&gt;get()))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// The cached entry doesn't exist</span></span><br><span class="line">    $numberOfSeconds = <span class="number">60</span>;</span><br><span class="line">    $CachedString-&gt;set(<span class="string">"This website uses PhpFastCache!"</span>)-&gt;expiresAfter($numberOfSeconds);</span><br><span class="line">    $objRedisCache-&gt;save($CachedString);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Not in cache yet, we set it in cache and try to get it from cache!&lt;/br&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"The value of welcome_message:"</span> . $CachedString-&gt;get();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// The cached entry exists</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"Already in cache!&lt;/br&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"The value of welcome_message:"</span> . $CachedString-&gt;get();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如你所见，除了初始化 Redis 适配器的配置一段之外，这个文件与之前基本一样。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Init default configuration for "redis" adapter</span></span><br><span class="line">CacheManager::setDefaultConfig([</span><br><span class="line">  <span class="string">"host"</span> =&gt; <span class="string">'127.0.0.1'</span>,</span><br><span class="line">  <span class="string">"port"</span> =&gt; <span class="number">6379</span></span><br><span class="line">]);</span><br></pre></td></tr></table></figure>
<p>当然如果你要在非本机运行 Redis 服务，需要根据需求修改 host 与 port 的设置。</p>
<p>运行 <strong>redis_cache_example.php</strong> 文件来查看它的工作原理。你也可以在 Redis CLI 中查看输出。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; KEYS *</span><br><span class="line">1) &quot;welcome_message&quot;</span><br></pre></td></tr></table></figure>
<p>以上就是使用 Redis 适配器的全部内容。你可以去多试试其它不同的适配器和配置！</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本文简单介绍了 PhpFastCache 这个 PHP 中非常热门的库。在文章前半部分，我们讨论了它的基本知识以及安装和配置。在文章后半部分，我们通过几个例子来详细演示了前面提到的概念。</p>
<p>希望你喜欢这篇文章，并将 PhpFastCache 集成到你即将开发的项目中。随时欢迎提问和讨论！</p>
<blockquote>
<p>掘金：<a href="https://juejin.im/post/5b54d01be51d4517c5649965" target="_blank" rel="noopener">https://juejin.im/post/5b54d01be51d4517c5649965</a></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">lsvih</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">142</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">9</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">171</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/lsvih" title="GitHub &rarr; https://github.com/lsvih" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:lsvih@qq.com" title="E-Mail &rarr; mailto:lsvih@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lsvih</span>

  

  
</div>






  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v6.7.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  



  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/reading_progress/reading_progress.js"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.7.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.7.0"></script>



  

  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  



  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=6.7.0"></script>



  

  

  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
  

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      
      equationNumbers: {
        autoNumber: "AMS"
      }
    }
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
      for (i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>
<script src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

<style>
.MathJax_Display {
  overflow: auto hidden;
}
</style>

    
  


  

  

  

  

  

  

  

  

</body>
</html>
